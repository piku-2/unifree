function Ky(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function nm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mi(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Pu={exports:{}},ki={},Ru={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function Gy(){if(jh)return Ae;jh=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function j(C,M,we){this.props=C,this.context=M,this.refs=S,this.updater=we||x}j.prototype.isReactComponent={},j.prototype.setState=function(C,M){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,M,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function N(){}N.prototype=j.prototype;function A(C,M,we){this.props=C,this.context=M,this.refs=S,this.updater=we||x}var P=A.prototype=new N;P.constructor=A,b(P,j.prototype),P.isPureReactComponent=!0;var z=Array.isArray,U=Object.prototype.hasOwnProperty,K={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function ae(C,M,we){var _e,Te={},Oe=null,Ee=null;if(M!=null)for(_e in M.ref!==void 0&&(Ee=M.ref),M.key!==void 0&&(Oe=""+M.key),M)U.call(M,_e)&&!G.hasOwnProperty(_e)&&(Te[_e]=M[_e]);var be=arguments.length-2;if(be===1)Te.children=we;else if(1<be){for(var Ce=Array(be),Ue=0;Ue<be;Ue++)Ce[Ue]=arguments[Ue+2];Te.children=Ce}if(C&&C.defaultProps)for(_e in be=C.defaultProps,be)Te[_e]===void 0&&(Te[_e]=be[_e]);return{$$typeof:t,type:C,key:Oe,ref:Ee,props:Te,_owner:K.current}}function de(C,M){return{$$typeof:t,type:C.type,key:M,ref:C.ref,props:C.props,_owner:C._owner}}function Ne(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function ke(C){var M={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(we){return M[we]})}var he=/\/+/g;function pe(C,M){return typeof C=="object"&&C!==null&&C.key!=null?ke(""+C.key):M.toString(36)}function Se(C,M,we,_e,Te){var Oe=typeof C;(Oe==="undefined"||Oe==="boolean")&&(C=null);var Ee=!1;if(C===null)Ee=!0;else switch(Oe){case"string":case"number":Ee=!0;break;case"object":switch(C.$$typeof){case t:case e:Ee=!0}}if(Ee)return Ee=C,Te=Te(Ee),C=_e===""?"."+pe(Ee,0):_e,z(Te)?(we="",C!=null&&(we=C.replace(he,"$&/")+"/"),Se(Te,M,we,"",function(Ue){return Ue})):Te!=null&&(Ne(Te)&&(Te=de(Te,we+(!Te.key||Ee&&Ee.key===Te.key?"":(""+Te.key).replace(he,"$&/")+"/")+C)),M.push(Te)),1;if(Ee=0,_e=_e===""?".":_e+":",z(C))for(var be=0;be<C.length;be++){Oe=C[be];var Ce=_e+pe(Oe,be);Ee+=Se(Oe,M,we,Ce,Te)}else if(Ce=_(C),typeof Ce=="function")for(C=Ce.call(C),be=0;!(Oe=C.next()).done;)Oe=Oe.value,Ce=_e+pe(Oe,be++),Ee+=Se(Oe,M,we,Ce,Te);else if(Oe==="object")throw M=String(C),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Pe(C,M,we){if(C==null)return C;var _e=[],Te=0;return Se(C,_e,"","",function(Oe){return M.call(we,Oe,Te++)}),_e}function Re(C){if(C._status===-1){var M=C._result;M=M(),M.then(function(we){(C._status===0||C._status===-1)&&(C._status=1,C._result=we)},function(we){(C._status===0||C._status===-1)&&(C._status=2,C._result=we)}),C._status===-1&&(C._status=0,C._result=M)}if(C._status===1)return C._result.default;throw C._result}var je={current:null},H={transition:null},ee={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:H,ReactCurrentOwner:K};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Pe,forEach:function(C,M,we){Pe(C,function(){M.apply(this,arguments)},we)},count:function(C){var M=0;return Pe(C,function(){M++}),M},toArray:function(C){return Pe(C,function(M){return M})||[]},only:function(C){if(!Ne(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ae.Component=j,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=A,Ae.StrictMode=i,Ae.Suspense=h,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ae.act=Q,Ae.cloneElement=function(C,M,we){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var _e=b({},C.props),Te=C.key,Oe=C.ref,Ee=C._owner;if(M!=null){if(M.ref!==void 0&&(Oe=M.ref,Ee=K.current),M.key!==void 0&&(Te=""+M.key),C.type&&C.type.defaultProps)var be=C.type.defaultProps;for(Ce in M)U.call(M,Ce)&&!G.hasOwnProperty(Ce)&&(_e[Ce]=M[Ce]===void 0&&be!==void 0?be[Ce]:M[Ce])}var Ce=arguments.length-2;if(Ce===1)_e.children=we;else if(1<Ce){be=Array(Ce);for(var Ue=0;Ue<Ce;Ue++)be[Ue]=arguments[Ue+2];_e.children=be}return{$$typeof:t,type:C.type,key:Te,ref:Oe,props:_e,_owner:Ee}},Ae.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},Ae.createElement=ae,Ae.createFactory=function(C){var M=ae.bind(null,C);return M.type=C,M},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(C){return{$$typeof:f,render:C}},Ae.isValidElement=Ne,Ae.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:Re}},Ae.memo=function(C,M){return{$$typeof:m,type:C,compare:M===void 0?null:M}},Ae.startTransition=function(C){var M=H.transition;H.transition={};try{C()}finally{H.transition=M}},Ae.unstable_act=Q,Ae.useCallback=function(C,M){return je.current.useCallback(C,M)},Ae.useContext=function(C){return je.current.useContext(C)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(C){return je.current.useDeferredValue(C)},Ae.useEffect=function(C,M){return je.current.useEffect(C,M)},Ae.useId=function(){return je.current.useId()},Ae.useImperativeHandle=function(C,M,we){return je.current.useImperativeHandle(C,M,we)},Ae.useInsertionEffect=function(C,M){return je.current.useInsertionEffect(C,M)},Ae.useLayoutEffect=function(C,M){return je.current.useLayoutEffect(C,M)},Ae.useMemo=function(C,M){return je.current.useMemo(C,M)},Ae.useReducer=function(C,M,we){return je.current.useReducer(C,M,we)},Ae.useRef=function(C){return je.current.useRef(C)},Ae.useState=function(C){return je.current.useState(C)},Ae.useSyncExternalStore=function(C,M,we){return je.current.useSyncExternalStore(C,M,we)},Ae.useTransition=function(){return je.current.useTransition()},Ae.version="18.3.1",Ae}var Th;function _c(){return Th||(Th=1,Ru.exports=Gy()),Ru.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function Jy(){if(Oh)return ki;Oh=1;var t=_c(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,w={},_=null,x=null;m!==void 0&&(_=""+m),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(x=h.ref);for(v in h)i.call(h,v)&&!l.hasOwnProperty(v)&&(w[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)w[v]===void 0&&(w[v]=h[v]);return{$$typeof:e,type:f,key:_,ref:x,props:w,_owner:a.current}}return ki.Fragment=n,ki.jsx=u,ki.jsxs=u,ki}var Nh;function Qy(){return Nh||(Nh=1,Pu.exports=Jy()),Pu.exports}var g=Qy(),ra={},Iu={exports:{}},Zt={},$u={exports:{}},Du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function Yy(){return Ch||(Ch=1,(function(t){function e(H,ee){var Q=H.length;H.push(ee);e:for(;0<Q;){var C=Q-1>>>1,M=H[C];if(0<a(M,ee))H[C]=ee,H[Q]=M,Q=C;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var ee=H[0],Q=H.pop();if(Q!==ee){H[0]=Q;e:for(var C=0,M=H.length,we=M>>>1;C<we;){var _e=2*(C+1)-1,Te=H[_e],Oe=_e+1,Ee=H[Oe];if(0>a(Te,Q))Oe<M&&0>a(Ee,Te)?(H[C]=Ee,H[Oe]=Q,C=Oe):(H[C]=Te,H[_e]=Q,C=_e);else if(Oe<M&&0>a(Ee,Q))H[C]=Ee,H[Oe]=Q,C=Oe;else break e}}return ee}function a(H,ee){var Q=H.sortIndex-ee.sortIndex;return Q!==0?Q:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,w=null,_=3,x=!1,b=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(H){for(var ee=n(m);ee!==null;){if(ee.callback===null)i(m);else if(ee.startTime<=H)i(m),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(m)}}function z(H){if(S=!1,P(H),!b)if(n(h)!==null)b=!0,Re(U);else{var ee=n(m);ee!==null&&je(z,ee.startTime-H)}}function U(H,ee){b=!1,S&&(S=!1,N(ae),ae=-1),x=!0;var Q=_;try{for(P(ee),w=n(h);w!==null&&(!(w.expirationTime>ee)||H&&!ke());){var C=w.callback;if(typeof C=="function"){w.callback=null,_=w.priorityLevel;var M=C(w.expirationTime<=ee);ee=t.unstable_now(),typeof M=="function"?w.callback=M:w===n(h)&&i(h),P(ee)}else i(h);w=n(h)}if(w!==null)var we=!0;else{var _e=n(m);_e!==null&&je(z,_e.startTime-ee),we=!1}return we}finally{w=null,_=Q,x=!1}}var K=!1,G=null,ae=-1,de=5,Ne=-1;function ke(){return!(t.unstable_now()-Ne<de)}function he(){if(G!==null){var H=t.unstable_now();Ne=H;var ee=!0;try{ee=G(!0,H)}finally{ee?pe():(K=!1,G=null)}}else K=!1}var pe;if(typeof A=="function")pe=function(){A(he)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Pe=Se.port2;Se.port1.onmessage=he,pe=function(){Pe.postMessage(null)}}else pe=function(){j(he,0)};function Re(H){G=H,K||(K=!0,pe())}function je(H,ee){ae=j(function(){H(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,Re(U))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var Q=_;_=ee;try{return H()}finally{_=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=_;_=H;try{return ee()}finally{_=Q}},t.unstable_scheduleCallback=function(H,ee,Q){var C=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?C+Q:C):Q=C,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Q+M,H={id:v++,callback:ee,priorityLevel:H,startTime:Q,expirationTime:M,sortIndex:-1},Q>C?(H.sortIndex=Q,e(m,H),n(h)===null&&H===n(m)&&(S?(N(ae),ae=-1):S=!0,je(z,Q-C))):(H.sortIndex=M,e(h,H),b||x||(b=!0,Re(U))),H},t.unstable_shouldYield=ke,t.unstable_wrapCallback=function(H){var ee=_;return function(){var Q=_;_=ee;try{return H.apply(this,arguments)}finally{_=Q}}}})(Du)),Du}var Ah;function Xy(){return Ah||(Ah=1,$u.exports=Yy()),$u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function ew(){if(Ph)return Zt;Ph=1;var t=_c(),e=Xy();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(a[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(r){return h.call(w,r)?!0:h.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function x(r,s,o,c){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,o,c){if(s===null||typeof s>"u"||x(r,s,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(r,s,o,c,d,p,y){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=r,this.type=s,this.sanitizeURL=p,this.removeEmptyString=y}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new S(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,A);j[s]=new S(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,A);j[s]=new S(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,A);j[s]=new S(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function P(r,s,o,c){var d=j.hasOwnProperty(s)?j[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,o,d,c)&&(o=null),c||d===null?_(s)&&(o===null?r.removeAttribute(s):r.setAttribute(s,""+o)):d.mustUseProperty?r[d.propertyName]=o===null?d.type===3?!1:"":o:(s=d.attributeName,c=d.attributeNamespace,o===null?r.removeAttribute(s):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?r.setAttributeNS(c,s,o):r.setAttribute(s,o))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),K=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),ke=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),H=Symbol.iterator;function ee(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Object.assign,C;function M(r){if(C===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);C=s&&s[1]||""}return`
`+C+r}var we=!1;function _e(r,s){if(!r||we)return"";we=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(D){var c=D}Reflect.construct(r,[],s)}else{try{s.call()}catch(D){c=D}r.call(s.prototype)}else{try{throw Error()}catch(D){c=D}r()}}catch(D){if(D&&c&&typeof D.stack=="string"){for(var d=D.stack.split(`
`),p=c.stack.split(`
`),y=d.length-1,k=p.length-1;1<=y&&0<=k&&d[y]!==p[k];)k--;for(;1<=y&&0<=k;y--,k--)if(d[y]!==p[k]){if(y!==1||k!==1)do if(y--,k--,0>k||d[y]!==p[k]){var T=`
`+d[y].replace(" at new "," at ");return r.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",r.displayName)),T}while(1<=y&&0<=k);break}}}finally{we=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?M(r):""}function Te(r){switch(r.tag){case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return r=_e(r.type,!1),r;case 11:return r=_e(r.type.render,!1),r;case 1:return r=_e(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case G:return"Fragment";case K:return"Portal";case de:return"Profiler";case ae:return"StrictMode";case pe:return"Suspense";case Se:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ke:return(r.displayName||"Context")+".Consumer";case Ne:return(r._context.displayName||"Context")+".Provider";case he:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Pe:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case Re:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function Ee(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ue(r){var s=Ce(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(y){c=""+y,p.call(this,y)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Fe(r){r._valueTracker||(r._valueTracker=Ue(r))}function ie(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Ce(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function $e(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Be(r,s){var o=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function nt(r,s){var o=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;o=be(s.value!=null?s.value:o),r._wrapperState={initialChecked:c,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function It(r,s){s=s.checked,s!=null&&P(r,"checked",s,!1)}function $t(r,s){It(r,s);var o=be(s.value),c=s.type;if(o!=null)c==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Dt(r,s.type,o):s.hasOwnProperty("defaultValue")&&Dt(r,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function dr(r,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,o||s===r.value||(r.value=s),r.defaultValue=s}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function Dt(r,s,o){(s!=="number"||$e(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var E=Array.isArray;function R(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+be(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function L(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Y(r,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(n(92));if(E(o)){if(1<o.length)throw Error(n(93));o=o[0]}s=o}s==null&&(s=""),o=s}r._wrapperState={initialValue:be(o)}}function J(r,s){var o=be(s.value),c=be(s.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),s.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),c!=null&&(r.defaultValue=""+c)}function Z(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function fe(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?fe(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var De,pt=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,c,d){MSApp.execUnsafeLocalFunction(function(){return r(s,o,c,d)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(De=De||document.createElement("div"),De.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=De.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function kt(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_n=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(r){_n.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),yt[s]=yt[r]})});function fr(r,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||yt.hasOwnProperty(r)&&yt[r]?(""+s).trim():s+"px"}function Hr(r,s){r=r.style;for(var o in s)if(s.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=fr(o,s[o],c);o==="float"&&(o="cssFloat"),c?r.setProperty(o,d):r[o]=d}}var Ds=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kr(r,s){if(s){if(Ds[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function bn(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gr=null;function Jn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,Rr=null,Ir=null;function zs(r){if(r=li(r)){if(typeof Ls!="function")throw Error(n(280));var s=r.stateNode;s&&(s=vo(s),Ls(r.stateNode,r.type,s))}}function Wi(r){Rr?Ir?Ir.push(r):Ir=[r]:Rr=r}function Us(){if(Rr){var r=Rr,s=Ir;if(Ir=Rr=null,zs(r),s)for(r=0;r<s.length;r++)zs(s[r])}}function Fs(r,s){return r(s)}function Hi(){}var Ga=!1;function Hc(r,s,o){if(Ga)return r(s,o);Ga=!0;try{return Fs(r,s,o)}finally{Ga=!1,(Rr!==null||Ir!==null)&&(Hi(),Us())}}function Ms(r,s){var o=r.stateNode;if(o===null)return null;var c=vo(o);if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var Ja=!1;if(f)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Ja=!1}function ev(r,s,o,c,d,p,y,k,T){var D=Array.prototype.slice.call(arguments,3);try{s.apply(o,D)}catch(V){this.onError(V)}}var Vs=!1,Ki=null,Gi=!1,Qa=null,tv={onError:function(r){Vs=!0,Ki=r}};function rv(r,s,o,c,d,p,y,k,T){Vs=!1,Ki=null,ev.apply(tv,arguments)}function nv(r,s,o,c,d,p,y,k,T){if(rv.apply(this,arguments),Vs){if(Vs){var D=Ki;Vs=!1,Ki=null}else throw Error(n(198));Gi||(Gi=!0,Qa=D)}}function xn(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Kc(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Gc(r){if(xn(r)!==r)throw Error(n(188))}function sv(r){var s=r.alternate;if(!s){if(s=xn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return Gc(d),r;if(p===c)return Gc(d),s;p=p.sibling}throw Error(n(188))}if(o.return!==c.return)o=d,c=p;else{for(var y=!1,k=d.child;k;){if(k===o){y=!0,o=d,c=p;break}if(k===c){y=!0,c=d,o=p;break}k=k.sibling}if(!y){for(k=p.child;k;){if(k===o){y=!0,o=p,c=d;break}if(k===c){y=!0,c=p,o=d;break}k=k.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?r:s}function Jc(r){return r=sv(r),r!==null?Qc(r):null}function Qc(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Qc(r);if(s!==null)return s;r=r.sibling}return null}var Yc=e.unstable_scheduleCallback,Xc=e.unstable_cancelCallback,iv=e.unstable_shouldYield,ov=e.unstable_requestPaint,st=e.unstable_now,av=e.unstable_getCurrentPriorityLevel,Ya=e.unstable_ImmediatePriority,ed=e.unstable_UserBlockingPriority,Ji=e.unstable_NormalPriority,lv=e.unstable_LowPriority,td=e.unstable_IdlePriority,Qi=null,jr=null;function uv(r){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Qi,r,void 0,(r.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:fv,cv=Math.log,dv=Math.LN2;function fv(r){return r>>>=0,r===0?32:31-(cv(r)/dv|0)|0}var Yi=64,Xi=4194304;function qs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function eo(r,s){var o=r.pendingLanes;if(o===0)return 0;var c=0,d=r.suspendedLanes,p=r.pingedLanes,y=o&268435455;if(y!==0){var k=y&~d;k!==0?c=qs(k):(p&=y,p!==0&&(c=qs(p)))}else y=o&~d,y!==0?c=qs(y):p!==0&&(c=qs(p));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((c&4)!==0&&(c|=o&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)o=31-hr(s),d=1<<o,c|=r[o],s&=~d;return c}function hv(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pv(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes;0<p;){var y=31-hr(p),k=1<<y,T=d[y];T===-1?((k&o)===0||(k&c)!==0)&&(d[y]=hv(k,s)):T<=s&&(r.expiredLanes|=k),p&=~k}}function Xa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function rd(){var r=Yi;return Yi<<=1,(Yi&4194240)===0&&(Yi=64),r}function el(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Zs(r,s,o){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-hr(s),r[s]=o}function mv(r,s){var o=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<o;){var d=31-hr(o),p=1<<d;s[d]=0,c[d]=-1,r[d]=-1,o&=~p}}function tl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-hr(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}var Me=0;function nd(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var sd,rl,id,od,ad,nl=!1,to=[],Jr=null,Qr=null,Yr=null,Ws=new Map,Hs=new Map,Xr=[],gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(r,s){switch(r){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Ws.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(s.pointerId)}}function Ks(r,s,o,c,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=li(s),s!==null&&rl(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function vv(r,s,o,c,d){switch(s){case"focusin":return Jr=Ks(Jr,r,s,o,c,d),!0;case"dragenter":return Qr=Ks(Qr,r,s,o,c,d),!0;case"mouseover":return Yr=Ks(Yr,r,s,o,c,d),!0;case"pointerover":var p=d.pointerId;return Ws.set(p,Ks(Ws.get(p)||null,r,s,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Hs.set(p,Ks(Hs.get(p)||null,r,s,o,c,d)),!0}return!1}function ud(r){var s=kn(r.target);if(s!==null){var o=xn(s);if(o!==null){if(s=o.tag,s===13){if(s=Kc(o),s!==null){r.blockedOn=s,ad(r.priority,function(){id(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ro(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=il(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Gr=c,o.target.dispatchEvent(c),Gr=null}else return s=li(o),s!==null&&rl(s),r.blockedOn=o,!1;s.shift()}return!0}function cd(r,s,o){ro(r)&&o.delete(s)}function yv(){nl=!1,Jr!==null&&ro(Jr)&&(Jr=null),Qr!==null&&ro(Qr)&&(Qr=null),Yr!==null&&ro(Yr)&&(Yr=null),Ws.forEach(cd),Hs.forEach(cd)}function Gs(r,s){r.blockedOn===s&&(r.blockedOn=null,nl||(nl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yv)))}function Js(r){function s(d){return Gs(d,r)}if(0<to.length){Gs(to[0],r);for(var o=1;o<to.length;o++){var c=to[o];c.blockedOn===r&&(c.blockedOn=null)}}for(Jr!==null&&Gs(Jr,r),Qr!==null&&Gs(Qr,r),Yr!==null&&Gs(Yr,r),Ws.forEach(s),Hs.forEach(s),o=0;o<Xr.length;o++)c=Xr[o],c.blockedOn===r&&(c.blockedOn=null);for(;0<Xr.length&&(o=Xr[0],o.blockedOn===null);)ud(o),o.blockedOn===null&&Xr.shift()}var Qn=z.ReactCurrentBatchConfig,no=!0;function wv(r,s,o,c){var d=Me,p=Qn.transition;Qn.transition=null;try{Me=1,sl(r,s,o,c)}finally{Me=d,Qn.transition=p}}function _v(r,s,o,c){var d=Me,p=Qn.transition;Qn.transition=null;try{Me=4,sl(r,s,o,c)}finally{Me=d,Qn.transition=p}}function sl(r,s,o,c){if(no){var d=il(r,s,o,c);if(d===null)xl(r,s,c,so,o),ld(r,c);else if(vv(d,r,s,o,c))c.stopPropagation();else if(ld(r,c),s&4&&-1<gv.indexOf(r)){for(;d!==null;){var p=li(d);if(p!==null&&sd(p),p=il(r,s,o,c),p===null&&xl(r,s,c,so,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else xl(r,s,c,null,o)}}var so=null;function il(r,s,o,c){if(so=null,r=Jn(c),r=kn(r),r!==null)if(s=xn(r),s===null)r=null;else if(o=s.tag,o===13){if(r=Kc(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return so=r,null}function dd(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(av()){case Ya:return 1;case ed:return 4;case Ji:case lv:return 16;case td:return 536870912;default:return 16}default:return 16}}var en=null,ol=null,io=null;function fd(){if(io)return io;var r,s=ol,o=s.length,c,d="value"in en?en.value:en.textContent,p=d.length;for(r=0;r<o&&s[r]===d[r];r++);var y=o-r;for(c=1;c<=y&&s[o-c]===d[p-c];c++);return io=d.slice(r,1<c?1-c:void 0)}function oo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ao(){return!0}function hd(){return!1}function Jt(r){function s(o,c,d,p,y){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(o=r[k],this[k]=o?o(p):p[k]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ao:hd,this.isPropagationStopped=hd,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),s}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Jt(Yn),Qs=Q({},Yn,{view:0,detail:0}),bv=Jt(Qs),ll,ul,Ys,lo=Q({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ys&&(Ys&&r.type==="mousemove"?(ll=r.screenX-Ys.screenX,ul=r.screenY-Ys.screenY):ul=ll=0,Ys=r),ll)},movementY:function(r){return"movementY"in r?r.movementY:ul}}),pd=Jt(lo),xv=Q({},lo,{dataTransfer:0}),kv=Jt(xv),Sv=Q({},Qs,{relatedTarget:0}),cl=Jt(Sv),Ev=Q({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),jv=Jt(Ev),Tv=Q({},Yn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ov=Jt(Tv),Nv=Q({},Yn,{data:0}),md=Jt(Nv),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rv(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Pv[r])?!!s[r]:!1}function dl(){return Rv}var Iv=Q({},Qs,{key:function(r){if(r.key){var s=Cv[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=oo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Av[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(r){return r.type==="keypress"?oo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$v=Jt(Iv),Dv=Q({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=Jt(Dv),Lv=Q({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),zv=Jt(Lv),Uv=Q({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fv=Jt(Uv),Mv=Q({},lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=Jt(Mv),Vv=[9,13,27,32],fl=f&&"CompositionEvent"in window,Xs=null;f&&"documentMode"in document&&(Xs=document.documentMode);var qv=f&&"TextEvent"in window&&!Xs,vd=f&&(!fl||Xs&&8<Xs&&11>=Xs),yd=" ",wd=!1;function _d(r,s){switch(r){case"keyup":return Vv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xn=!1;function Zv(r,s){switch(r){case"compositionend":return bd(s);case"keypress":return s.which!==32?null:(wd=!0,yd);case"textInput":return r=s.data,r===yd&&wd?null:r;default:return null}}function Wv(r,s){if(Xn)return r==="compositionend"||!fl&&_d(r,s)?(r=fd(),io=ol=en=null,Xn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vd&&s.locale!=="ko"?null:s.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Hv[r.type]:s==="textarea"}function kd(r,s,o,c){Wi(c),s=po(s,"onChange"),0<s.length&&(o=new al("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var ei=null,ti=null;function Kv(r){Md(r,0)}function uo(r){var s=ss(r);if(ie(s))return r}function Gv(r,s){if(r==="change")return s}var Sd=!1;if(f){var hl;if(f){var pl="oninput"in document;if(!pl){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),pl=typeof Ed.oninput=="function"}hl=pl}else hl=!1;Sd=hl&&(!document.documentMode||9<document.documentMode)}function jd(){ei&&(ei.detachEvent("onpropertychange",Td),ti=ei=null)}function Td(r){if(r.propertyName==="value"&&uo(ti)){var s=[];kd(s,ti,r,Jn(r)),Hc(Kv,s)}}function Jv(r,s,o){r==="focusin"?(jd(),ei=s,ti=o,ei.attachEvent("onpropertychange",Td)):r==="focusout"&&jd()}function Qv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uo(ti)}function Yv(r,s){if(r==="click")return uo(s)}function Xv(r,s){if(r==="input"||r==="change")return uo(s)}function ey(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var pr=typeof Object.is=="function"?Object.is:ey;function ri(r,s){if(pr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!h.call(s,d)||!pr(r[d],s[d]))return!1}return!0}function Od(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Nd(r,s){var o=Od(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Od(o)}}function Cd(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Cd(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ad(){for(var r=window,s=$e();s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=$e(r.document)}return s}function ml(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ty(r){var s=Ad(),o=r.focusedElem,c=r.selectionRange;if(s!==o&&o&&o.ownerDocument&&Cd(o.ownerDocument.documentElement,o)){if(c!==null&&ml(o)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(r,o.value.length);else if(r=(s=o.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=o.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!r.extend&&p>c&&(d=c,c=p,p=d),d=Nd(o,p);var y=Nd(o,c);d&&y&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),p>c?(r.addRange(s),r.extend(y.node,y.offset)):(s.setEnd(y.node,y.offset),r.addRange(s)))}}for(s=[],r=o;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)r=s[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ry=f&&"documentMode"in document&&11>=document.documentMode,es=null,gl=null,ni=null,vl=!1;function Pd(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vl||es==null||es!==$e(c)||(c=es,"selectionStart"in c&&ml(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ni&&ri(ni,c)||(ni=c,c=po(gl,"onSelect"),0<c.length&&(s=new al("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=es)))}function co(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var ts={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},yl={},Rd={};f&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function fo(r){if(yl[r])return yl[r];if(!ts[r])return r;var s=ts[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Rd)return yl[r]=s[o];return r}var Id=fo("animationend"),$d=fo("animationiteration"),Dd=fo("animationstart"),Ld=fo("transitionend"),zd=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(r,s){zd.set(r,s),l(s,[r])}for(var wl=0;wl<Ud.length;wl++){var _l=Ud[wl],ny=_l.toLowerCase(),sy=_l[0].toUpperCase()+_l.slice(1);tn(ny,"on"+sy)}tn(Id,"onAnimationEnd"),tn($d,"onAnimationIteration"),tn(Dd,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(Ld,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function Fd(r,s,o){var c=r.type||"unknown-event";r.currentTarget=o,nv(c,s,void 0,r),r.currentTarget=null}function Md(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var y=c.length-1;0<=y;y--){var k=c[y],T=k.instance,D=k.currentTarget;if(k=k.listener,T!==p&&d.isPropagationStopped())break e;Fd(d,k,D),p=T}else for(y=0;y<c.length;y++){if(k=c[y],T=k.instance,D=k.currentTarget,k=k.listener,T!==p&&d.isPropagationStopped())break e;Fd(d,k,D),p=T}}}if(Gi)throw r=Qa,Gi=!1,Qa=null,r}function He(r,s){var o=s[Ol];o===void 0&&(o=s[Ol]=new Set);var c=r+"__bubble";o.has(c)||(Bd(s,r,2,!1),o.add(c))}function bl(r,s,o){var c=0;s&&(c|=4),Bd(o,r,c,s)}var ho="_reactListening"+Math.random().toString(36).slice(2);function ii(r){if(!r[ho]){r[ho]=!0,i.forEach(function(o){o!=="selectionchange"&&(iy.has(o)||bl(o,!1,r),bl(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ho]||(s[ho]=!0,bl("selectionchange",!1,s))}}function Bd(r,s,o,c){switch(dd(s)){case 1:var d=wv;break;case 4:d=_v;break;default:d=sl}o=d.bind(null,s,o,r),d=void 0,!Ja||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function xl(r,s,o,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var k=c.stateNode.containerInfo;if(k===d||k.nodeType===8&&k.parentNode===d)break;if(y===4)for(y=c.return;y!==null;){var T=y.tag;if((T===3||T===4)&&(T=y.stateNode.containerInfo,T===d||T.nodeType===8&&T.parentNode===d))return;y=y.return}for(;k!==null;){if(y=kn(k),y===null)return;if(T=y.tag,T===5||T===6){c=p=y;continue e}k=k.parentNode}}c=c.return}Hc(function(){var D=p,V=Jn(o),q=[];e:{var B=zd.get(r);if(B!==void 0){var X=al,ne=r;switch(r){case"keypress":if(oo(o)===0)break e;case"keydown":case"keyup":X=$v;break;case"focusin":ne="focus",X=cl;break;case"focusout":ne="blur",X=cl;break;case"beforeblur":case"afterblur":X=cl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=zv;break;case Id:case $d:case Dd:X=jv;break;case Ld:X=Fv;break;case"scroll":X=bv;break;case"wheel":X=Bv;break;case"copy":case"cut":case"paste":X=Ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=gd}var oe=(s&4)!==0,it=!oe&&r==="scroll",I=oe?B!==null?B+"Capture":null:B;oe=[];for(var O=D,$;O!==null;){$=O;var W=$.stateNode;if($.tag===5&&W!==null&&($=W,I!==null&&(W=Ms(O,I),W!=null&&oe.push(oi(O,W,$)))),it)break;O=O.return}0<oe.length&&(B=new X(B,ne,null,o,V),q.push({event:B,listeners:oe}))}}if((s&7)===0){e:{if(B=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",B&&o!==Gr&&(ne=o.relatedTarget||o.fromElement)&&(kn(ne)||ne[$r]))break e;if((X||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,X?(ne=o.relatedTarget||o.toElement,X=D,ne=ne?kn(ne):null,ne!==null&&(it=xn(ne),ne!==it||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(X=null,ne=D),X!==ne)){if(oe=pd,W="onMouseLeave",I="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(oe=gd,W="onPointerLeave",I="onPointerEnter",O="pointer"),it=X==null?B:ss(X),$=ne==null?B:ss(ne),B=new oe(W,O+"leave",X,o,V),B.target=it,B.relatedTarget=$,W=null,kn(V)===D&&(oe=new oe(I,O+"enter",ne,o,V),oe.target=$,oe.relatedTarget=it,W=oe),it=W,X&&ne)t:{for(oe=X,I=ne,O=0,$=oe;$;$=rs($))O++;for($=0,W=I;W;W=rs(W))$++;for(;0<O-$;)oe=rs(oe),O--;for(;0<$-O;)I=rs(I),$--;for(;O--;){if(oe===I||I!==null&&oe===I.alternate)break t;oe=rs(oe),I=rs(I)}oe=null}else oe=null;X!==null&&Vd(q,B,X,oe,!1),ne!==null&&it!==null&&Vd(q,it,ne,oe,!0)}}e:{if(B=D?ss(D):window,X=B.nodeName&&B.nodeName.toLowerCase(),X==="select"||X==="input"&&B.type==="file")var le=Gv;else if(xd(B))if(Sd)le=Xv;else{le=Qv;var ge=Jv}else(X=B.nodeName)&&X.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(le=Yv);if(le&&(le=le(r,D))){kd(q,le,o,V);break e}ge&&ge(r,B,D),r==="focusout"&&(ge=B._wrapperState)&&ge.controlled&&B.type==="number"&&Dt(B,"number",B.value)}switch(ge=D?ss(D):window,r){case"focusin":(xd(ge)||ge.contentEditable==="true")&&(es=ge,gl=D,ni=null);break;case"focusout":ni=gl=es=null;break;case"mousedown":vl=!0;break;case"contextmenu":case"mouseup":case"dragend":vl=!1,Pd(q,o,V);break;case"selectionchange":if(ry)break;case"keydown":case"keyup":Pd(q,o,V)}var ve;if(fl)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Xn?_d(r,o)&&(xe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(vd&&o.locale!=="ko"&&(Xn||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Xn&&(ve=fd()):(en=V,ol="value"in en?en.value:en.textContent,Xn=!0)),ge=po(D,xe),0<ge.length&&(xe=new md(xe,r,null,o,V),q.push({event:xe,listeners:ge}),ve?xe.data=ve:(ve=bd(o),ve!==null&&(xe.data=ve)))),(ve=qv?Zv(r,o):Wv(r,o))&&(D=po(D,"onBeforeInput"),0<D.length&&(V=new md("onBeforeInput","beforeinput",null,o,V),q.push({event:V,listeners:D}),V.data=ve))}Md(q,s)})}function oi(r,s,o){return{instance:r,listener:s,currentTarget:o}}function po(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Ms(r,o),p!=null&&c.unshift(oi(r,p,d)),p=Ms(r,s),p!=null&&c.push(oi(r,p,d))),r=r.return}return c}function rs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Vd(r,s,o,c,d){for(var p=s._reactName,y=[];o!==null&&o!==c;){var k=o,T=k.alternate,D=k.stateNode;if(T!==null&&T===c)break;k.tag===5&&D!==null&&(k=D,d?(T=Ms(o,p),T!=null&&y.unshift(oi(o,T,k))):d||(T=Ms(o,p),T!=null&&y.push(oi(o,T,k)))),o=o.return}y.length!==0&&r.push({event:s,listeners:y})}var oy=/\r\n?/g,ay=/\u0000|\uFFFD/g;function qd(r){return(typeof r=="string"?r:""+r).replace(oy,`
`).replace(ay,"")}function mo(r,s,o){if(s=qd(s),qd(r)!==s&&o)throw Error(n(425))}function go(){}var kl=null,Sl=null;function El(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jl=typeof setTimeout=="function"?setTimeout:void 0,ly=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,uy=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(r){return Zd.resolve(null).then(r).catch(cy)}:jl;function cy(r){setTimeout(function(){throw r})}function Tl(r,s){var o=s,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){r.removeChild(d),Js(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);Js(s)}function rn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Wd(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}var ns=Math.random().toString(36).slice(2),Tr="__reactFiber$"+ns,ai="__reactProps$"+ns,$r="__reactContainer$"+ns,Ol="__reactEvents$"+ns,dy="__reactListeners$"+ns,fy="__reactHandles$"+ns;function kn(r){var s=r[Tr];if(s)return s;for(var o=r.parentNode;o;){if(s=o[$r]||o[Tr]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Wd(r);r!==null;){if(o=r[Tr])return o;r=Wd(r)}return s}r=o,o=r.parentNode}return null}function li(r){return r=r[Tr]||r[$r],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ss(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function vo(r){return r[ai]||null}var Nl=[],is=-1;function nn(r){return{current:r}}function Ke(r){0>is||(r.current=Nl[is],Nl[is]=null,is--)}function qe(r,s){is++,Nl[is]=r.current,r.current=s}var sn={},Nt=nn(sn),Ft=nn(!1),Sn=sn;function os(r,s){var o=r.type.contextTypes;if(!o)return sn;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=s[p];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Mt(r){return r=r.childContextTypes,r!=null}function yo(){Ke(Ft),Ke(Nt)}function Hd(r,s,o){if(Nt.current!==sn)throw Error(n(168));qe(Nt,s),qe(Ft,o)}function Kd(r,s,o){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(n(108,Ee(r)||"Unknown",d));return Q({},o,c)}function wo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||sn,Sn=Nt.current,qe(Nt,r),qe(Ft,Ft.current),!0}function Gd(r,s,o){var c=r.stateNode;if(!c)throw Error(n(169));o?(r=Kd(r,s,Sn),c.__reactInternalMemoizedMergedChildContext=r,Ke(Ft),Ke(Nt),qe(Nt,r)):Ke(Ft),qe(Ft,o)}var Dr=null,_o=!1,Cl=!1;function Jd(r){Dr===null?Dr=[r]:Dr.push(r)}function hy(r){_o=!0,Jd(r)}function on(){if(!Cl&&Dr!==null){Cl=!0;var r=0,s=Me;try{var o=Dr;for(Me=1;r<o.length;r++){var c=o[r];do c=c(!0);while(c!==null)}Dr=null,_o=!1}catch(d){throw Dr!==null&&(Dr=Dr.slice(r+1)),Yc(Ya,on),d}finally{Me=s,Cl=!1}}return null}var as=[],ls=0,bo=null,xo=0,sr=[],ir=0,En=null,Lr=1,zr="";function jn(r,s){as[ls++]=xo,as[ls++]=bo,bo=r,xo=s}function Qd(r,s,o){sr[ir++]=Lr,sr[ir++]=zr,sr[ir++]=En,En=r;var c=Lr;r=zr;var d=32-hr(c)-1;c&=~(1<<d),o+=1;var p=32-hr(s)+d;if(30<p){var y=d-d%5;p=(c&(1<<y)-1).toString(32),c>>=y,d-=y,Lr=1<<32-hr(s)+d|o<<d|c,zr=p+r}else Lr=1<<p|o<<d|c,zr=r}function Al(r){r.return!==null&&(jn(r,1),Qd(r,1,0))}function Pl(r){for(;r===bo;)bo=as[--ls],as[ls]=null,xo=as[--ls],as[ls]=null;for(;r===En;)En=sr[--ir],sr[ir]=null,zr=sr[--ir],sr[ir]=null,Lr=sr[--ir],sr[ir]=null}var Qt=null,Yt=null,Ge=!1,mr=null;function Yd(r,s){var o=ur(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=r,s=r.deletions,s===null?(r.deletions=[o],r.flags|=16):s.push(o)}function Xd(r,s){switch(r.tag){case 5:var o=r.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Qt=r,Yt=rn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Qt=r,Yt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=En!==null?{id:Lr,overflow:zr}:null,r.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=ur(18,null,null,0),o.stateNode=s,o.return=r,r.child=o,Qt=r,Yt=null,!0):!1;default:return!1}}function Rl(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Il(r){if(Ge){var s=Yt;if(s){var o=s;if(!Xd(r,s)){if(Rl(r))throw Error(n(418));s=rn(o.nextSibling);var c=Qt;s&&Xd(r,s)?Yd(c,o):(r.flags=r.flags&-4097|2,Ge=!1,Qt=r)}}else{if(Rl(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ge=!1,Qt=r}}}function ef(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Qt=r}function ko(r){if(r!==Qt)return!1;if(!Ge)return ef(r),Ge=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!El(r.type,r.memoizedProps)),s&&(s=Yt)){if(Rl(r))throw tf(),Error(n(418));for(;s;)Yd(r,s),s=rn(s.nextSibling)}if(ef(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(s===0){Yt=rn(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}r=r.nextSibling}Yt=null}}else Yt=Qt?rn(r.stateNode.nextSibling):null;return!0}function tf(){for(var r=Yt;r;)r=rn(r.nextSibling)}function us(){Yt=Qt=null,Ge=!1}function $l(r){mr===null?mr=[r]:mr.push(r)}var py=z.ReactCurrentBatchConfig;function ui(r,s,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,r));var d=c,p=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(y){var k=d.refs;y===null?delete k[p]:k[p]=y},s._stringRef=p,s)}if(typeof r!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,r))}return r}function So(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function rf(r){var s=r._init;return s(r._payload)}function nf(r){function s(I,O){if(r){var $=I.deletions;$===null?(I.deletions=[O],I.flags|=16):$.push(O)}}function o(I,O){if(!r)return null;for(;O!==null;)s(I,O),O=O.sibling;return null}function c(I,O){for(I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function d(I,O){return I=pn(I,O),I.index=0,I.sibling=null,I}function p(I,O,$){return I.index=$,r?($=I.alternate,$!==null?($=$.index,$<O?(I.flags|=2,O):$):(I.flags|=2,O)):(I.flags|=1048576,O)}function y(I){return r&&I.alternate===null&&(I.flags|=2),I}function k(I,O,$,W){return O===null||O.tag!==6?(O=ju($,I.mode,W),O.return=I,O):(O=d(O,$),O.return=I,O)}function T(I,O,$,W){var le=$.type;return le===G?V(I,O,$.props.children,W,$.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Re&&rf(le)===O.type)?(W=d(O,$.props),W.ref=ui(I,O,$),W.return=I,W):(W=Ko($.type,$.key,$.props,null,I.mode,W),W.ref=ui(I,O,$),W.return=I,W)}function D(I,O,$,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==$.containerInfo||O.stateNode.implementation!==$.implementation?(O=Tu($,I.mode,W),O.return=I,O):(O=d(O,$.children||[]),O.return=I,O)}function V(I,O,$,W,le){return O===null||O.tag!==7?(O=In($,I.mode,W,le),O.return=I,O):(O=d(O,$),O.return=I,O)}function q(I,O,$){if(typeof O=="string"&&O!==""||typeof O=="number")return O=ju(""+O,I.mode,$),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return $=Ko(O.type,O.key,O.props,null,I.mode,$),$.ref=ui(I,null,O),$.return=I,$;case K:return O=Tu(O,I.mode,$),O.return=I,O;case Re:var W=O._init;return q(I,W(O._payload),$)}if(E(O)||ee(O))return O=In(O,I.mode,$,null),O.return=I,O;So(I,O)}return null}function B(I,O,$,W){var le=O!==null?O.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return le!==null?null:k(I,O,""+$,W);if(typeof $=="object"&&$!==null){switch($.$$typeof){case U:return $.key===le?T(I,O,$,W):null;case K:return $.key===le?D(I,O,$,W):null;case Re:return le=$._init,B(I,O,le($._payload),W)}if(E($)||ee($))return le!==null?null:V(I,O,$,W,null);So(I,$)}return null}function X(I,O,$,W,le){if(typeof W=="string"&&W!==""||typeof W=="number")return I=I.get($)||null,k(O,I,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case U:return I=I.get(W.key===null?$:W.key)||null,T(O,I,W,le);case K:return I=I.get(W.key===null?$:W.key)||null,D(O,I,W,le);case Re:var ge=W._init;return X(I,O,$,ge(W._payload),le)}if(E(W)||ee(W))return I=I.get($)||null,V(O,I,W,le,null);So(O,W)}return null}function ne(I,O,$,W){for(var le=null,ge=null,ve=O,xe=O=0,bt=null;ve!==null&&xe<$.length;xe++){ve.index>xe?(bt=ve,ve=null):bt=ve.sibling;var ze=B(I,ve,$[xe],W);if(ze===null){ve===null&&(ve=bt);break}r&&ve&&ze.alternate===null&&s(I,ve),O=p(ze,O,xe),ge===null?le=ze:ge.sibling=ze,ge=ze,ve=bt}if(xe===$.length)return o(I,ve),Ge&&jn(I,xe),le;if(ve===null){for(;xe<$.length;xe++)ve=q(I,$[xe],W),ve!==null&&(O=p(ve,O,xe),ge===null?le=ve:ge.sibling=ve,ge=ve);return Ge&&jn(I,xe),le}for(ve=c(I,ve);xe<$.length;xe++)bt=X(ve,I,xe,$[xe],W),bt!==null&&(r&&bt.alternate!==null&&ve.delete(bt.key===null?xe:bt.key),O=p(bt,O,xe),ge===null?le=bt:ge.sibling=bt,ge=bt);return r&&ve.forEach(function(mn){return s(I,mn)}),Ge&&jn(I,xe),le}function oe(I,O,$,W){var le=ee($);if(typeof le!="function")throw Error(n(150));if($=le.call($),$==null)throw Error(n(151));for(var ge=le=null,ve=O,xe=O=0,bt=null,ze=$.next();ve!==null&&!ze.done;xe++,ze=$.next()){ve.index>xe?(bt=ve,ve=null):bt=ve.sibling;var mn=B(I,ve,ze.value,W);if(mn===null){ve===null&&(ve=bt);break}r&&ve&&mn.alternate===null&&s(I,ve),O=p(mn,O,xe),ge===null?le=mn:ge.sibling=mn,ge=mn,ve=bt}if(ze.done)return o(I,ve),Ge&&jn(I,xe),le;if(ve===null){for(;!ze.done;xe++,ze=$.next())ze=q(I,ze.value,W),ze!==null&&(O=p(ze,O,xe),ge===null?le=ze:ge.sibling=ze,ge=ze);return Ge&&jn(I,xe),le}for(ve=c(I,ve);!ze.done;xe++,ze=$.next())ze=X(ve,I,xe,ze.value,W),ze!==null&&(r&&ze.alternate!==null&&ve.delete(ze.key===null?xe:ze.key),O=p(ze,O,xe),ge===null?le=ze:ge.sibling=ze,ge=ze);return r&&ve.forEach(function(Hy){return s(I,Hy)}),Ge&&jn(I,xe),le}function it(I,O,$,W){if(typeof $=="object"&&$!==null&&$.type===G&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case U:e:{for(var le=$.key,ge=O;ge!==null;){if(ge.key===le){if(le=$.type,le===G){if(ge.tag===7){o(I,ge.sibling),O=d(ge,$.props.children),O.return=I,I=O;break e}}else if(ge.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Re&&rf(le)===ge.type){o(I,ge.sibling),O=d(ge,$.props),O.ref=ui(I,ge,$),O.return=I,I=O;break e}o(I,ge);break}else s(I,ge);ge=ge.sibling}$.type===G?(O=In($.props.children,I.mode,W,$.key),O.return=I,I=O):(W=Ko($.type,$.key,$.props,null,I.mode,W),W.ref=ui(I,O,$),W.return=I,I=W)}return y(I);case K:e:{for(ge=$.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===$.containerInfo&&O.stateNode.implementation===$.implementation){o(I,O.sibling),O=d(O,$.children||[]),O.return=I,I=O;break e}else{o(I,O);break}else s(I,O);O=O.sibling}O=Tu($,I.mode,W),O.return=I,I=O}return y(I);case Re:return ge=$._init,it(I,O,ge($._payload),W)}if(E($))return ne(I,O,$,W);if(ee($))return oe(I,O,$,W);So(I,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,O!==null&&O.tag===6?(o(I,O.sibling),O=d(O,$),O.return=I,I=O):(o(I,O),O=ju($,I.mode,W),O.return=I,I=O),y(I)):o(I,O)}return it}var cs=nf(!0),sf=nf(!1),Eo=nn(null),jo=null,ds=null,Dl=null;function Ll(){Dl=ds=jo=null}function zl(r){var s=Eo.current;Ke(Eo),r._currentValue=s}function Ul(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function fs(r,s){jo=r,Dl=ds=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Bt=!0),r.firstContext=null)}function or(r){var s=r._currentValue;if(Dl!==r)if(r={context:r,memoizedValue:s,next:null},ds===null){if(jo===null)throw Error(n(308));ds=r,jo.dependencies={lanes:0,firstContext:r}}else ds=ds.next=r;return s}var Tn=null;function Fl(r){Tn===null?Tn=[r]:Tn.push(r)}function of(r,s,o,c){var d=s.interleaved;return d===null?(o.next=o,Fl(s)):(o.next=d.next,d.next=o),s.interleaved=o,Ur(r,c)}function Ur(r,s){r.lanes|=s;var o=r.alternate;for(o!==null&&(o.lanes|=s),o=r,r=r.return;r!==null;)r.childLanes|=s,o=r.alternate,o!==null&&(o.childLanes|=s),o=r,r=r.return;return o.tag===3?o.stateNode:null}var an=!1;function Ml(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function af(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ln(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Ur(r,o)}return d=c.interleaved,d===null?(s.next=s,Fl(c)):(s.next=d.next,d.next=s),c.interleaved=s,Ur(r,o)}function To(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,tl(r,o)}}function lf(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}function Oo(r,s,o,c){var d=r.updateQueue;an=!1;var p=d.firstBaseUpdate,y=d.lastBaseUpdate,k=d.shared.pending;if(k!==null){d.shared.pending=null;var T=k,D=T.next;T.next=null,y===null?p=D:y.next=D,y=T;var V=r.alternate;V!==null&&(V=V.updateQueue,k=V.lastBaseUpdate,k!==y&&(k===null?V.firstBaseUpdate=D:k.next=D,V.lastBaseUpdate=T))}if(p!==null){var q=d.baseState;y=0,V=D=T=null,k=p;do{var B=k.lane,X=k.eventTime;if((c&B)===B){V!==null&&(V=V.next={eventTime:X,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ne=r,oe=k;switch(B=s,X=o,oe.tag){case 1:if(ne=oe.payload,typeof ne=="function"){q=ne.call(X,q,B);break e}q=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=oe.payload,B=typeof ne=="function"?ne.call(X,q,B):ne,B==null)break e;q=Q({},q,B);break e;case 2:an=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,B=d.effects,B===null?d.effects=[k]:B.push(k))}else X={eventTime:X,lane:B,tag:k.tag,payload:k.payload,callback:k.callback,next:null},V===null?(D=V=X,T=q):V=V.next=X,y|=B;if(k=k.next,k===null){if(k=d.shared.pending,k===null)break;B=k,k=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);if(V===null&&(T=q),d.baseState=T,d.firstBaseUpdate=D,d.lastBaseUpdate=V,s=d.shared.interleaved,s!==null){d=s;do y|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);Cn|=y,r.lanes=y,r.memoizedState=q}}function uf(r,s,o){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var ci={},Or=nn(ci),di=nn(ci),fi=nn(ci);function On(r){if(r===ci)throw Error(n(174));return r}function Bl(r,s){switch(qe(fi,s),qe(di,r),qe(Or,ci),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ie(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ie(s,r)}Ke(Or),qe(Or,s)}function hs(){Ke(Or),Ke(di),Ke(fi)}function cf(r){On(fi.current);var s=On(Or.current),o=Ie(s,r.type);s!==o&&(qe(di,r),qe(Or,o))}function Vl(r){di.current===r&&(Ke(Or),Ke(di))}var Ye=nn(0);function No(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ql=[];function Zl(){for(var r=0;r<ql.length;r++)ql[r]._workInProgressVersionPrimary=null;ql.length=0}var Co=z.ReactCurrentDispatcher,Wl=z.ReactCurrentBatchConfig,Nn=0,Xe=null,mt=null,wt=null,Ao=!1,hi=!1,pi=0,my=0;function Ct(){throw Error(n(321))}function Hl(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!pr(r[o],s[o]))return!1;return!0}function Kl(r,s,o,c,d,p){if(Nn=p,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Co.current=r===null||r.memoizedState===null?wy:_y,r=o(c,d),hi){p=0;do{if(hi=!1,pi=0,25<=p)throw Error(n(301));p+=1,wt=mt=null,s.updateQueue=null,Co.current=by,r=o(c,d)}while(hi)}if(Co.current=Io,s=mt!==null&&mt.next!==null,Nn=0,wt=mt=Xe=null,Ao=!1,s)throw Error(n(300));return r}function Gl(){var r=pi!==0;return pi=0,r}function Nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=r:wt=wt.next=r,wt}function ar(){if(mt===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var s=wt===null?Xe.memoizedState:wt.next;if(s!==null)wt=s,mt=r;else{if(r===null)throw Error(n(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?Xe.memoizedState=wt=r:wt=wt.next=r}return wt}function mi(r,s){return typeof s=="function"?s(r):s}function Jl(r){var s=ar(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var c=mt,d=c.baseQueue,p=o.pending;if(p!==null){if(d!==null){var y=d.next;d.next=p.next,p.next=y}c.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,c=c.baseState;var k=y=null,T=null,D=p;do{var V=D.lane;if((Nn&V)===V)T!==null&&(T=T.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),c=D.hasEagerState?D.eagerState:r(c,D.action);else{var q={lane:V,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};T===null?(k=T=q,y=c):T=T.next=q,Xe.lanes|=V,Cn|=V}D=D.next}while(D!==null&&D!==p);T===null?y=c:T.next=k,pr(c,s.memoizedState)||(Bt=!0),s.memoizedState=c,s.baseState=y,s.baseQueue=T,o.lastRenderedState=c}if(r=o.interleaved,r!==null){d=r;do p=d.lane,Xe.lanes|=p,Cn|=p,d=d.next;while(d!==r)}else d===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Ql(r){var s=ar(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do p=r(p,y.action),y=y.next;while(y!==d);pr(p,s.memoizedState)||(Bt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,c]}function df(){}function ff(r,s){var o=Xe,c=ar(),d=s(),p=!pr(c.memoizedState,d);if(p&&(c.memoizedState=d,Bt=!0),c=c.queue,Yl(mf.bind(null,o,c,r),[r]),c.getSnapshot!==s||p||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,gi(9,pf.bind(null,o,c,d,s),void 0,null),_t===null)throw Error(n(349));(Nn&30)!==0||hf(o,s,d)}return d}function hf(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function pf(r,s,o,c){s.value=o,s.getSnapshot=c,gf(s)&&vf(r)}function mf(r,s,o){return o(function(){gf(s)&&vf(r)})}function gf(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!pr(r,o)}catch{return!0}}function vf(r){var s=Ur(r,1);s!==null&&wr(s,r,1,-1)}function yf(r){var s=Nr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:r},s.queue=r,r=r.dispatch=yy.bind(null,Xe,r),[s.memoizedState,r]}function gi(r,s,o,c){return r={tag:r,create:s,destroy:o,deps:c,next:null},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.lastEffect=r.next=r):(o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r)),r}function wf(){return ar().memoizedState}function Po(r,s,o,c){var d=Nr();Xe.flags|=r,d.memoizedState=gi(1|s,o,void 0,c===void 0?null:c)}function Ro(r,s,o,c){var d=ar();c=c===void 0?null:c;var p=void 0;if(mt!==null){var y=mt.memoizedState;if(p=y.destroy,c!==null&&Hl(c,y.deps)){d.memoizedState=gi(s,o,p,c);return}}Xe.flags|=r,d.memoizedState=gi(1|s,o,p,c)}function _f(r,s){return Po(8390656,8,r,s)}function Yl(r,s){return Ro(2048,8,r,s)}function bf(r,s){return Ro(4,2,r,s)}function xf(r,s){return Ro(4,4,r,s)}function kf(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Sf(r,s,o){return o=o!=null?o.concat([r]):null,Ro(4,4,kf.bind(null,s,r),o)}function Xl(){}function Ef(r,s){var o=ar();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&Hl(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function jf(r,s){var o=ar();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&Hl(s,c[1])?c[0]:(r=r(),o.memoizedState=[r,s],r)}function Tf(r,s,o){return(Nn&21)===0?(r.baseState&&(r.baseState=!1,Bt=!0),r.memoizedState=o):(pr(o,s)||(o=rd(),Xe.lanes|=o,Cn|=o,r.baseState=!0),s)}function gy(r,s){var o=Me;Me=o!==0&&4>o?o:4,r(!0);var c=Wl.transition;Wl.transition={};try{r(!1),s()}finally{Me=o,Wl.transition=c}}function Of(){return ar().memoizedState}function vy(r,s,o){var c=fn(r);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Nf(r))Cf(s,o);else if(o=of(r,s,o,c),o!==null){var d=zt();wr(o,r,c,d),Af(o,s,c)}}function yy(r,s,o){var c=fn(r),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nf(r))Cf(s,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var y=s.lastRenderedState,k=p(y,o);if(d.hasEagerState=!0,d.eagerState=k,pr(k,y)){var T=s.interleaved;T===null?(d.next=d,Fl(s)):(d.next=T.next,T.next=d),s.interleaved=d;return}}catch{}finally{}o=of(r,s,d,c),o!==null&&(d=zt(),wr(o,r,c,d),Af(o,s,c))}}function Nf(r){var s=r.alternate;return r===Xe||s!==null&&s===Xe}function Cf(r,s){hi=Ao=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Af(r,s,o){if((o&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,tl(r,o)}}var Io={readContext:or,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},wy={readContext:or,useCallback:function(r,s){return Nr().memoizedState=[r,s===void 0?null:s],r},useContext:or,useEffect:_f,useImperativeHandle:function(r,s,o){return o=o!=null?o.concat([r]):null,Po(4194308,4,kf.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Po(4194308,4,r,s)},useInsertionEffect:function(r,s){return Po(4,2,r,s)},useMemo:function(r,s){var o=Nr();return s=s===void 0?null:s,r=r(),o.memoizedState=[r,s],r},useReducer:function(r,s,o){var c=Nr();return s=o!==void 0?o(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=vy.bind(null,Xe,r),[c.memoizedState,r]},useRef:function(r){var s=Nr();return r={current:r},s.memoizedState=r},useState:yf,useDebugValue:Xl,useDeferredValue:function(r){return Nr().memoizedState=r},useTransition:function(){var r=yf(!1),s=r[0];return r=gy.bind(null,r[1]),Nr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,o){var c=Xe,d=Nr();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),_t===null)throw Error(n(349));(Nn&30)!==0||hf(c,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,_f(mf.bind(null,c,p,r),[r]),c.flags|=2048,gi(9,pf.bind(null,c,p,o,s),void 0,null),o},useId:function(){var r=Nr(),s=_t.identifierPrefix;if(Ge){var o=zr,c=Lr;o=(c&~(1<<32-hr(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=pi++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=my++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},_y={readContext:or,useCallback:Ef,useContext:or,useEffect:Yl,useImperativeHandle:Sf,useInsertionEffect:bf,useLayoutEffect:xf,useMemo:jf,useReducer:Jl,useRef:wf,useState:function(){return Jl(mi)},useDebugValue:Xl,useDeferredValue:function(r){var s=ar();return Tf(s,mt.memoizedState,r)},useTransition:function(){var r=Jl(mi)[0],s=ar().memoizedState;return[r,s]},useMutableSource:df,useSyncExternalStore:ff,useId:Of,unstable_isNewReconciler:!1},by={readContext:or,useCallback:Ef,useContext:or,useEffect:Yl,useImperativeHandle:Sf,useInsertionEffect:bf,useLayoutEffect:xf,useMemo:jf,useReducer:Ql,useRef:wf,useState:function(){return Ql(mi)},useDebugValue:Xl,useDeferredValue:function(r){var s=ar();return mt===null?s.memoizedState=r:Tf(s,mt.memoizedState,r)},useTransition:function(){var r=Ql(mi)[0],s=ar().memoizedState;return[r,s]},useMutableSource:df,useSyncExternalStore:ff,useId:Of,unstable_isNewReconciler:!1};function gr(r,s){if(r&&r.defaultProps){s=Q({},s),r=r.defaultProps;for(var o in r)s[o]===void 0&&(s[o]=r[o]);return s}return s}function eu(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:Q({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var $o={isMounted:function(r){return(r=r._reactInternals)?xn(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var c=zt(),d=fn(r),p=Fr(c,d);p.payload=s,o!=null&&(p.callback=o),s=ln(r,p,d),s!==null&&(wr(s,r,d,c),To(s,r,d))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=zt(),d=fn(r),p=Fr(c,d);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ln(r,p,d),s!==null&&(wr(s,r,d,c),To(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=zt(),c=fn(r),d=Fr(o,c);d.tag=2,s!=null&&(d.callback=s),s=ln(r,d,c),s!==null&&(wr(s,r,c,o),To(s,r,c))}};function Pf(r,s,o,c,d,p,y){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,y):s.prototype&&s.prototype.isPureReactComponent?!ri(o,c)||!ri(d,p):!0}function Rf(r,s,o){var c=!1,d=sn,p=s.contextType;return typeof p=="object"&&p!==null?p=or(p):(d=Mt(s)?Sn:Nt.current,c=s.contextTypes,p=(c=c!=null)?os(r,d):sn),s=new s(o,p),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=$o,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=p),s}function If(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&$o.enqueueReplaceState(s,s.state,null)}function tu(r,s,o,c){var d=r.stateNode;d.props=o,d.state=r.memoizedState,d.refs={},Ml(r);var p=s.contextType;typeof p=="object"&&p!==null?d.context=or(p):(p=Mt(s)?Sn:Nt.current,d.context=os(r,p)),d.state=r.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(eu(r,s,p,o),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&$o.enqueueReplaceState(d,d.state,null),Oo(r,o,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ps(r,s){try{var o="",c=s;do o+=Te(c),c=c.return;while(c);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:s,stack:d,digest:null}}function ru(r,s,o){return{value:r,source:null,stack:o??null,digest:s??null}}function nu(r,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var xy=typeof WeakMap=="function"?WeakMap:Map;function $f(r,s,o){o=Fr(-1,o),o.tag=3,o.payload={element:null};var c=s.value;return o.callback=function(){Bo||(Bo=!0,yu=c),nu(r,s)},o}function Df(r,s,o){o=Fr(-1,o),o.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;o.payload=function(){return c(d)},o.callback=function(){nu(r,s)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){nu(r,s),typeof c!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})}),o}function Lf(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new xy;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(d.add(o),r=Dy.bind(null,r,s,o),s.then(r,r))}function zf(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Uf(r,s,o,c,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=Fr(-1,1),s.tag=2,ln(o,s,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var ky=z.ReactCurrentOwner,Bt=!1;function Lt(r,s,o,c){s.child=r===null?sf(s,null,o,c):cs(s,r.child,o,c)}function Ff(r,s,o,c,d){o=o.render;var p=s.ref;return fs(s,d),c=Kl(r,s,o,c,p,d),o=Gl(),r!==null&&!Bt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Mr(r,s,d)):(Ge&&o&&Al(s),s.flags|=1,Lt(r,s,c,d),s.child)}function Mf(r,s,o,c,d){if(r===null){var p=o.type;return typeof p=="function"&&!Eu(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=p,Bf(r,s,p,c,d)):(r=Ko(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,(r.lanes&d)===0){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:ri,o(y,c)&&r.ref===s.ref)return Mr(r,s,d)}return s.flags|=1,r=pn(p,c),r.ref=s.ref,r.return=s,s.child=r}function Bf(r,s,o,c,d){if(r!==null){var p=r.memoizedProps;if(ri(p,c)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=c=p,(r.lanes&d)!==0)(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,Mr(r,s,d)}return su(r,s,o,c,d)}function Vf(r,s,o){var c=s.pendingProps,d=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(gs,Xt),Xt|=o;else{if((o&1073741824)===0)return r=p!==null?p.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(gs,Xt),Xt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,qe(gs,Xt),Xt|=c}else p!==null?(c=p.baseLanes|o,s.memoizedState=null):c=o,qe(gs,Xt),Xt|=c;return Lt(r,s,d,o),s.child}function qf(r,s){var o=s.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function su(r,s,o,c,d){var p=Mt(o)?Sn:Nt.current;return p=os(s,p),fs(s,d),o=Kl(r,s,o,c,p,d),c=Gl(),r!==null&&!Bt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Mr(r,s,d)):(Ge&&c&&Al(s),s.flags|=1,Lt(r,s,o,d),s.child)}function Zf(r,s,o,c,d){if(Mt(o)){var p=!0;wo(s)}else p=!1;if(fs(s,d),s.stateNode===null)Lo(r,s),Rf(s,o,c),tu(s,o,c,d),c=!0;else if(r===null){var y=s.stateNode,k=s.memoizedProps;y.props=k;var T=y.context,D=o.contextType;typeof D=="object"&&D!==null?D=or(D):(D=Mt(o)?Sn:Nt.current,D=os(s,D));var V=o.getDerivedStateFromProps,q=typeof V=="function"||typeof y.getSnapshotBeforeUpdate=="function";q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==c||T!==D)&&If(s,y,c,D),an=!1;var B=s.memoizedState;y.state=B,Oo(s,c,y,d),T=s.memoizedState,k!==c||B!==T||Ft.current||an?(typeof V=="function"&&(eu(s,o,V,c),T=s.memoizedState),(k=an||Pf(s,o,k,c,B,T,D))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=T),y.props=c,y.state=T,y.context=D,c=k):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,af(r,s),k=s.memoizedProps,D=s.type===s.elementType?k:gr(s.type,k),y.props=D,q=s.pendingProps,B=y.context,T=o.contextType,typeof T=="object"&&T!==null?T=or(T):(T=Mt(o)?Sn:Nt.current,T=os(s,T));var X=o.getDerivedStateFromProps;(V=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==q||B!==T)&&If(s,y,c,T),an=!1,B=s.memoizedState,y.state=B,Oo(s,c,y,d);var ne=s.memoizedState;k!==q||B!==ne||Ft.current||an?(typeof X=="function"&&(eu(s,o,X,c),ne=s.memoizedState),(D=an||Pf(s,o,D,c,B,ne,T)||!1)?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,T),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,T)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===r.memoizedProps&&B===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&B===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),y.props=c,y.state=ne,y.context=T,c=D):(typeof y.componentDidUpdate!="function"||k===r.memoizedProps&&B===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&B===r.memoizedState||(s.flags|=1024),c=!1)}return iu(r,s,o,c,p,d)}function iu(r,s,o,c,d,p){qf(r,s);var y=(s.flags&128)!==0;if(!c&&!y)return d&&Gd(s,o,!1),Mr(r,s,p);c=s.stateNode,ky.current=s;var k=y&&typeof o.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&y?(s.child=cs(s,r.child,null,p),s.child=cs(s,null,k,p)):Lt(r,s,k,p),s.memoizedState=c.state,d&&Gd(s,o,!0),s.child}function Wf(r){var s=r.stateNode;s.pendingContext?Hd(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Hd(r,s.context,!1),Bl(r,s.containerInfo)}function Hf(r,s,o,c,d){return us(),$l(d),s.flags|=256,Lt(r,s,o,c),s.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function au(r){return{baseLanes:r,cachePool:null,transitions:null}}function Kf(r,s,o){var c=s.pendingProps,d=Ye.current,p=!1,y=(s.flags&128)!==0,k;if((k=y)||(k=r!==null&&r.memoizedState===null?!1:(d&2)!==0),k?(p=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),qe(Ye,d&1),r===null)return Il(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(y=c.children,r=c.fallback,p?(c=s.mode,p=s.child,y={mode:"hidden",children:y},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Go(y,c,0,null),r=In(r,c,o,null),p.return=s,r.return=s,p.sibling=r,s.child=p,s.child.memoizedState=au(o),s.memoizedState=ou,r):lu(s,y));if(d=r.memoizedState,d!==null&&(k=d.dehydrated,k!==null))return Sy(r,s,y,c,k,d,o);if(p){p=c.fallback,y=s.mode,d=r.child,k=d.sibling;var T={mode:"hidden",children:c.children};return(y&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=T,s.deletions=null):(c=pn(d,T),c.subtreeFlags=d.subtreeFlags&14680064),k!==null?p=pn(k,p):(p=In(p,y,o,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,y=r.child.memoizedState,y=y===null?au(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=r.childLanes&~o,s.memoizedState=ou,c}return p=r.child,r=p.sibling,c=pn(p,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=o),c.return=s,c.sibling=null,r!==null&&(o=s.deletions,o===null?(s.deletions=[r],s.flags|=16):o.push(r)),s.child=c,s.memoizedState=null,c}function lu(r,s){return s=Go({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Do(r,s,o,c){return c!==null&&$l(c),cs(s,r.child,null,o),r=lu(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Sy(r,s,o,c,d,p,y){if(o)return s.flags&256?(s.flags&=-257,c=ru(Error(n(422))),Do(r,s,y,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(p=c.fallback,d=s.mode,c=Go({mode:"visible",children:c.children},d,0,null),p=In(p,d,y,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,(s.mode&1)!==0&&cs(s,r.child,null,y),s.child.memoizedState=au(y),s.memoizedState=ou,p);if((s.mode&1)===0)return Do(r,s,y,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var k=c.dgst;return c=k,p=Error(n(419)),c=ru(p,c,void 0),Do(r,s,y,c)}if(k=(y&r.childLanes)!==0,Bt||k){if(c=_t,c!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|y))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Ur(r,d),wr(c,r,d,-1))}return Su(),c=ru(Error(n(421))),Do(r,s,y,c)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=Ly.bind(null,r),d._reactRetry=s,null):(r=p.treeContext,Yt=rn(d.nextSibling),Qt=s,Ge=!0,mr=null,r!==null&&(sr[ir++]=Lr,sr[ir++]=zr,sr[ir++]=En,Lr=r.id,zr=r.overflow,En=s),s=lu(s,c.children),s.flags|=4096,s)}function Gf(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Ul(r.return,s,o)}function uu(r,s,o,c,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=d)}function Jf(r,s,o){var c=s.pendingProps,d=c.revealOrder,p=c.tail;if(Lt(r,s,c.children,o),c=Ye.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gf(r,o,s);else if(r.tag===19)Gf(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(qe(Ye,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&No(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),uu(s,!1,d,o,p);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&No(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}uu(s,!0,o,null,p);break;case"together":uu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Lo(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Cn|=s.lanes,(o&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,o=pn(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=pn(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Ey(r,s,o){switch(s.tag){case 3:Wf(s),us();break;case 5:cf(s);break;case 1:Mt(s.type)&&wo(s);break;case 4:Bl(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;qe(Eo,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ye,Ye.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?Kf(r,s,o):(qe(Ye,Ye.current&1),r=Mr(r,s,o),r!==null?r.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(c=(o&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Jf(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ye,Ye.current),c)break;return null;case 22:case 23:return s.lanes=0,Vf(r,s,o)}return Mr(r,s,o)}var Qf,cu,Yf,Xf;Qf=function(r,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},cu=function(){},Yf=function(r,s,o,c){var d=r.memoizedProps;if(d!==c){r=s.stateNode,On(Or.current);var p=null;switch(o){case"input":d=Be(r,d),c=Be(r,c),p=[];break;case"select":d=Q({},d,{value:void 0}),c=Q({},c,{value:void 0}),p=[];break;case"textarea":d=L(r,d),c=L(r,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=go)}Kr(o,c);var y;o=null;for(D in d)if(!c.hasOwnProperty(D)&&d.hasOwnProperty(D)&&d[D]!=null)if(D==="style"){var k=d[D];for(y in k)k.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(a.hasOwnProperty(D)?p||(p=[]):(p=p||[]).push(D,null));for(D in c){var T=c[D];if(k=d?.[D],c.hasOwnProperty(D)&&T!==k&&(T!=null||k!=null))if(D==="style")if(k){for(y in k)!k.hasOwnProperty(y)||T&&T.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in T)T.hasOwnProperty(y)&&k[y]!==T[y]&&(o||(o={}),o[y]=T[y])}else o||(p||(p=[]),p.push(D,o)),o=T;else D==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,k=k?k.__html:void 0,T!=null&&k!==T&&(p=p||[]).push(D,T)):D==="children"?typeof T!="string"&&typeof T!="number"||(p=p||[]).push(D,""+T):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(a.hasOwnProperty(D)?(T!=null&&D==="onScroll"&&He("scroll",r),p||k===T||(p=[])):(p=p||[]).push(D,T))}o&&(p=p||[]).push("style",o);var D=p;(s.updateQueue=D)&&(s.flags|=4)}},Xf=function(r,s,o,c){o!==c&&(s.flags|=4)};function vi(r,s){if(!Ge)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function At(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function jy(r,s,o){var c=s.pendingProps;switch(Pl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return Mt(s.type)&&yo(),At(s),null;case 3:return c=s.stateNode,hs(),Ke(Ft),Ke(Nt),Zl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ko(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mr!==null&&(bu(mr),mr=null))),cu(r,s),At(s),null;case 5:Vl(s);var d=On(fi.current);if(o=s.type,r!==null&&s.stateNode!=null)Yf(r,s,o,c,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return At(s),null}if(r=On(Or.current),ko(s)){c=s.stateNode,o=s.type;var p=s.memoizedProps;switch(c[Tr]=s,c[ai]=p,r=(s.mode&1)!==0,o){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<si.length;d++)He(si[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":nt(c,p),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},He("invalid",c);break;case"textarea":Y(c,p),He("invalid",c)}Kr(o,p),d=null;for(var y in p)if(p.hasOwnProperty(y)){var k=p[y];y==="children"?typeof k=="string"?c.textContent!==k&&(p.suppressHydrationWarning!==!0&&mo(c.textContent,k,r),d=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(p.suppressHydrationWarning!==!0&&mo(c.textContent,k,r),d=["children",""+k]):a.hasOwnProperty(y)&&k!=null&&y==="onScroll"&&He("scroll",c)}switch(o){case"input":Fe(c),dr(c,p,!0);break;case"textarea":Fe(c),Z(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=go)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=fe(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=y.createElement(o,{is:c.is}):(r=y.createElement(o),o==="select"&&(y=r,c.multiple?y.multiple=!0:c.size&&(y.size=c.size))):r=y.createElementNS(r,o),r[Tr]=s,r[ai]=c,Qf(r,s,!1,!1),s.stateNode=r;e:{switch(y=bn(o,c),o){case"dialog":He("cancel",r),He("close",r),d=c;break;case"iframe":case"object":case"embed":He("load",r),d=c;break;case"video":case"audio":for(d=0;d<si.length;d++)He(si[d],r);d=c;break;case"source":He("error",r),d=c;break;case"img":case"image":case"link":He("error",r),He("load",r),d=c;break;case"details":He("toggle",r),d=c;break;case"input":nt(r,c),d=Be(r,c),He("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=Q({},c,{value:void 0}),He("invalid",r);break;case"textarea":Y(r,c),d=L(r,c),He("invalid",r);break;default:d=c}Kr(o,d),k=d;for(p in k)if(k.hasOwnProperty(p)){var T=k[p];p==="style"?Hr(r,T):p==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&pt(r,T)):p==="children"?typeof T=="string"?(o!=="textarea"||T!=="")&&kt(r,T):typeof T=="number"&&kt(r,""+T):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?T!=null&&p==="onScroll"&&He("scroll",r):T!=null&&P(r,p,T,y))}switch(o){case"input":Fe(r),dr(r,c,!1);break;case"textarea":Fe(r),Z(r);break;case"option":c.value!=null&&r.setAttribute("value",""+be(c.value));break;case"select":r.multiple=!!c.multiple,p=c.value,p!=null?R(r,!!c.multiple,p,!1):c.defaultValue!=null&&R(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=go)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return At(s),null;case 6:if(r&&s.stateNode!=null)Xf(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(o=On(fi.current),On(Or.current),ko(s)){if(c=s.stateNode,o=s.memoizedProps,c[Tr]=s,(p=c.nodeValue!==o)&&(r=Qt,r!==null))switch(r.tag){case 3:mo(c.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&mo(c.nodeValue,o,(r.mode&1)!==0)}p&&(s.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Tr]=s,s.stateNode=c}return At(s),null;case 13:if(Ke(Ye),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ge&&Yt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)tf(),us(),s.flags|=98560,p=!1;else if(p=ko(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Tr]=s}else us(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),p=!1}else mr!==null&&(bu(mr),mr=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Ye.current&1)!==0?gt===0&&(gt=3):Su())),s.updateQueue!==null&&(s.flags|=4),At(s),null);case 4:return hs(),cu(r,s),r===null&&ii(s.stateNode.containerInfo),At(s),null;case 10:return zl(s.type._context),At(s),null;case 17:return Mt(s.type)&&yo(),At(s),null;case 19:if(Ke(Ye),p=s.memoizedState,p===null)return At(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)vi(p,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=No(r),y!==null){for(s.flags|=128,vi(p,!1),c=y.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=o,o=s.child;o!==null;)p=o,r=c,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,r=y.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return qe(Ye,Ye.current&1|2),s.child}r=r.sibling}p.tail!==null&&st()>vs&&(s.flags|=128,c=!0,vi(p,!1),s.lanes=4194304)}else{if(!c)if(r=No(y),r!==null){if(s.flags|=128,c=!0,o=r.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),vi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ge)return At(s),null}else 2*st()-p.renderingStartTime>vs&&o!==1073741824&&(s.flags|=128,c=!0,vi(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(o=p.last,o!==null?o.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=st(),s.sibling=null,o=Ye.current,qe(Ye,c?o&1|2:o&1),s):(At(s),null);case 22:case 23:return ku(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Xt&1073741824)!==0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Ty(r,s){switch(Pl(s),s.tag){case 1:return Mt(s.type)&&yo(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return hs(),Ke(Ft),Ke(Nt),Zl(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Vl(s),null;case 13:if(Ke(Ye),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));us()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(Ye),null;case 4:return hs(),null;case 10:return zl(s.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var zo=!1,Pt=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,te=null;function ms(r,s){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){rt(r,s,c)}else o.current=null}function du(r,s,o){try{o()}catch(c){rt(r,s,c)}}var eh=!1;function Ny(r,s){if(kl=no,r=Ad(),ml(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,k=-1,T=-1,D=0,V=0,q=r,B=null;t:for(;;){for(var X;q!==o||d!==0&&q.nodeType!==3||(k=y+d),q!==p||c!==0&&q.nodeType!==3||(T=y+c),q.nodeType===3&&(y+=q.nodeValue.length),(X=q.firstChild)!==null;)B=q,q=X;for(;;){if(q===r)break t;if(B===o&&++D===d&&(k=y),B===p&&++V===c&&(T=y),(X=q.nextSibling)!==null)break;q=B,B=q.parentNode}q=X}o=k===-1||T===-1?null:{start:k,end:T}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sl={focusedElem:r,selectionRange:o},no=!1,te=s;te!==null;)if(s=te,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,te=r;else for(;te!==null;){s=te;try{var ne=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var oe=ne.memoizedProps,it=ne.memoizedState,I=s.stateNode,O=I.getSnapshotBeforeUpdate(s.elementType===s.type?oe:gr(s.type,oe),it);I.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){rt(s,s.return,W)}if(r=s.sibling,r!==null){r.return=s.return,te=r;break}te=s.return}return ne=eh,eh=!1,ne}function yi(r,s,o){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var p=d.destroy;d.destroy=void 0,p!==void 0&&du(s,o,p)}d=d.next}while(d!==c)}}function Uo(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&r)===r){var c=o.create;o.destroy=c()}o=o.next}while(o!==s)}}function fu(r){var s=r.ref;if(s!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof s=="function"?s(r):s.current=r}}function th(r){var s=r.alternate;s!==null&&(r.alternate=null,th(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Tr],delete s[ai],delete s[Ol],delete s[dy],delete s[fy])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function rh(r){return r.tag===5||r.tag===3||r.tag===4}function nh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hu(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=go));else if(c!==4&&(r=r.child,r!==null))for(hu(r,s,o),r=r.sibling;r!==null;)hu(r,s,o),r=r.sibling}function pu(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(pu(r,s,o),r=r.sibling;r!==null;)pu(r,s,o),r=r.sibling}var St=null,vr=!1;function un(r,s,o){for(o=o.child;o!==null;)sh(r,s,o),o=o.sibling}function sh(r,s,o){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Qi,o)}catch{}switch(o.tag){case 5:Pt||ms(o,s);case 6:var c=St,d=vr;St=null,un(r,s,o),St=c,vr=d,St!==null&&(vr?(r=St,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(vr?(r=St,o=o.stateNode,r.nodeType===8?Tl(r.parentNode,o):r.nodeType===1&&Tl(r,o),Js(r)):Tl(St,o.stateNode));break;case 4:c=St,d=vr,St=o.stateNode.containerInfo,vr=!0,un(r,s,o),St=c,vr=d;break;case 0:case 11:case 14:case 15:if(!Pt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&du(o,s,y),d=d.next}while(d!==c)}un(r,s,o);break;case 1:if(!Pt&&(ms(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(k){rt(o,s,k)}un(r,s,o);break;case 21:un(r,s,o);break;case 22:o.mode&1?(Pt=(c=Pt)||o.memoizedState!==null,un(r,s,o),Pt=c):un(r,s,o);break;default:un(r,s,o)}}function ih(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new Oy),s.forEach(function(c){var d=zy.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}}function yr(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var p=r,y=s,k=y;e:for(;k!==null;){switch(k.tag){case 5:St=k.stateNode,vr=!1;break e;case 3:St=k.stateNode.containerInfo,vr=!0;break e;case 4:St=k.stateNode.containerInfo,vr=!0;break e}k=k.return}if(St===null)throw Error(n(160));sh(p,y,d),St=null,vr=!1;var T=d.alternate;T!==null&&(T.return=null),d.return=null}catch(D){rt(d,s,D)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)oh(s,r),s=s.sibling}function oh(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(yr(s,r),Cr(r),c&4){try{yi(3,r,r.return),Uo(3,r)}catch(oe){rt(r,r.return,oe)}try{yi(5,r,r.return)}catch(oe){rt(r,r.return,oe)}}break;case 1:yr(s,r),Cr(r),c&512&&o!==null&&ms(o,o.return);break;case 5:if(yr(s,r),Cr(r),c&512&&o!==null&&ms(o,o.return),r.flags&32){var d=r.stateNode;try{kt(d,"")}catch(oe){rt(r,r.return,oe)}}if(c&4&&(d=r.stateNode,d!=null)){var p=r.memoizedProps,y=o!==null?o.memoizedProps:p,k=r.type,T=r.updateQueue;if(r.updateQueue=null,T!==null)try{k==="input"&&p.type==="radio"&&p.name!=null&&It(d,p),bn(k,y);var D=bn(k,p);for(y=0;y<T.length;y+=2){var V=T[y],q=T[y+1];V==="style"?Hr(d,q):V==="dangerouslySetInnerHTML"?pt(d,q):V==="children"?kt(d,q):P(d,V,q,D)}switch(k){case"input":$t(d,p);break;case"textarea":J(d,p);break;case"select":var B=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var X=p.value;X!=null?R(d,!!p.multiple,X,!1):B!==!!p.multiple&&(p.defaultValue!=null?R(d,!!p.multiple,p.defaultValue,!0):R(d,!!p.multiple,p.multiple?[]:"",!1))}d[ai]=p}catch(oe){rt(r,r.return,oe)}}break;case 6:if(yr(s,r),Cr(r),c&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,p=r.memoizedProps;try{d.nodeValue=p}catch(oe){rt(r,r.return,oe)}}break;case 3:if(yr(s,r),Cr(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Js(s.containerInfo)}catch(oe){rt(r,r.return,oe)}break;case 4:yr(s,r),Cr(r);break;case 13:yr(s,r),Cr(r),d=r.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(vu=st())),c&4&&ih(r);break;case 22:if(V=o!==null&&o.memoizedState!==null,r.mode&1?(Pt=(D=Pt)||V,yr(s,r),Pt=D):yr(s,r),Cr(r),c&8192){if(D=r.memoizedState!==null,(r.stateNode.isHidden=D)&&!V&&(r.mode&1)!==0)for(te=r,V=r.child;V!==null;){for(q=te=V;te!==null;){switch(B=te,X=B.child,B.tag){case 0:case 11:case 14:case 15:yi(4,B,B.return);break;case 1:ms(B,B.return);var ne=B.stateNode;if(typeof ne.componentWillUnmount=="function"){c=B,o=B.return;try{s=c,ne.props=s.memoizedProps,ne.state=s.memoizedState,ne.componentWillUnmount()}catch(oe){rt(c,o,oe)}}break;case 5:ms(B,B.return);break;case 22:if(B.memoizedState!==null){uh(q);continue}}X!==null?(X.return=B,te=X):uh(q)}V=V.sibling}e:for(V=null,q=r;;){if(q.tag===5){if(V===null){V=q;try{d=q.stateNode,D?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(k=q.stateNode,T=q.memoizedProps.style,y=T!=null&&T.hasOwnProperty("display")?T.display:null,k.style.display=fr("display",y))}catch(oe){rt(r,r.return,oe)}}}else if(q.tag===6){if(V===null)try{q.stateNode.nodeValue=D?"":q.memoizedProps}catch(oe){rt(r,r.return,oe)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===r)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===r)break e;for(;q.sibling===null;){if(q.return===null||q.return===r)break e;V===q&&(V=null),q=q.return}V===q&&(V=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:yr(s,r),Cr(r),c&4&&ih(r);break;case 21:break;default:yr(s,r),Cr(r)}}function Cr(r){var s=r.flags;if(s&2){try{e:{for(var o=r.return;o!==null;){if(rh(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(kt(d,""),c.flags&=-33);var p=nh(r);pu(r,p,d);break;case 3:case 4:var y=c.stateNode.containerInfo,k=nh(r);hu(r,k,y);break;default:throw Error(n(161))}}catch(T){rt(r,r.return,T)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Cy(r,s,o){te=r,ah(r)}function ah(r,s,o){for(var c=(r.mode&1)!==0;te!==null;){var d=te,p=d.child;if(d.tag===22&&c){var y=d.memoizedState!==null||zo;if(!y){var k=d.alternate,T=k!==null&&k.memoizedState!==null||Pt;k=zo;var D=Pt;if(zo=y,(Pt=T)&&!D)for(te=d;te!==null;)y=te,T=y.child,y.tag===22&&y.memoizedState!==null?ch(d):T!==null?(T.return=y,te=T):ch(d);for(;p!==null;)te=p,ah(p),p=p.sibling;te=d,zo=k,Pt=D}lh(r)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,te=p):lh(r)}}function lh(r){for(;te!==null;){var s=te;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Pt||Uo(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Pt)if(o===null)c.componentDidMount();else{var d=s.elementType===s.type?o.memoizedProps:gr(s.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&uf(s,p,c);break;case 3:var y=s.updateQueue;if(y!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}uf(s,y,o)}break;case 5:var k=s.stateNode;if(o===null&&s.flags&4){o=k;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&o.focus();break;case"img":T.src&&(o.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var D=s.alternate;if(D!==null){var V=D.memoizedState;if(V!==null){var q=V.dehydrated;q!==null&&Js(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pt||s.flags&512&&fu(s)}catch(B){rt(s,s.return,B)}}if(s===r){te=null;break}if(o=s.sibling,o!==null){o.return=s.return,te=o;break}te=s.return}}function uh(r){for(;te!==null;){var s=te;if(s===r){te=null;break}var o=s.sibling;if(o!==null){o.return=s.return,te=o;break}te=s.return}}function ch(r){for(;te!==null;){var s=te;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Uo(4,s)}catch(T){rt(s,o,T)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(T){rt(s,d,T)}}var p=s.return;try{fu(s)}catch(T){rt(s,p,T)}break;case 5:var y=s.return;try{fu(s)}catch(T){rt(s,y,T)}}}catch(T){rt(s,s.return,T)}if(s===r){te=null;break}var k=s.sibling;if(k!==null){k.return=s.return,te=k;break}te=s.return}}var Ay=Math.ceil,Fo=z.ReactCurrentDispatcher,mu=z.ReactCurrentOwner,lr=z.ReactCurrentBatchConfig,Le=0,_t=null,at=null,Et=0,Xt=0,gs=nn(0),gt=0,wi=null,Cn=0,Mo=0,gu=0,_i=null,Vt=null,vu=0,vs=1/0,Br=null,Bo=!1,yu=null,cn=null,Vo=!1,dn=null,qo=0,bi=0,wu=null,Zo=-1,Wo=0;function zt(){return(Le&6)!==0?st():Zo!==-1?Zo:Zo=st()}function fn(r){return(r.mode&1)===0?1:(Le&2)!==0&&Et!==0?Et&-Et:py.transition!==null?(Wo===0&&(Wo=rd()),Wo):(r=Me,r!==0||(r=window.event,r=r===void 0?16:dd(r.type)),r)}function wr(r,s,o,c){if(50<bi)throw bi=0,wu=null,Error(n(185));Zs(r,o,c),((Le&2)===0||r!==_t)&&(r===_t&&((Le&2)===0&&(Mo|=o),gt===4&&hn(r,Et)),qt(r,c),o===1&&Le===0&&(s.mode&1)===0&&(vs=st()+500,_o&&on()))}function qt(r,s){var o=r.callbackNode;pv(r,s);var c=eo(r,r===_t?Et:0);if(c===0)o!==null&&Xc(o),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(o!=null&&Xc(o),s===1)r.tag===0?hy(fh.bind(null,r)):Jd(fh.bind(null,r)),uy(function(){(Le&6)===0&&on()}),o=null;else{switch(nd(c)){case 1:o=Ya;break;case 4:o=ed;break;case 16:o=Ji;break;case 536870912:o=td;break;default:o=Ji}o=_h(o,dh.bind(null,r))}r.callbackPriority=s,r.callbackNode=o}}function dh(r,s){if(Zo=-1,Wo=0,(Le&6)!==0)throw Error(n(327));var o=r.callbackNode;if(ys()&&r.callbackNode!==o)return null;var c=eo(r,r===_t?Et:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=Ho(r,c);else{s=c;var d=Le;Le|=2;var p=ph();(_t!==r||Et!==s)&&(Br=null,vs=st()+500,Pn(r,s));do try{Iy();break}catch(k){hh(r,k)}while(!0);Ll(),Fo.current=p,Le=d,at!==null?s=0:(_t=null,Et=0,s=gt)}if(s!==0){if(s===2&&(d=Xa(r),d!==0&&(c=d,s=_u(r,d))),s===1)throw o=wi,Pn(r,0),hn(r,c),qt(r,st()),o;if(s===6)hn(r,c);else{if(d=r.current.alternate,(c&30)===0&&!Py(d)&&(s=Ho(r,c),s===2&&(p=Xa(r),p!==0&&(c=p,s=_u(r,p))),s===1))throw o=wi,Pn(r,0),hn(r,c),qt(r,st()),o;switch(r.finishedWork=d,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Rn(r,Vt,Br);break;case 3:if(hn(r,c),(c&130023424)===c&&(s=vu+500-st(),10<s)){if(eo(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){zt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=jl(Rn.bind(null,r,Vt,Br),s);break}Rn(r,Vt,Br);break;case 4:if(hn(r,c),(c&4194240)===c)break;for(s=r.eventTimes,d=-1;0<c;){var y=31-hr(c);p=1<<y,y=s[y],y>d&&(d=y),c&=~p}if(c=d,c=st()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ay(c/1960))-c,10<c){r.timeoutHandle=jl(Rn.bind(null,r,Vt,Br),c);break}Rn(r,Vt,Br);break;case 5:Rn(r,Vt,Br);break;default:throw Error(n(329))}}}return qt(r,st()),r.callbackNode===o?dh.bind(null,r):null}function _u(r,s){var o=_i;return r.current.memoizedState.isDehydrated&&(Pn(r,s).flags|=256),r=Ho(r,s),r!==2&&(s=Vt,Vt=o,s!==null&&bu(s)),r}function bu(r){Vt===null?Vt=r:Vt.push.apply(Vt,r)}function Py(r){for(var s=r;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!pr(p(),d))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hn(r,s){for(s&=~gu,s&=~Mo,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var o=31-hr(s),c=1<<o;r[o]=-1,s&=~c}}function fh(r){if((Le&6)!==0)throw Error(n(327));ys();var s=eo(r,0);if((s&1)===0)return qt(r,st()),null;var o=Ho(r,s);if(r.tag!==0&&o===2){var c=Xa(r);c!==0&&(s=c,o=_u(r,c))}if(o===1)throw o=wi,Pn(r,0),hn(r,s),qt(r,st()),o;if(o===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Rn(r,Vt,Br),qt(r,st()),null}function xu(r,s){var o=Le;Le|=1;try{return r(s)}finally{Le=o,Le===0&&(vs=st()+500,_o&&on())}}function An(r){dn!==null&&dn.tag===0&&(Le&6)===0&&ys();var s=Le;Le|=1;var o=lr.transition,c=Me;try{if(lr.transition=null,Me=1,r)return r()}finally{Me=c,lr.transition=o,Le=s,(Le&6)===0&&on()}}function ku(){Xt=gs.current,Ke(gs)}function Pn(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,ly(o)),at!==null)for(o=at.return;o!==null;){var c=o;switch(Pl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&yo();break;case 3:hs(),Ke(Ft),Ke(Nt),Zl();break;case 5:Vl(c);break;case 4:hs();break;case 13:Ke(Ye);break;case 19:Ke(Ye);break;case 10:zl(c.type._context);break;case 22:case 23:ku()}o=o.return}if(_t=r,at=r=pn(r.current,null),Et=Xt=s,gt=0,wi=null,gu=Mo=Cn=0,Vt=_i=null,Tn!==null){for(s=0;s<Tn.length;s++)if(o=Tn[s],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,p=o.pending;if(p!==null){var y=p.next;p.next=d,c.next=y}o.pending=c}Tn=null}return r}function hh(r,s){do{var o=at;try{if(Ll(),Co.current=Io,Ao){for(var c=Xe.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ao=!1}if(Nn=0,wt=mt=Xe=null,hi=!1,pi=0,mu.current=null,o===null||o.return===null){gt=1,wi=s,at=null;break}e:{var p=r,y=o.return,k=o,T=s;if(s=Et,k.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var D=T,V=k,q=V.tag;if((V.mode&1)===0&&(q===0||q===11||q===15)){var B=V.alternate;B?(V.updateQueue=B.updateQueue,V.memoizedState=B.memoizedState,V.lanes=B.lanes):(V.updateQueue=null,V.memoizedState=null)}var X=zf(y);if(X!==null){X.flags&=-257,Uf(X,y,k,p,s),X.mode&1&&Lf(p,D,s),s=X,T=D;var ne=s.updateQueue;if(ne===null){var oe=new Set;oe.add(T),s.updateQueue=oe}else ne.add(T);break e}else{if((s&1)===0){Lf(p,D,s),Su();break e}T=Error(n(426))}}else if(Ge&&k.mode&1){var it=zf(y);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Uf(it,y,k,p,s),$l(ps(T,k));break e}}p=T=ps(T,k),gt!==4&&(gt=2),_i===null?_i=[p]:_i.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var I=$f(p,T,s);lf(p,I);break e;case 1:k=T;var O=p.type,$=p.stateNode;if((p.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(cn===null||!cn.has($)))){p.flags|=65536,s&=-s,p.lanes|=s;var W=Df(p,k,s);lf(p,W);break e}}p=p.return}while(p!==null)}gh(o)}catch(le){s=le,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function ph(){var r=Fo.current;return Fo.current=Io,r===null?Io:r}function Su(){(gt===0||gt===3||gt===2)&&(gt=4),_t===null||(Cn&268435455)===0&&(Mo&268435455)===0||hn(_t,Et)}function Ho(r,s){var o=Le;Le|=2;var c=ph();(_t!==r||Et!==s)&&(Br=null,Pn(r,s));do try{Ry();break}catch(d){hh(r,d)}while(!0);if(Ll(),Le=o,Fo.current=c,at!==null)throw Error(n(261));return _t=null,Et=0,gt}function Ry(){for(;at!==null;)mh(at)}function Iy(){for(;at!==null&&!iv();)mh(at)}function mh(r){var s=wh(r.alternate,r,Xt);r.memoizedProps=r.pendingProps,s===null?gh(r):at=s,mu.current=null}function gh(r){var s=r;do{var o=s.alternate;if(r=s.return,(s.flags&32768)===0){if(o=jy(o,s,Xt),o!==null){at=o;return}}else{if(o=Ty(o,s),o!==null){o.flags&=32767,at=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{gt=6,at=null;return}}if(s=s.sibling,s!==null){at=s;return}at=s=r}while(s!==null);gt===0&&(gt=5)}function Rn(r,s,o){var c=Me,d=lr.transition;try{lr.transition=null,Me=1,$y(r,s,o,c)}finally{lr.transition=d,Me=c}return null}function $y(r,s,o,c){do ys();while(dn!==null);if((Le&6)!==0)throw Error(n(327));o=r.finishedWork;var d=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var p=o.lanes|o.childLanes;if(mv(r,p),r===_t&&(at=_t=null,Et=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Vo||(Vo=!0,_h(Ji,function(){return ys(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=lr.transition,lr.transition=null;var y=Me;Me=1;var k=Le;Le|=4,mu.current=null,Ny(r,o),oh(o,r),ty(Sl),no=!!kl,Sl=kl=null,r.current=o,Cy(o),ov(),Le=k,Me=y,lr.transition=p}else r.current=o;if(Vo&&(Vo=!1,dn=r,qo=d),p=r.pendingLanes,p===0&&(cn=null),uv(o.stateNode),qt(r,st()),s!==null)for(c=r.onRecoverableError,o=0;o<s.length;o++)d=s[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Bo)throw Bo=!1,r=yu,yu=null,r;return(qo&1)!==0&&r.tag!==0&&ys(),p=r.pendingLanes,(p&1)!==0?r===wu?bi++:(bi=0,wu=r):bi=0,on(),null}function ys(){if(dn!==null){var r=nd(qo),s=lr.transition,o=Me;try{if(lr.transition=null,Me=16>r?16:r,dn===null)var c=!1;else{if(r=dn,dn=null,qo=0,(Le&6)!==0)throw Error(n(331));var d=Le;for(Le|=4,te=r.current;te!==null;){var p=te,y=p.child;if((te.flags&16)!==0){var k=p.deletions;if(k!==null){for(var T=0;T<k.length;T++){var D=k[T];for(te=D;te!==null;){var V=te;switch(V.tag){case 0:case 11:case 15:yi(8,V,p)}var q=V.child;if(q!==null)q.return=V,te=q;else for(;te!==null;){V=te;var B=V.sibling,X=V.return;if(th(V),V===D){te=null;break}if(B!==null){B.return=X,te=B;break}te=X}}}var ne=p.alternate;if(ne!==null){var oe=ne.child;if(oe!==null){ne.child=null;do{var it=oe.sibling;oe.sibling=null,oe=it}while(oe!==null)}}te=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,te=y;else e:for(;te!==null;){if(p=te,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:yi(9,p,p.return)}var I=p.sibling;if(I!==null){I.return=p.return,te=I;break e}te=p.return}}var O=r.current;for(te=O;te!==null;){y=te;var $=y.child;if((y.subtreeFlags&2064)!==0&&$!==null)$.return=y,te=$;else e:for(y=O;te!==null;){if(k=te,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Uo(9,k)}}catch(le){rt(k,k.return,le)}if(k===y){te=null;break e}var W=k.sibling;if(W!==null){W.return=k.return,te=W;break e}te=k.return}}if(Le=d,on(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Qi,r)}catch{}c=!0}return c}finally{Me=o,lr.transition=s}}return!1}function vh(r,s,o){s=ps(o,s),s=$f(r,s,1),r=ln(r,s,1),s=zt(),r!==null&&(Zs(r,1,s),qt(r,s))}function rt(r,s,o){if(r.tag===3)vh(r,r,o);else for(;s!==null;){if(s.tag===3){vh(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cn===null||!cn.has(c))){r=ps(o,r),r=Df(s,r,1),s=ln(s,r,1),r=zt(),s!==null&&(Zs(s,1,r),qt(s,r));break}}s=s.return}}function Dy(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),s=zt(),r.pingedLanes|=r.suspendedLanes&o,_t===r&&(Et&o)===o&&(gt===4||gt===3&&(Et&130023424)===Et&&500>st()-vu?Pn(r,0):gu|=o),qt(r,s)}function yh(r,s){s===0&&((r.mode&1)===0?s=1:(s=Xi,Xi<<=1,(Xi&130023424)===0&&(Xi=4194304)));var o=zt();r=Ur(r,s),r!==null&&(Zs(r,s,o),qt(r,o))}function Ly(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),yh(r,o)}function zy(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),yh(r,o)}var wh;wh=function(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps||Ft.current)Bt=!0;else{if((r.lanes&o)===0&&(s.flags&128)===0)return Bt=!1,Ey(r,s,o);Bt=(r.flags&131072)!==0}else Bt=!1,Ge&&(s.flags&1048576)!==0&&Qd(s,xo,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Lo(r,s),r=s.pendingProps;var d=os(s,Nt.current);fs(s,o),d=Kl(null,s,c,r,d,o);var p=Gl();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mt(c)?(p=!0,wo(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ml(s),d.updater=$o,s.stateNode=d,d._reactInternals=s,tu(s,c,r,o),s=iu(null,s,c,!0,p,o)):(s.tag=0,Ge&&p&&Al(s),Lt(null,s,d,o),s=s.child),s;case 16:c=s.elementType;e:{switch(Lo(r,s),r=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=Fy(c),r=gr(c,r),d){case 0:s=su(null,s,c,r,o);break e;case 1:s=Zf(null,s,c,r,o);break e;case 11:s=Ff(null,s,c,r,o);break e;case 14:s=Mf(null,s,c,gr(c.type,r),o);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:gr(c,d),su(r,s,c,d,o);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:gr(c,d),Zf(r,s,c,d,o);case 3:e:{if(Wf(s),r===null)throw Error(n(387));c=s.pendingProps,p=s.memoizedState,d=p.element,af(r,s),Oo(s,c,null,o);var y=s.memoizedState;if(c=y.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=ps(Error(n(423)),s),s=Hf(r,s,c,o,d);break e}else if(c!==d){d=ps(Error(n(424)),s),s=Hf(r,s,c,o,d);break e}else for(Yt=rn(s.stateNode.containerInfo.firstChild),Qt=s,Ge=!0,mr=null,o=sf(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(us(),c===d){s=Mr(r,s,o);break e}Lt(r,s,c,o)}s=s.child}return s;case 5:return cf(s),r===null&&Il(s),c=s.type,d=s.pendingProps,p=r!==null?r.memoizedProps:null,y=d.children,El(c,d)?y=null:p!==null&&El(c,p)&&(s.flags|=32),qf(r,s),Lt(r,s,y,o),s.child;case 6:return r===null&&Il(s),null;case 13:return Kf(r,s,o);case 4:return Bl(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=cs(s,null,c,o):Lt(r,s,c,o),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:gr(c,d),Ff(r,s,c,d,o);case 7:return Lt(r,s,s.pendingProps,o),s.child;case 8:return Lt(r,s,s.pendingProps.children,o),s.child;case 12:return Lt(r,s,s.pendingProps.children,o),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,p=s.memoizedProps,y=d.value,qe(Eo,c._currentValue),c._currentValue=y,p!==null)if(pr(p.value,y)){if(p.children===d.children&&!Ft.current){s=Mr(r,s,o);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var k=p.dependencies;if(k!==null){y=p.child;for(var T=k.firstContext;T!==null;){if(T.context===c){if(p.tag===1){T=Fr(-1,o&-o),T.tag=2;var D=p.updateQueue;if(D!==null){D=D.shared;var V=D.pending;V===null?T.next=T:(T.next=V.next,V.next=T),D.pending=T}}p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),Ul(p.return,o,s),k.lanes|=o;break}T=T.next}}else if(p.tag===10)y=p.type===s.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,k=y.alternate,k!==null&&(k.lanes|=o),Ul(y,o,s),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===s){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Lt(r,s,d.children,o),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,fs(s,o),d=or(d),c=c(d),s.flags|=1,Lt(r,s,c,o),s.child;case 14:return c=s.type,d=gr(c,s.pendingProps),d=gr(c.type,d),Mf(r,s,c,d,o);case 15:return Bf(r,s,s.type,s.pendingProps,o);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:gr(c,d),Lo(r,s),s.tag=1,Mt(c)?(r=!0,wo(s)):r=!1,fs(s,o),Rf(s,c,d),tu(s,c,d,o),iu(null,s,c,!0,r,o);case 19:return Jf(r,s,o);case 22:return Vf(r,s,o)}throw Error(n(156,s.tag))};function _h(r,s){return Yc(r,s)}function Uy(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(r,s,o,c){return new Uy(r,s,o,c)}function Eu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fy(r){if(typeof r=="function")return Eu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===he)return 11;if(r===Pe)return 14}return 2}function pn(r,s){var o=r.alternate;return o===null?(o=ur(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function Ko(r,s,o,c,d,p){var y=2;if(c=r,typeof r=="function")Eu(r)&&(y=1);else if(typeof r=="string")y=5;else e:switch(r){case G:return In(o.children,d,p,s);case ae:y=8,d|=8;break;case de:return r=ur(12,o,s,d|2),r.elementType=de,r.lanes=p,r;case pe:return r=ur(13,o,s,d),r.elementType=pe,r.lanes=p,r;case Se:return r=ur(19,o,s,d),r.elementType=Se,r.lanes=p,r;case je:return Go(o,d,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Ne:y=10;break e;case ke:y=9;break e;case he:y=11;break e;case Pe:y=14;break e;case Re:y=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=ur(y,o,s,d),s.elementType=r,s.type=c,s.lanes=p,s}function In(r,s,o,c){return r=ur(7,r,c,s),r.lanes=o,r}function Go(r,s,o,c){return r=ur(22,r,c,s),r.elementType=je,r.lanes=o,r.stateNode={isHidden:!1},r}function ju(r,s,o){return r=ur(6,r,null,s),r.lanes=o,r}function Tu(r,s,o){return s=ur(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function My(r,s,o,c,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ou(r,s,o,c,d,p,y,k,T){return r=new My(r,s,o,k,T),s===1?(s=1,p===!0&&(s|=8)):s=0,p=ur(3,null,null,s),r.current=p,p.stateNode=r,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ml(p),r}function By(r,s,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:c==null?null:""+c,children:r,containerInfo:s,implementation:o}}function bh(r){if(!r)return sn;r=r._reactInternals;e:{if(xn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var o=r.type;if(Mt(o))return Kd(r,o,s)}return s}function xh(r,s,o,c,d,p,y,k,T){return r=Ou(o,c,!0,r,d,p,y,k,T),r.context=bh(null),o=r.current,c=zt(),d=fn(o),p=Fr(c,d),p.callback=s??null,ln(o,p,d),r.current.lanes=d,Zs(r,d,c),qt(r,c),r}function Jo(r,s,o,c){var d=s.current,p=zt(),y=fn(d);return o=bh(o),s.context===null?s.context=o:s.pendingContext=o,s=Fr(p,y),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=ln(d,s,y),r!==null&&(wr(r,d,y,p),To(r,d,y)),y}function Qo(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function kh(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Nu(r,s){kh(r,s),(r=r.alternate)&&kh(r,s)}function Vy(){return null}var Sh=typeof reportError=="function"?reportError:function(r){console.error(r)};function Cu(r){this._internalRoot=r}Yo.prototype.render=Cu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Jo(r,s,null,null)},Yo.prototype.unmount=Cu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;An(function(){Jo(null,r,null,null)}),s[$r]=null}};function Yo(r){this._internalRoot=r}Yo.prototype.unstable_scheduleHydration=function(r){if(r){var s=od();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Xr.length&&s!==0&&s<Xr[o].priority;o++);Xr.splice(o,0,r),o===0&&ud(r)}};function Au(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Xo(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Eh(){}function qy(r,s,o,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var D=Qo(y);p.call(D)}}var y=xh(s,c,r,0,null,!1,!1,"",Eh);return r._reactRootContainer=y,r[$r]=y.current,ii(r.nodeType===8?r.parentNode:r),An(),y}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var k=c;c=function(){var D=Qo(T);k.call(D)}}var T=Ou(r,0,!1,null,null,!1,!1,"",Eh);return r._reactRootContainer=T,r[$r]=T.current,ii(r.nodeType===8?r.parentNode:r),An(function(){Jo(s,T,o,c)}),T}function ea(r,s,o,c,d){var p=o._reactRootContainer;if(p){var y=p;if(typeof d=="function"){var k=d;d=function(){var T=Qo(y);k.call(T)}}Jo(s,y,r,d)}else y=qy(o,s,r,d,c);return Qo(y)}sd=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var o=qs(s.pendingLanes);o!==0&&(tl(s,o|1),qt(s,st()),(Le&6)===0&&(vs=st()+500,on()))}break;case 13:An(function(){var c=Ur(r,1);if(c!==null){var d=zt();wr(c,r,1,d)}}),Nu(r,1)}},rl=function(r){if(r.tag===13){var s=Ur(r,134217728);if(s!==null){var o=zt();wr(s,r,134217728,o)}Nu(r,134217728)}},id=function(r){if(r.tag===13){var s=fn(r),o=Ur(r,s);if(o!==null){var c=zt();wr(o,r,s,c)}Nu(r,s)}},od=function(){return Me},ad=function(r,s){var o=Me;try{return Me=r,s()}finally{Me=o}},Ls=function(r,s,o){switch(s){case"input":if($t(r,o),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=vo(c);if(!d)throw Error(n(90));ie(c),$t(c,d)}}}break;case"textarea":J(r,o);break;case"select":s=o.value,s!=null&&R(r,!!o.multiple,s,!1)}},Fs=xu,Hi=An;var Zy={usingClientEntryPoint:!1,Events:[li,ss,vo,Wi,Us,xu]},xi={findFiberByHostInstance:kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wy={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Jc(r),r===null?null:r.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance||Vy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Qi=ta.inject(Wy),jr=ta}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zy,Zt.createPortal=function(r,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(s))throw Error(n(200));return By(r,s,null,o)},Zt.createRoot=function(r,s){if(!Au(r))throw Error(n(299));var o=!1,c="",d=Sh;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Ou(r,1,!1,null,null,o,!1,c,d),r[$r]=s.current,ii(r.nodeType===8?r.parentNode:r),new Cu(s)},Zt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Jc(s),r=r===null?null:r.stateNode,r},Zt.flushSync=function(r){return An(r)},Zt.hydrate=function(r,s,o){if(!Xo(s))throw Error(n(200));return ea(null,r,s,!0,o)},Zt.hydrateRoot=function(r,s,o){if(!Au(r))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,d=!1,p="",y=Sh;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),s=xh(s,null,r,1,o??null,d,!1,p,y),r[$r]=s.current,ii(r),c)for(r=0;r<c.length;r++)o=c[r],d=o._getVersion,d=d(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,d]:s.mutableSourceEagerHydrationData.push(o,d);return new Yo(s)},Zt.render=function(r,s,o){if(!Xo(s))throw Error(n(200));return ea(null,r,s,!1,o)},Zt.unmountComponentAtNode=function(r){if(!Xo(r))throw Error(n(40));return r._reactRootContainer?(An(function(){ea(null,null,r,!1,function(){r._reactRootContainer=null,r[$r]=null})}),!0):!1},Zt.unstable_batchedUpdates=xu,Zt.unstable_renderSubtreeIntoContainer=function(r,s,o,c){if(!Xo(o))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ea(r,s,o,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var Rh;function tw(){if(Rh)return Iu.exports;Rh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Iu.exports=ew(),Iu.exports}var Ih;function rw(){if(Ih)return ra;Ih=1;var t=tw();return ra.createRoot=t.createRoot,ra.hydrateRoot=t.hydrateRoot,ra}var nw=rw(),ce=_c();const er=nm(ce);function nr({title:t,onNavigate:e,showBack:n=!1}){return g.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-10 shadow-sm",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[n&&g.jsx("button",{onClick:()=>e("home"),className:"w-8 h-8 border-2 border-primary text-primary flex items-center justify-center rounded hover:bg-primary hover:text-white transition-colors",children:"<"}),g.jsx("h1",{className:"text-xl text-primary",children:t})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{className:"w-8 h-8 border-2 border-border rounded-full bg-muted"}),g.jsx("button",{onClick:()=>e("login"),className:"hidden md:block px-4 py-2 border border-primary text-primary rounded hover:bg-primary hover:text-white transition-colors",children:""})]})]})})}const sw=[{id:1,name:"",icon:""},{id:2,name:"",icon:""},{id:3,name:"",icon:""},{id:4,name:"",icon:""}],iw=[{id:1,title:" ThinkPad",price:25e3,category:""},{id:2,title:"",price:3e3,category:""},{id:3,title:"",price:8e3,category:""},{id:4,title:"IKEA ",price:5e3,category:""},{id:5,title:"",price:2e3,category:""},{id:6,title:"",price:4e3,category:""}];function $h({onNavigate:t}){return g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:t}),g.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 space-y-8",children:[g.jsxs("section",{className:"border border-border p-6 bg-card rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs mb-2 text-secondary uppercase tracking-wide",children:"NEXT EVENT"}),g.jsx("h2",{className:"text-2xl mb-2 text-primary",children:" 2025"}),g.jsx("p",{className:"text-sm text-foreground",children:"202541510:00-16:00"}),g.jsx("p",{className:"text-sm text-foreground",children:""})]}),g.jsx("div",{className:"w-20 h-20 border border-border bg-muted rounded"})]}),g.jsx("button",{onClick:()=>t("event-detail"),className:"w-full py-3 border-2 border-accent bg-accent text-white mt-4 rounded hover:bg-[#FF7F50] transition-colors",children:""})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"mb-4 text-primary",children:""}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:sw.map(e=>g.jsxs("button",{onClick:()=>t("items"),className:"border border-border p-6 bg-card hover:bg-muted hover:border-primary flex flex-col items-center gap-2 rounded-lg transition-all",children:[g.jsx("div",{className:"w-16 h-16 border-2 border-primary rounded-full flex items-center justify-center text-2xl bg-info/20",children:e.icon}),g.jsx("span",{className:"text-foreground",children:e.name})]},e.id))})]}),g.jsxs("section",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h3",{className:"text-primary",children:""}),g.jsx("button",{onClick:()=>t("items"),className:"text-sm text-primary hover:text-[#5A8BFF] underline",children:" "})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:iw.map(e=>g.jsxs("button",{onClick:()=>t("item-detail"),className:"border border-border bg-card hover:shadow-md transition-shadow text-left rounded-lg overflow-hidden",children:[g.jsx("div",{className:"w-full h-48 border-b border-border bg-muted flex items-center justify-center",children:g.jsx("div",{className:"w-20 h-20 border-2 border-primary/30 rounded"})}),g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-xs mb-1 text-secondary",children:e.category}),g.jsx("h4",{className:"mb-2 text-foreground",children:e.title}),g.jsxs("p",{className:"text-xl text-accent",children:["",e.price.toLocaleString()]})]})]},e.id))})]}),g.jsxs("section",{className:"border border-border p-6 bg-card text-center rounded-lg shadow-sm",children:[g.jsx("h3",{className:"mb-2 text-primary",children:""}),g.jsx("p",{className:"text-sm mb-4 text-secondary",children:""}),g.jsx("button",{onClick:()=>t("sell"),className:"px-8 py-3 border-2 border-accent bg-accent text-white rounded hover:bg-[#FF7F50] transition-colors",children:""})]})]})]})}const ow=[{id:"1",title:" 2025",date:"2025415",time:"10:00-16:00",location:"",description:"",status:"upcoming",itemCount:145},{id:"2",title:"",date:"2025325",time:"13:00-18:00",location:"",description:"",status:"upcoming",itemCount:89},{id:"3",title:" 2024",date:"20241210",time:"10:00-16:00",location:"",description:"",status:"past",itemCount:203}];function aw({onNavigate:t,onSelectEvent:e}){const n=i=>{e(i),t("event-detail")};return g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:t,showBack:!0}),g.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h2",{className:"text-xl mb-2 text-primary",children:""}),g.jsx("p",{className:"text-sm text-secondary",children:""})]}),g.jsx("div",{className:"space-y-4",children:ow.map(i=>g.jsx("button",{onClick:()=>n(i.id),className:"w-full border border-border bg-card hover:shadow-md hover:border-primary transition-all text-left rounded-lg",children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"flex items-center gap-2 mb-2",children:g.jsx("span",{className:`px-2 py-1 text-xs border rounded ${i.status==="upcoming"?"bg-warning/20 border-warning text-foreground":"bg-muted border-border text-secondary"}`,children:i.status==="upcoming"?"":""})}),g.jsx("h3",{className:"text-xl mb-2 text-primary",children:i.title}),g.jsxs("div",{className:"space-y-1 text-sm text-foreground",children:[g.jsxs("p",{children:[" ",i.date]}),g.jsxs("p",{children:[" ",i.time]}),g.jsxs("p",{children:[" ",i.location]})]})]}),g.jsx("div",{className:"w-20 h-20 border border-border bg-muted flex-shrink-0 rounded"})]}),g.jsx("p",{className:"text-sm text-secondary mb-4",children:i.description}),g.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border",children:[g.jsxs("span",{className:"text-sm text-foreground",children:["",i.itemCount,""]}),g.jsx("span",{className:"text-sm text-primary",children:" "})]})]})},i.id))})]})]})}const Dh={1:{title:" 2025",date:"2025415",time:"10:00-16:00",location:"",description:"",notes:["","","",""],items:[{id:"1",title:" ThinkPad",price:25e3,category:"",seller:""},{id:"2",title:"",price:3e3,category:"",seller:""},{id:"3",title:"",price:8e3,category:"",seller:""},{id:"4",title:"IKEA ",price:5e3,category:"",seller:""},{id:"5",title:"",price:2e3,category:"",seller:""},{id:"6",title:"",price:4e3,category:"",seller:""}]}};function lw({eventId:t,onNavigate:e,onSelectItem:n}){const i=Dh[t]||Dh[1],a=l=>{n(l),e("item-detail")};return g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:e,showBack:!0}),g.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[g.jsxs("section",{className:"border border-border bg-card p-6 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:"inline-block px-2 py-1 text-xs border border-warning bg-warning/20 rounded mb-3 text-foreground",children:""}),g.jsx("h2",{className:"text-2xl mb-4 text-primary",children:i.title})]}),g.jsx("div",{className:"w-24 h-24 border border-border bg-muted flex-shrink-0 rounded"})]}),g.jsxs("div",{className:"space-y-2 mb-4 text-foreground",children:[g.jsxs("p",{children:[" ",i.date]}),g.jsxs("p",{children:[" ",i.time]}),g.jsxs("p",{children:[" ",i.location]})]}),g.jsx("p",{className:"text-sm mb-6 text-secondary",children:i.description}),g.jsxs("div",{className:"border-t border-border pt-4",children:[g.jsx("h4",{className:"mb-2 text-primary",children:""}),g.jsx("ul",{className:"space-y-1 text-sm text-secondary",children:i.notes.map((l,u)=>g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:l})]},u))})]})]}),g.jsxs("section",{children:[g.jsxs("h3",{className:"mb-4 text-primary",children:["",i.items.length,""]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.items.map(l=>g.jsxs("button",{onClick:()=>a(l.id),className:"border border-border bg-card hover:shadow-md transition-all text-left rounded-lg overflow-hidden",children:[g.jsx("div",{className:"w-full h-48 border-b border-border bg-muted flex items-center justify-center",children:g.jsx("div",{className:"w-20 h-20 border-2 border-primary/30 rounded"})}),g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-xs mb-1 text-secondary",children:l.category}),g.jsx("h4",{className:"mb-2 text-foreground",children:l.title}),g.jsxs("p",{className:"text-xl mb-2 text-accent",children:["",l.price.toLocaleString()]}),g.jsxs("div",{className:"flex items-center gap-2 text-xs text-secondary",children:[g.jsx("div",{className:"w-5 h-5 border border-border rounded-full bg-muted"}),g.jsx("span",{children:l.seller})]})]})]},l.id))})]})]})]})}var Vr={},na={},Gu=function(t,e){return Gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},Gu(t,e)};function sm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ba=function(){return ba=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ba.apply(this,arguments)};function Rs(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function im(t,e,n,i){var a=arguments.length,l=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,i);else for(var f=t.length-1;f>=0;f--)(u=t[f])&&(l=(a<3?u(l):a>3?u(e,n,l):u(e,n))||l);return a>3&&l&&Object.defineProperty(e,n,l),l}function om(t,e){return function(n,i){e(n,i,t)}}function am(t,e,n,i,a,l){function u(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var f=i.kind,h=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&t?i.static?t:t.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),w,_=!1,x=n.length-1;x>=0;x--){var b={};for(var S in i)b[S]=S==="access"?{}:i[S];for(var S in i.access)b.access[S]=i.access[S];b.addInitializer=function(N){if(_)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(N||null))};var j=(0,n[x])(f==="accessor"?{get:v.get,set:v.set}:v[h],b);if(f==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(w=u(j.get))&&(v.get=w),(w=u(j.set))&&(v.set=w),(w=u(j.init))&&a.unshift(w)}else(w=u(j))&&(f==="field"?a.unshift(w):v[h]=w)}m&&Object.defineProperty(m,i.name,v),_=!0}function lm(t,e,n){for(var i=arguments.length>2,a=0;a<e.length;a++)n=i?e[a].call(t,n):e[a].call(t);return i?n:void 0}function um(t){return typeof t=="symbol"?t:"".concat(t)}function cm(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function dm(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function re(t,e,n,i){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{m(i.next(v))}catch(w){u(w)}}function h(v){try{m(i.throw(v))}catch(w){u(w)}}function m(v){v.done?l(v.value):a(v.value).then(f,h)}m((i=i.apply(t,e||[])).next())})}function fm(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=f(0),u.throw=f(1),u.return=f(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(m){return function(v){return h([m,v])}}function h(m){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(v){m=[6,v],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Da=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,a)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function hm(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Da(e,t,n)}function xa(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),a,l=[],u;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(f){u={error:f}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return l}function pm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bc(arguments[e]));return t}function mm(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<n;e++)for(var l=arguments[e],u=0,f=l.length;u<f;u++,a++)i[a]=l[u];return i}function gm(t,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function As(t){return this instanceof As?(this.v=t,this):new As(t)}function vm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(x){return function(b){return Promise.resolve(b).then(x,w)}}function f(x,b){i[x]&&(a[x]=function(S){return new Promise(function(j,N){l.push([x,S,j,N])>1||h(x,S)})},b&&(a[x]=b(a[x])))}function h(x,b){try{m(i[x](b))}catch(S){_(l[0][3],S)}}function m(x){x.value instanceof As?Promise.resolve(x.value.v).then(v,w):_(l[0][2],x)}function v(x){h("next",x)}function w(x){h("throw",x)}function _(x,b){x(b),l.shift(),l.length&&h(l[0][0],l[0][1])}}function ym(t){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,l){e[a]=t[a]?function(u){return(n=!n)?{value:As(t[a](u)),done:!1}:l?l(u):u}:l}}function wm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xa=="function"?xa(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(f,h){u=t[l](u),a(f,h,u.done,u.value)})}}function a(l,u,f,h){Promise.resolve(h).then(function(m){l({value:m,done:f})},u)}}function _m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var uw=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Ju=function(t){return Ju=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},Ju(t)};function bm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Ju(t),i=0;i<n.length;i++)n[i]!=="default"&&Da(e,t,n[i]);return uw(e,t),e}function xm(t){return t&&t.__esModule?t:{default:t}}function km(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function Sm(t,e,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n}function Em(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function jm(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var cw=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Tm(t){function e(l){t.error=t.hasError?new cw(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var n,i=0;function a(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(a);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(l).then(a,function(u){return e(u),a()})}else i|=1}catch(u){e(u)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function Om(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,a,l,u){return i?e?".jsx":".js":a&&(!l||!u)?n:a+l+"."+u.toLowerCase()+"js"}):t}const dw={__extends:sm,__assign:ba,__rest:Rs,__decorate:im,__param:om,__esDecorate:am,__runInitializers:lm,__propKey:um,__setFunctionName:cm,__metadata:dm,__awaiter:re,__generator:fm,__createBinding:Da,__exportStar:hm,__values:xa,__read:bc,__spread:pm,__spreadArrays:mm,__spreadArray:gm,__await:As,__asyncGenerator:vm,__asyncDelegator:ym,__asyncValues:wm,__makeTemplateObject:_m,__importStar:bm,__importDefault:xm,__classPrivateFieldGet:km,__classPrivateFieldSet:Sm,__classPrivateFieldIn:Em,__addDisposableResource:jm,__disposeResources:Tm,__rewriteRelativeImportExtension:Om},fw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jm,get __assign(){return ba},__asyncDelegator:ym,__asyncGenerator:vm,__asyncValues:wm,__await:As,__awaiter:re,__classPrivateFieldGet:km,__classPrivateFieldIn:Em,__classPrivateFieldSet:Sm,__createBinding:Da,__decorate:im,__disposeResources:Tm,__esDecorate:am,__exportStar:hm,__extends:sm,__generator:fm,__importDefault:xm,__importStar:bm,__makeTemplateObject:_m,__metadata:dm,__param:om,__propKey:um,__read:bc,__rest:Rs,__rewriteRelativeImportExtension:Om,__runInitializers:lm,__setFunctionName:cm,__spread:pm,__spreadArray:gm,__spreadArrays:mm,__values:xa,default:dw},Symbol.toStringTag,{value:"Module"})),hw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let La=class extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}},Nm=class extends La{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Qu=class extends La{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Yu=class extends La{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var ka;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ka||(ka={}));class pw{constructor(e,{headers:n={},customFetch:i,region:a=ka.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=hw(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return re(this,arguments,void 0,function*(n,i={}){var a;let l,u;try{const{headers:f,method:h,body:m,signal:v,timeout:w}=i;let _={},{region:x}=i;x||(x=this.region);const b=new URL(`${this.url}/${n}`);x&&x!=="any"&&(_["x-region"]=x,b.searchParams.set("forceFunctionRegion",x));let S;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(_["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(_["Content-Type"]="application/json",S=JSON.stringify(m)):S=m;let j=v;w&&(u=new AbortController,l=setTimeout(()=>u.abort(),w),v?(j=u.signal,v.addEventListener("abort",()=>u.abort())):j=u.signal);const N=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:S,signal:j}).catch(U=>{throw new Nm(U)}),A=N.headers.get("x-relay-error");if(A&&A==="true")throw new Qu(N);if(!N.ok)throw new Yu(N);let P=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),z;return P==="application/json"?z=yield N.json():P==="application/octet-stream"||P==="application/pdf"?z=yield N.blob():P==="text/event-stream"?z=N:P==="multipart/form-data"?z=yield N.formData():z=yield N.text(),{data:z,error:null,response:N}}catch(f){return{data:null,error:f,response:f instanceof Yu||f instanceof Qu?f.context:void 0}}finally{l&&clearTimeout(l)}})}}const mw=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ka},FunctionsClient:pw,FunctionsError:La,FunctionsFetchError:Nm,FunctionsHttpError:Yu,FunctionsRelayError:Qu},Symbol.toStringTag,{value:"Module"})),Cm=Mi(mw);var Rt={};const Is=Mi(fw);var sa={},ia={},oa={},aa={},la={},ua={},Lh;function Am(){if(Lh)return ua;Lh=1,Object.defineProperty(ua,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ua.default=t,ua}var zh;function Pm(){if(zh)return la;zh=1,Object.defineProperty(la,"__esModule",{value:!0});const e=Is.__importDefault(Am());let n=class{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,v,w,_;let x=null,b=null,S=null,j=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const U=await h.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?b=U:b=JSON.parse(U))}const P=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),z=(w=h.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");P&&z&&z.length>1&&(S=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(x={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,j=406,N="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const P=await h.text();try{x=JSON.parse(P),Array.isArray(x)&&h.status===404&&(b=[],x=null,j=200,N="OK")}catch{h.status===404&&P===""?(j=204,N="No Content"):x={message:P}}if(x&&this.isMaybeSingle&&(!((_=x?.details)===null||_===void 0)&&_.includes("0 rows"))&&(x=null,j=200,N="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:b,count:S,status:j,statusText:N}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,v,w,_,x,b;let S="";const j=h?.cause;if(j){const N=(m=j?.message)!==null&&m!==void 0?m:"",A=(v=j?.code)!==null&&v!==void 0?v:"";S=`${(w=h?.name)!==null&&w!==void 0?w:"FetchError"}: ${h?.message}`,S+=`

Caused by: ${(_=j?.name)!==null&&_!==void 0?_:"Error"}: ${N}`,A&&(S+=` (${A})`),j?.stack&&(S+=`
${j.stack}`)}else S=(x=h?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(a,l)}returns(){return this}overrideTypes(){return this}};return la.default=n,la}var Uh;function Rm(){if(Uh)return aa;Uh=1,Object.defineProperty(aa,"__esModule",{value:!0});const e=Is.__importDefault(Pm());let n=class extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(m,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const w=[a?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return aa.default=n,aa}var Fh;function xc(){if(Fh)return oa;Fh=1,Object.defineProperty(oa,"__esModule",{value:!0});const e=Is.__importDefault(Rm()),n=new RegExp("[,()]");let i=class extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}regexMatch(l,u){return this.url.searchParams.append(l,`match.${u}`),this}regexIMatch(l,u){return this.url.searchParams.append(l,`imatch.${u}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}isDistinct(l,u){return this.url.searchParams.append(l,`isdistinct.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(h=>typeof h=="string"&&n.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${m}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}};return oa.default=i,oa}var Mh;function Im(){if(Mh)return ia;Mh=1,Object.defineProperty(ia,"__esModule",{value:!0});const e=Is.__importDefault(xc());let n=class{constructor(a,{headers:l={},schema:u,fetch:f}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(a,l){const{head:u=!1,count:f}=l??{},h=u?"HEAD":"GET";let m=!1;const v=(a??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const w=a.reduce((_,x)=>_.concat(Object.keys(x)),[]);if(w.length>0){const _=[...new Set(w)].map(x=>`"${x}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return ia.default=n,ia}var Bh;function gw(){if(Bh)return sa;Bh=1,Object.defineProperty(sa,"__esModule",{value:!0});const t=Is,e=t.__importDefault(Im()),n=t.__importDefault(xc());let i=class $m{constructor(l,{headers:u={},schema:f,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new $m(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:h=!1,count:m}={}){var v;let w;const _=new URL(`${this.url}/rpc/${l}`);let x;f||h?(w=f?"HEAD":"GET",Object.entries(u).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{_.searchParams.append(S,j)})):(w="POST",x=u);const b=new Headers(this.headers);return m&&b.set("Prefer",`count=${m}`),new n.default({method:w,url:_,headers:b,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return sa.default=i,sa}var Vh;function Dm(){if(Vh)return Rt;Vh=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PostgrestError=Rt.PostgrestBuilder=Rt.PostgrestTransformBuilder=Rt.PostgrestFilterBuilder=Rt.PostgrestQueryBuilder=Rt.PostgrestClient=void 0;const t=Is,e=t.__importDefault(gw());Rt.PostgrestClient=e.default;const n=t.__importDefault(Im());Rt.PostgrestQueryBuilder=n.default;const i=t.__importDefault(xc());Rt.PostgrestFilterBuilder=i.default;const a=t.__importDefault(Rm());Rt.PostgrestTransformBuilder=a.default;const l=t.__importDefault(Pm());Rt.PostgrestBuilder=l.default;const u=t.__importDefault(Am());return Rt.PostgrestError=u.default,Rt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},Rt}class Lm{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vw="2.87.1",yw=`realtime-js/${vw}`,zm="1.0.0",ww="2.0.0",qh=zm,Xu=1e4,_w=1e3,bw=100;var Fn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fn||(Fn={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var xr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xr||(xr={}));var ec;(function(t){t.websocket="websocket"})(ec||(ec={}));var Mn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mn||(Mn={}));class xw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,i){var a,l;const u=e.topic,f=(a=e.ref)!==null&&a!==void 0?a:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+u.length+m.length+w.length,x=new ArrayBuffer(this.HEADER_LENGTH+_);let b=new DataView(x),S=0;b.setUint8(S++,this.KINDS.userBroadcastPush),b.setUint8(S++,h.length),b.setUint8(S++,f.length),b.setUint8(S++,u.length),b.setUint8(S++,m.length),b.setUint8(S++,w.length),b.setUint8(S++,n),Array.from(h,N=>b.setUint8(S++,N.charCodeAt(0))),Array.from(f,N=>b.setUint8(S++,N.charCodeAt(0))),Array.from(u,N=>b.setUint8(S++,N.charCodeAt(0))),Array.from(m,N=>b.setUint8(S++,N.charCodeAt(0))),Array.from(w,N=>b.setUint8(S++,N.charCodeAt(0)));var j=new Uint8Array(x.byteLength+i.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(i),x.byteLength),j.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,u,f,h]=i;return n({join_ref:a,ref:l,topic:u,event:f,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,i){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=i.decode(e.slice(h,h+a));h=h+a;const v=i.decode(e.slice(h,h+l));h=h+l;const w=i.decode(e.slice(h,h+u));h=h+u;const _=e.slice(h,e.byteLength),x=f===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,b={type:this.BROADCAST_EVENT,event:v,payload:x};return u>0&&(b.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class Um{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ze||(Ze={}));const Zh=(t,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=kw(u,t,e,a),l),{}):{}},kw=(t,e,n,i)=>{const a=e.find(f=>f.name===t),l=a?.type,u=n[t];return l&&!i.includes(l)?Fm(l,u):tc(u)},Fm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Tw(e,n)}switch(t){case Ze.bool:return Sw(e);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return Ew(e);case Ze.json:case Ze.jsonb:return jw(e);case Ze.timestamp:return Ow(e);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return tc(e);default:return tc(e)}},tc=t=>t,Sw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ew=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Tw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>Fm(e,f))}return t},Ow=t=>typeof t=="string"?t.replace(" ","T"):t,Mm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lu{constructor(e,n,i={},a=Xu){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rc||(rc={}));let Bm=class va{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,a,l,u),this.pendingDiffs.forEach(h=>{this.state=va.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=va.syncDiff(this.state,a,l,u),f())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const l=this.cloneDeep(e),u=this.transformState(n),f={},h={};return this.map(l,(m,v)=>{u[m]||(h[m]=v)}),this.map(u,(m,v)=>{const w=l[m];if(w){const _=v.map(j=>j.presence_ref),x=w.map(j=>j.presence_ref),b=v.filter(j=>x.indexOf(j.presence_ref)<0),S=w.filter(j=>_.indexOf(j.presence_ref)<0);b.length>0&&(f[m]=b),S.length>0&&(h[m]=S)}else f[m]=v}),this.syncDiff(l,{joins:f,leaves:h},i,a)}static syncDiff(e,n,i,a){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(f,h)=>{var m;const v=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),v.length>0){const w=e[f].map(x=>x.presence_ref),_=v.filter(x=>w.indexOf(x.presence_ref)<0);e[f].unshift(..._)}i(f,v,h)}),this.map(u,(f,h)=>{let m=e[f];if(!m)return;const v=h.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),e[f]=m,a(f,m,h),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var nc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(nc||(nc={}));var Os;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Os||(Os={}));var Ar;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ar||(Ar={}));const Nw=ut;let Vm=class Ti{constructor(e,n={config:{}},i){var a,l;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lu(this,xr.join,this.params,this.timeout),this.rejoinTimer=new Um(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Bm(this),this.broadcastEndpointURL=Mm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},_={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(Ar.CHANNEL_ERROR,x)),this._onClose(()=>e?.(Ar.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(Ar.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(b=S?.length)!==null&&b!==void 0?b:0,N=[];for(let A=0;A<j;A++){const P=S[A],{filter:{event:z,schema:U,table:K,filter:G}}=P,ae=x&&x[A];if(ae&&ae.event===z&&Ti.isFilterValueEqual(ae.schema,U)&&Ti.isFilterValueEqual(ae.table,K)&&Ti.isFilterValueEqual(ae.filter,G))N.push(Object.assign(Object.assign({},P),{id:ae.id}));else{this.unsubscribe(),this.state=ut.errored,e?.(Ar.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Ar.SUBSCRIBED);return}}).receive("error",x=>{this.state=ut.errored,e?.(Ar.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ar.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===ut.joined&&e===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,h;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Lu(this,xr.leave,{},e),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lu(this,e,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,l;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=xr;if(i&&[f,h,m,v].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,n,i);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var b,S,j;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(S=x.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(x=>x.callback(_,i)):(l=this.bindings[u])===null||l===void 0||l.filter(x=>{var b,S,j,N,A,P;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const z=x.id,U=(b=x.filter)===null||b===void 0?void 0:b.event;return z&&((S=n.ids)===null||S===void 0?void 0:S.includes(z))&&(U==="*"||U?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const z=(A=(N=x?.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return z==="*"||z===((P=n?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof _=="object"&&"ids"in _){const b=_.data,{schema:S,table:j,commit_timestamp:N,type:A,errors:P}=b;_=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:N,eventType:A,new:{},old:{},errors:P}),this._getPayloadRecords(b))}x.callback(_,i)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Ti.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xr.close,{},e)}_onError(e){this._on(xr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Zh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Zh(e.columns,e.old_record)),n}};const zu=()=>{},ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cw=[1e3,2e3,5e3,1e4],Aw=1e4,Pw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Rw=class{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xu,this.transport=null,this.heartbeatIntervalMs=ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zu,this.ref=0,this.reconnectTimer=null,this.vsn=qh,this.logger=zu,this.conn=null,this.sendBuffer=[],this.serializer=new xw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ec.websocket}`,this.httpEndpoint=Mm(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Lm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return Mn.Connecting;case Fn.open:return Mn.Open;case Fn.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Vm(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:a,ref:l}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${n} ${i} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_w,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:u}=n,f=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${a} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fn.open||this.conn.readyState===Fn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([Pw],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:yw};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(xr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Um(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ca.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,a,l,u,f,h,m,v,w,_,x;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Xu,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:ca.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:zu,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:qh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(b=>Cw[b-1]||Aw),this.vsn){case zm:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((b,S)=>S(JSON.stringify(b))),this.decode=(w=e?.decode)!==null&&w!==void 0?w:((b,S)=>S(JSON.parse(b)));break;case ww:this.encode=(_=e?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const Iw=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Nw,get REALTIME_LISTEN_TYPES(){return Os},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return nc},get REALTIME_PRESENCE_LISTEN_EVENTS(){return rc},get REALTIME_SUBSCRIBE_STATES(){return Ar},RealtimeChannel:Vm,RealtimeClient:Rw,RealtimePresence:Bm,WebSocketFactory:Lm},Symbol.toStringTag,{value:"Module"})),qm=Mi(Iw);class Bi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zm extends Bi{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sa extends Bi{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const kc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$w=()=>Response,sc=t=>{if(Array.isArray(t))return t.map(n=>sc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=sc(i)}),e},Dw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Lw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Uu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},zw=(t,e,n)=>re(void 0,void 0,void 0,function*(){const i=yield $w();t instanceof i&&!n?.noResolveJson?t.json().then(a=>{const l=t.status||500,u=a?.statusCode||l+"";e(new Zm(Uu(a),l,u))}).catch(a=>{e(new Sa(Uu(a),a))}):e(new Sa(Uu(t),t))}),Uw=(t,e,n,i)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!i?a:(Dw(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function Vi(t,e,n,i,a,l){return re(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,Uw(e,i,a,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>zw(h,f,i))})})}function Ii(t,e,n,i){return re(this,void 0,void 0,function*(){return Vi(t,"GET",e,n,i)})}function br(t,e,n,i,a){return re(this,void 0,void 0,function*(){return Vi(t,"POST",e,i,a,n)})}function ic(t,e,n,i,a){return re(this,void 0,void 0,function*(){return Vi(t,"PUT",e,i,a,n)})}function Fw(t,e,n,i){return re(this,void 0,void 0,function*(){return Vi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Sc(t,e,n,i,a){return re(this,void 0,void 0,function*(){return Vi(t,"DELETE",e,i,a,n)})}class Mw{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}var Wm;class Bw{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Wm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mw(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}Wm=Symbol.toStringTag;const Vw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qw{constructor(e,n={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=kc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,a){return re(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Wh),a);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),w=yield(e=="PUT"?ic:br)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}upload(e,n,i){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,a){return re(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let h;const m=Object.assign({upsert:Wh.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield ic(this.fetch,f.toString(),h,{headers:v});return{data:{path:l,fullPath:w.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Je(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const l=yield br(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new Bi("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}update(e,n,i){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return re(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}copy(e,n,i){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,i){return re(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield br(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,i){return re(this,void 0,void 0,function*(){try{const a=yield br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}download(e,n){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),h=()=>Ii(this.fetch,`${this.url}/${a}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new Bw(h,this.shouldThrowOnError)}info(e){return re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Ii(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}exists(e){return re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Fw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i)&&i instanceof Sa){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),a=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const f=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&a.push(h);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(e){return re(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}list(e,n,i){return re(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Vw),n),{prefix:e||""});return{data:yield br(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}listV2(e,n){return re(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Hm="2.87.1",Km={"X-Client-Info":`storage-js/${Hm}`};class Zw{constructor(e,n={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Km),n),this.fetch=kc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return re(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ii(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Ii(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}createBucket(e){return re(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return re(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}emptyBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var $i=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ww(t,e,n){const i=new URL(e,t);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function Hw(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Kw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:a,body:l,headers:u}){const f=Ww(t.baseUrl,i,a),h=await Hw(t.auth),m=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),_=w&&v?JSON.parse(v):v;if(!m.ok){const x=w?_:void 0,b=x?.error;throw new $i(b?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:b?.type,icebergCode:b?.code,details:x})}return{status:m.status,headers:m.headers,data:_}}}}function da(t){return t.join("")}var Gw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:da(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${da(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${da(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${da(t.namespace)}`}),!0}catch(e){if(e instanceof $i&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof $i&&n.status===409)return;throw n}}};function ws(t){return t.join("")}var Jw=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ws(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof $i&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof $i&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Qw=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Kw({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Gw(this.client,e),this.tableOps=new Jw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Gm{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Km),n),this.fetch=kc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBuckets(e){return re(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ii(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}from(e){if(!Lw(e))throw new Bi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Qw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>re(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(l,u){const f=l[u];return typeof f!="function"?f:(...h)=>re(this,void 0,void 0,function*(){try{return{data:yield f.apply(l,h),error:null}}catch(m){if(i)throw m;return{data:null,error:m}}})}})}}const Ec={"X-Client-Info":`storage-js/${Hm}`,"Content-Type":"application/json"};class jc extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class ya extends jc{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jm extends jc{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var oc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(oc||(oc={}));const za=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yw=()=>Response,Qm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xw=t=>Array.from(new Float32Array(t)),e_=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Hh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),t_=(t,e,n)=>re(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const a=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const f=u?.statusCode||u?.code||a+"";e(new ya(Hh(u),a,f))}).catch(()=>{const u=a+"",f=l.statusText||`HTTP ${a} error`;e(new ya(f,a,u))});else{const u=a+"",f=l.statusText||`HTTP ${a} error`;e(new ya(f,a,u))}}else e(new Jm(Hh(t),t))}),r_=(t,e,n,i)=>{const a={method:t,headers:e?.headers||{}};return i?(Qm(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),n)):a};function n_(t,e,n,i,a,l){return re(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,r_(e,i,a,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>t_(h,f,i))})})}function tr(t,e,n,i,a){return re(this,void 0,void 0,function*(){return n_(t,"POST",e,i,a,n)})}class Ym{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ec),n),this.fetch=za(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return re(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return re(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}listIndexes(e){return re(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return re(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}}class Xm{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ec),n),this.fetch=za(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}listVectors(e){return re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}queryVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}}class eg{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ec),n),this.fetch=za(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}listBuckets(){return re(this,arguments,void 0,function*(e={}){try{return{data:yield tr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}}class tg extends eg{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new rg(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return re(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return re(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return re(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return re(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class rg extends Ym{constructor(e,n,i,a){super(e,n,a),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return re(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return re(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return re(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return re(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ng(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ng extends Xm{constructor(e,n,i,a,l){super(e,n,l),this.vectorBucketName=i,this.indexName=a}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return re(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return re(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return re(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return re(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return re(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class s_ extends Zw{constructor(e,n={},i,a){super(e,n,i,a)}from(e){return new qw(this.url,this.headers,e,this.fetch)}get vectors(){return new tg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Gm(this.url+"/iceberg",this.headers,this.fetch)}}const i_=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Gm,StorageApiError:Zm,StorageClient:s_,StorageError:Bi,StorageUnknownError:Sa,StorageVectorsApiError:ya,StorageVectorsClient:tg,StorageVectorsError:jc,get StorageVectorsErrorCode(){return oc},StorageVectorsUnknownError:Jm,VectorBucketApi:eg,VectorBucketScope:rg,VectorDataApi:Xm,VectorIndexApi:Ym,VectorIndexScope:ng,isPlainObject:Qm,isStorageError:Je,isStorageVectorsError:Kt,normalizeToFloat32:Xw,resolveFetch:za,resolveResponse:Yw,validateVectorDimension:e_},Symbol.toStringTag,{value:"Module"})),o_=Mi(i_);var Fu={},Si={},Kh;function a_(){return Kh||(Kh=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.version=void 0,Si.version="2.87.1"),Si}var Gh;function l_(){return Gh||(Gh=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=a_();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Fu)),Fu}var Mu={},Jh;function u_(){return Jh||(Jh=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=a=>a?(...l)=>a(...l):(...l)=>fetch(...l);t.resolveFetch=e;const n=()=>Headers;t.resolveHeadersConstructor=n;const i=(a,l,u)=>{const f=(0,t.resolveFetch)(u),h=(0,t.resolveHeadersConstructor)();return async(m,v)=>{var w;const _=(w=await l())!==null&&w!==void 0?w:a;let x=new h(v?.headers);return x.has("apikey")||x.set("apikey",a),x.has("Authorization")||x.set("Authorization",`Bearer ${_}`),f(m,Object.assign(Object.assign({},v),{headers:x}))}};t.fetchWithAuth=i})(Mu)),Mu}var qr={},Qh;function c_(){if(Qh)return qr;Qh=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.isBrowser=void 0,qr.uuid=t,qr.ensureTrailingSlash=e,qr.applySettingDefaults=i,qr.validateSupabaseUrl=a;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var u=Math.random()*16|0,f=l=="x"?u:u&3|8;return f.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const n=()=>typeof window<"u";qr.isBrowser=n;function i(l,u){var f,h;const{db:m,auth:v,realtime:w,global:_}=l,{db:x,auth:b,realtime:S,global:j}=u,N={db:Object.assign(Object.assign({},x),m),auth:Object.assign(Object.assign({},b),v),realtime:Object.assign(Object.assign({},S),w),storage:{},global:Object.assign(Object.assign(Object.assign({},j),_),{headers:Object.assign(Object.assign({},(f=j?.headers)!==null&&f!==void 0?f:{}),(h=_?.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return l.accessToken?N.accessToken=l.accessToken:delete N.accessToken,N}function a(l){const u=l?.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return qr}var Ei={};const sg="2.87.1",Ss=30*1e3,ac=3,Bu=ac*Ss,d_="http://localhost:9999",f_="supabase.auth.token",h_={"X-Client-Info":`gotrue-js/${sg}`},lc="X-Supabase-Api-Version",ig={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m_=600*1e3;let Ps=class extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}};function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let og=class extends Ps{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}};function ag(t){return ue(t)&&t.name==="AuthApiError"}let gn=class extends Ps{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Wr=class extends Ps{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}},Wt=class extends Wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function lg(t){return ue(t)&&t.name==="AuthSessionMissingError"}let Ln=class extends Wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Oi=class extends Wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Ni=class extends Wr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ug(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}let uc=class extends Wr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ea=class extends Wr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function wa(t){return ue(t)&&t.name==="AuthRetryableFetchError"}let cc=class extends Wr{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}};function g_(t){return ue(t)&&t.name==="AuthWeakPasswordError"}let ja=class extends Wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yh=` 	
\r=`.split(""),v_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yh.length;e+=1)t[Yh[e].charCodeAt(0)]=-2;for(let e=0;e<Ta.length;e+=1)t[Ta[e].charCodeAt(0)]=e;return t})();function Xh(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Ta[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Ta[i]),e.queuedBits-=6}}function cg(t,e,n){const i=v_[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ep(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{__(u,i,n)};for(let u=0;u<t.length;u+=1)cg(t.charCodeAt(u),a,l);return e.join("")}function y_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function w_(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}y_(i,e)}}function __(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ns(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)cg(t.charCodeAt(a),n,i);return new Uint8Array(e)}function b_(t){const e=[];return w_(t,n=>e.push(n)),new Uint8Array(e)}function Bn(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>Xh(a,n,i)),Xh(null,n,i),e.join("")}function x_(t){return Math.round(Date.now()/1e3)+t}function k_(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",$n={tested:!1,writable:!1},dg=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($n.tested)return $n.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$n.tested=!0,$n.writable=!0}catch{$n.tested=!0,$n.writable=!1}return $n.writable};function S_(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const fg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Es=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Dn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jt=async(t,e)=>{await t.removeItem(e)};class Ua{constructor(){this.promise=new Ua.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ua.promiseConstructor=Promise;function Vu(t){const e=t.split(".");if(e.length!==3)throw new ja("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!p_.test(e[i]))throw new ja("JWT not in base64url format");return{header:JSON.parse(ep(e[0])),payload:JSON.parse(ep(e[1])),signature:Ns(e[2]),raw:{header:e[0],payload:e[1]}}}async function j_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function T_(t,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function O_(t){return("0"+t.toString(16)).substr(-2)}function N_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,O_).join("")}async function C_(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function A_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await C_(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(t,e,n=!1){const i=N_();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await Es(t,`${e}-code-verifier`,a);const l=await A_(i);return[l,i===l?"plain":"s256"]}const P_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R_(t){const e=t.headers.get(lc);if(!e||!e.match(P_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function I_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bs(t){if(!D_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function L_(t,e){return new Proxy(t,{get:(n,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,a)}})}function tp(t){return JSON.parse(JSON.stringify(t))}const zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),z_=[502,503,504];async function rp(t){var e;if(!E_(t))throw new Ea(zn(t),0);if(z_.includes(t.status))throw new Ea(zn(t),t.status);let n;try{n=await t.json()}catch(l){throw new gn(zn(l),l)}let i;const a=R_(t);if(a&&a.getTime()>=ig["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new cc(zn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Wt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new cc(zn(n),t.status,n.weak_password.reasons);throw new og(zn(n),t.status||500,i)}const U_=(t,e,n,i)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function ye(t,e,n,i){var a;const l=Object.assign({},i?.headers);l[lc]||(l[lc]=ig["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await F_(t,e,n+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function F_(t,e,n,i,a,l){const u=U_(e,i,a,l);let f;try{f=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new Ea(zn(h),0)}if(f.ok||await rp(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await rp(h)}}function _r(t){var e;let n=null;V_(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=x_(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function np(t){const e=_r(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function M_(t){return{data:t,error:null}}function B_(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l}=t,u=Rs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function sp(t){return t}function V_(t){return t.access_token&&t.refresh_token&&t.expires_in}const _a=["global","local","others"];let Tc=class{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=fg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=_a[0]){if(_a.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_a.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vn})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Rs(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:B_,redirectTo:n?.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:sp});if(v.error)throw v.error;const w=await v.json(),_=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);m[`${j}Page`]=S}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){bs(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){bs(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:vn})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){bs(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:vn})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){bs(e.userId);try{const{data:n,error:i}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){bs(e.userId),bs(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,a,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:sp});if(v.error)throw v.error;const w=await v.json(),_=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);m[`${j}Page`]=S}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}};function ip(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Un={debug:!!(globalThis&&dg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Oc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let hg=class extends Oc{};class q_ extends Oc{}async function pg(t,e,n){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Un.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const op={};async function Z_(t,e,n){var i;const a=(i=op[t])!==null&&i!==void 0?i:Promise.resolve(),l=Promise.race([a.catch(()=>null),e>=0?new Promise((u,f)=>{setTimeout(()=>{f(new q_(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await n());return op[t]=l.catch(async u=>{if(u&&u.isAcquireTimeout)return await a,null;throw u}),await l}function W_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function H_(t){return parseInt(t,16)}function K_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function G_(t){var e;const{chainId:n,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:h,resources:m,scheme:v,uri:w,version:_}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=mg(t.address),b=v?`${v}://${i}`:i,S=t.statement?`${t.statement}
`:"",j=`${b} wants you to sign in with your Ethereum account:
${x}

${S}`;let N=`URI: ${w}
Version: ${_}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),f&&(N+=`
Not Before: ${f.toISOString()}`),h&&(N+=`
Request ID: ${h}`),m){let A=`
Resources:`;for(const P of m){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);A+=`
- ${P}`}N+=A}return`${j}
${N}`}class ct extends Error{constructor({message:e,code:n,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Oa extends ct{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function J_({error:t,options:e}){var n,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(gg(u)){if(l.rp.id!==u)return new ct({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Q_({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(gg(i)){if(n.rpId!==i)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Y_{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const X_=new Y_;function e0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,a=Rs(t,["challenge","user","excludeCredentials"]),l=Ns(e).buffer,u=Object.assign(Object.assign({},n),{id:Ns(n.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:u});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ns(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function t0(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Rs(t,["challenge","allowCredentials"]),a=Ns(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Ns(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function r0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Bn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Bn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Bn(new Uint8Array(a.authenticatorData)),clientDataJSON:Bn(new Uint8Array(a.clientDataJSON)),signature:Bn(new Uint8Array(a.signature)),userHandle:a.userHandle?Bn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ap(){var t,e;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function s0(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oa("Browser returned unexpected credential type",e)}:{data:null,error:new Oa("Empty credential response",e)}}catch(e){return{data:null,error:J_({error:e,options:t})}}}async function i0(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oa("Browser returned unexpected credential type",e)}:{data:null,error:new Oa("Empty credential response",e)}}catch(e){return{data:null,error:Q_({error:e,options:t})}}}const o0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},a0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Na(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(n(u))i[l]=u;else if(e(u)){const f=i[l];e(f)?i[l]=Na(f,u):i[l]=Na(u)}else i[l]=u}return i}function l0(t,e){return Na(o0,t,e||{})}function u0(t,e){return Na(a0,t,e||{})}class c0{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:a},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const h=a??X_.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=l0(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:w}=await s0({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=u0(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:w}=await i0(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new gn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Ps("rpId is required for WebAuthn authentication")};try{if(!ap())return{data:null,error:new gn("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:l});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new gn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Ps("rpId is required for WebAuthn registration")};try{if(!ap())return{data:null,error:new gn("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new gn("Unexpected error in register",u)}}}}W_();const d0={url:d_,storageKey:f_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lp(t,e,n){return await n()}const xs={};let Nc=class dc{get jwks(){var e,n;return(n=(e=xs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=xs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},d0),e);if(this.storageKey=l.storageKey,this.instanceID=(n=dc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,dc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ot()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Tc({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=fg(l.fetch),this.lock=l.lock||lp,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ot()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=pg:this.lock=lp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new c0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:dg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ip(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=ip(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(Ot()&&(n=S_(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Ot()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),ug(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?this._returnResult({error:n}):this._returnResult({error:new gn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:_r}),{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,i,a;try{let l;if("email"in e){const{email:v,password:w,options:_}=e;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await _s(this.storage,this.storageKey)),l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:w,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:x,code_challenge_method:b},xform:_r})}else if("phone"in e){const{phone:v,password:w,options:_}=e;l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:_r})}else throw new Oi("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:np})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:np})}else throw new Oi("You must provide either an email or phone number and a password");const{data:i,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new Ln;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,a,l,u,f,h,m,v,w,_;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:S,wallet:j,statement:N,options:A}=e;let P;if(Ot())if(typeof j=="object")P=j;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")P=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const z=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href),U=await P.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=mg(U[0]);let G=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!G){const de=await P.request({method:"eth_chainId"});G=H_(de)}const ae={domain:z.host,address:K,statement:N,uri:z.href,version:"1",chainId:G,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=A?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=A?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=A?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=G_(ae),b=await P.request({method:"personal_sign",params:[K_(x),K]})}try{const{data:S,error:j}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:_r});if(j)throw j;if(!S||!S.session||!S.user){const N=new Ln;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(ue(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var n,i,a,l,u,f,h,m,v,w,_,x;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:j,wallet:N,statement:A,options:P}=e;let z;if(Ot())if(typeof N=="object")z=N;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))z=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=N}const U=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const K=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),A?{statement:A}:null));let G;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")G=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)G=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)b=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),S=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${U.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(a=(i=P?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=P?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((m=P?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((w=(v=P?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...P.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const K=await z.signMessage(new TextEncoder().encode(b),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=K}}try{const{data:j,error:N}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Bn(S)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:_r});if(N)throw N;if(!j||!j.session||!j.user){const A=new Ln;return this._returnResult({data:{user:null,session:null},error:A})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:N})}catch(j){if(ue(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const n=await Dn(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{const{data:l,error:u}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:_r});if(await jt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const f=new Ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:l,nonce:u}=e,f=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:_r}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new Ln;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,a,l,u;try{if("email"in e){const{email:f,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await _s(this.storage,this.storageKey));const{error:w}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:v}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Oi("You must provide either an email or phone number.")}catch(f){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,i;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:_r});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,i,a,l,u;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await _s(this.storage,this.storageKey));const m=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:M_});return!((l=m.data)===null||l===void 0)&&l.url&&Ot()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Wt;const{error:a}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:u}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:u,error:f}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new Oi("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Bu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Dn(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=qu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=L_(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vn}):await this._useSession(async n=>{var i,a,l;const{data:u,error:f}=n;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:vn})})}catch(n){if(ue(n))return lg(n)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new Wt;const u=a.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await _s(this.storage,this.storageKey));const{data:m,error:v}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:vn});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wt;const n=Date.now()/1e3;let i=n,a=!0,l=null;const{payload:u}=Vu(e.access_token);if(u.exp&&(i=u.exp,a=i<=n),a){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Wt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ot())throw new Ni("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ni(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ni("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new uc("No code detected.");const{data:A,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:f,expires_at:h,token_type:m}=e;if(!l||!f||!u||!m)throw new Ni("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(f);let _=v+w;h&&(_=parseInt(h));const x=_-v;x*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${w}s`);const b=_-w;v-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,_,v):v-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,_,v);const{data:S,error:j}=await this._getUser(l);if(j)throw j;const N={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:_,refresh_token:u,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(i){if(ue(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Dn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(ag(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=k_(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:l},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await _s(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:a}=await this._useSession(async l=>{var u,f,h,m,v;const{data:w,error:_}=l;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return Ot()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ue(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:u,provider:f,token:h,access_token:m,nonce:v}=e,w=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:_r}),{data:_,error:x}=w;return x?this._returnResult({data:{user:null,session:null},error:x}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Ln}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:x}))}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:u}=n;if(u)throw u;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await T_(async a=>(a>0&&await j_(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_r})),(a,l)=>{const u=200*Math.pow(2,a);return l&&wa(l)&&Date.now()+u-i<Ss})}catch(i){if(this._debug(n,"error",i),ue(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ot()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Dn(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Es(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:qu()}else if(a&&!a.user&&!a.user){const u=await Dn(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await jt(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,a)):a.user=qu()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Bu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),wa(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ua;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Wt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),ue(l)){const u={data:null,error:l};return wa(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Es(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=tp(a);await Es(this.storage,this.storageKey,l)}else{const a=tp(n);await Es(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ss}ms, refresh threshold is ${ac} ticks`),a<=ac&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Oc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await _s(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?r0(e.webauthn.credential_response):n0(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:e0(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:t0(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Vu(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Wt});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Ot()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Wt});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Ot()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(e){if(ue(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(f=>f.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+m_>a)return i;const{data:l,error:u}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:x,error:b}=await this.getSession();if(b||!x.session)return this._returnResult({data:null,error:b});i=x.session.access_token}const{header:a,payload:l,signature:u,raw:{header:f,payload:h}}=Vu(i);n?.allowExpired||I_(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:l,header:a,signature:u},error:null}}const v=$_(a.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,u,b_(`${f}.${h}`)))throw new ja("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}};Nc.nextInstanceID={};const f0=Tc,h0=Nc,p0=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:f0,AuthApiError:og,AuthClient:h0,AuthError:Ps,AuthImplicitGrantRedirectError:Ni,AuthInvalidCredentialsError:Oi,AuthInvalidJwtError:ja,AuthInvalidTokenResponseError:Ln,AuthPKCEGrantCodeExchangeError:uc,AuthRetryableFetchError:Ea,AuthSessionMissingError:Wt,AuthUnknownError:gn,AuthWeakPasswordError:cc,CustomAuthError:Wr,GoTrueAdminApi:Tc,GoTrueClient:Nc,NavigatorLockAcquireTimeoutError:hg,SIGN_OUT_SCOPES:_a,isAuthApiError:ag,isAuthError:ue,isAuthImplicitGrantRedirectError:ug,isAuthRetryableFetchError:wa,isAuthSessionMissingError:lg,isAuthWeakPasswordError:g_,lockInternals:Un,navigatorLock:pg,processLock:Z_},Symbol.toStringTag,{value:"Module"})),vg=Mi(p0);var up;function m0(){if(up)return Ei;up=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.SupabaseAuthClient=void 0;const t=vg;let e=class extends t.AuthClient{constructor(i){super(i)}};return Ei.SupabaseAuthClient=e,Ei}var cp;function dp(){if(cp)return na;cp=1,Object.defineProperty(na,"__esModule",{value:!0});const t=Cm,e=Dm(),n=qm,i=o_,a=l_(),l=u_(),u=c_(),f=m0();class h{constructor(v,w,_){var x,b,S;this.supabaseUrl=v,this.supabaseKey=w;const j=(0,u.validateSupabaseUrl)(v);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",j),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",j),this.storageUrl=new URL("storage/v1",j),this.functionsUrl=new URL("functions/v1",j);const N=`sb-${j.hostname.split(".")[0]}-auth-token`,A={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:N}),global:a.DEFAULT_GLOBAL_OPTIONS},P=(0,u.applySettingDefaults)(_??{},A);this.storageKey=(x=P.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(b=P.global.headers)!==null&&b!==void 0?b:{},P.accessToken?(this.accessToken=P.accessToken,this.auth=new Proxy({},{get:(z,U)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(U)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((S=P.auth)!==null&&S!==void 0?S:{},this.headers,P.global.fetch),this.fetch=(0,l.fetchWithAuth)(w,this._getAccessToken.bind(this),P.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},P.realtime)),this.accessToken&&this.accessToken().then(z=>this.realtime.setAuth(z)).catch(z=>console.warn("Failed to set initial Realtime auth token:",z)),this.rest=new e.PostgrestClient(new URL("rest/v1",j).href,{headers:this.headers,schema:P.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,_?.storage),P.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,w={},_={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,w,_)}channel(v,w={config:{}}){return this.realtime.channel(v,w)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,w;if(this.accessToken)return await this.accessToken();const{data:_}=await this.auth.getSession();return(w=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:w,detectSessionInUrl:_,storage:x,userStorage:b,storageKey:S,flowType:j,lock:N,debug:A,throwOnError:P},z,U){const K={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},K),z),storageKey:S,autoRefreshToken:v,persistSession:w,detectSessionInUrl:_,storage:x,userStorage:b,flowType:j,lock:N,debug:A,throwOnError:P,fetch:U,hasCustomAuthorizationHeader:Object.keys(this.headers).some(G=>G.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,_)=>{this._handleTokenChanged(w,"CLIENT",_?.access_token)})}_handleTokenChanged(v,w,_){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==_?(this.changedAccessToken=_,this.realtime.setAuth(_)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return na.default=h,na}var fp;function g0(){return fp||(fp=1,(function(t){var e=Vr&&Vr.__createBinding||(Object.create?(function(v,w,_,x){x===void 0&&(x=_);var b=Object.getOwnPropertyDescriptor(w,_);(!b||("get"in b?!w.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return w[_]}}),Object.defineProperty(v,x,b)}):(function(v,w,_,x){x===void 0&&(x=_),v[x]=w[_]})),n=Vr&&Vr.__exportStar||function(v,w){for(var _ in v)_!=="default"&&!Object.prototype.hasOwnProperty.call(w,_)&&e(w,v,_)},i=Vr&&Vr.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const a=i(dp());n(vg,t);var l=Dm();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var u=Cm;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),n(qm,t);var f=dp();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return i(f).default}});const h=(v,w,_)=>new a.default(v,w,_);t.createClient=h;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const w=v.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Vr)),Vr}var yg=g0();const wg=nm(yg),v0=Ky({__proto__:null,default:wg},[yg]),{PostgrestError:Jj,FunctionsHttpError:Qj,FunctionsFetchError:Yj,FunctionsRelayError:Xj,FunctionsError:e1,FunctionRegion:t1,SupabaseClient:r1,createClient:y0,GoTrueAdminApi:n1,GoTrueClient:s1,AuthAdminApi:i1,AuthClient:o1,navigatorLock:a1,NavigatorLockAcquireTimeoutError:l1,lockInternals:u1,processLock:c1,SIGN_OUT_SCOPES:d1,AuthError:f1,AuthApiError:h1,AuthUnknownError:p1,CustomAuthError:m1,AuthSessionMissingError:g1,AuthInvalidTokenResponseError:v1,AuthInvalidCredentialsError:y1,AuthImplicitGrantRedirectError:w1,AuthPKCEGrantCodeExchangeError:_1,AuthRetryableFetchError:b1,AuthWeakPasswordError:x1,AuthInvalidJwtError:k1,isAuthError:S1,isAuthApiError:E1,isAuthSessionMissingError:j1,isAuthImplicitGrantRedirectError:T1,isAuthRetryableFetchError:O1,isAuthWeakPasswordError:N1,RealtimePresence:C1,RealtimeChannel:A1,RealtimeClient:P1,REALTIME_LISTEN_TYPES:R1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:I1,REALTIME_PRESENCE_LISTEN_EVENTS:$1,REALTIME_SUBSCRIBE_STATES:D1,REALTIME_CHANNEL_STATES:L1}=wg||v0,w0="https://supabase.com/dashboard/project/rxafuodjoksswirevpws",_0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ4YWZ1b2Rqb2tzc3dpcmV2cHdzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxODAyMzAsImV4cCI6MjA4MDc1NjIzMH0.lup5aIL115Gqaz1ZspL-XgRlgcRCTUZGTFAzLLwgxXM",dt=y0(w0,_0),b0=async()=>{const{data:t,error:e}=await dt.from("items").select("*").order("created_at",{ascending:!1});if(e)throw e;return t};function x0(){const[t,e]=ce.useState([]),[n,i]=ce.useState(!0),[a,l]=ce.useState(null);return ce.useEffect(()=>{let u=!0;async function f(){try{const h=await b0();u&&e(h)}catch(h){u&&l(h instanceof Error?h:new Error("An error occurred"))}finally{u&&i(!1)}}return f(),()=>{u=!1}},[]),{items:t,loading:n,error:a}}function k0({item:t,onClick:e}){const n=t.images&&t.images.length>0?t.images[0]:null;return g.jsxs("button",{onClick:()=>e(t.id),className:"border border-border bg-card hover:shadow-md transition-all text-left rounded-lg overflow-hidden w-full h-full flex flex-col",children:[g.jsxs("div",{className:"w-full aspect-square border-b border-border bg-muted flex items-center justify-center relative overflow-hidden",children:[n?g.jsx("img",{src:n,alt:t.title,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-20 h-20 border-2 border-primary/30 rounded"}),t.status==="sold_out"&&g.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white font-bold text-lg rotate-[-15deg]",children:"SOLD OUT"})]}),g.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2 mb-2",children:g.jsx("span",{className:"text-xs px-2 py-1 border border-border rounded bg-muted text-secondary",children:t.category})}),g.jsx("h4",{className:"mb-2 text-foreground line-clamp-2 flex-grow",children:t.title}),g.jsxs("p",{className:"text-xl text-accent",children:["",t.price.toLocaleString()]})]})]})}function S0({value:t,onChange:e}){return g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"",value:t,onChange:n=>e(n.target.value),className:"w-full p-3 pr-12 border border-border bg-card rounded focus:outline-none focus:ring-2 focus:ring-primary"}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-6 h-6 border-2 border-primary rounded-full"})]})}const E0=["","","","","",""];function j0({onNavigate:t,onSelectItem:e}){const{items:n,loading:i,error:a}=x0(),[l,u]=ce.useState(""),[f,h]=ce.useState(""),[m,v]=ce.useState([0,5e4]),[w,_]=ce.useState(""),x=n.filter(b=>{const S=b.title.toLowerCase().includes(l.toLowerCase()),j=f===""||b.category===f,N=b.price>=m[0]&&b.price<=m[1];return S&&j&&N}).sort((b,S)=>w===""?b.price-S.price:w===""?S.price-b.price:new Date(S.created_at).getTime()-new Date(b.created_at).getTime());return a?g.jsxs("div",{className:"p-8 text-center text-red-500",children:[": ",a.message]}):g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:t,showBack:!0}),g.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[g.jsx("div",{className:"mb-6",children:g.jsx(S0,{value:l,onChange:u})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[g.jsx("aside",{className:"space-y-6",children:g.jsxs("div",{className:"border border-border bg-card p-4 rounded-lg",children:[g.jsx("h3",{className:"mb-4 text-primary",children:""}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h4",{className:"text-sm mb-3 text-foreground",children:""}),g.jsx("div",{className:"space-y-2",children:E0.map(b=>g.jsx("button",{onClick:()=>h(b),className:`w-full text-left p-2 border rounded transition-colors ${f===b?"bg-primary text-white border-primary":"bg-card border-border hover:border-primary"}`,children:b},b))})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h4",{className:"text-sm mb-3 text-foreground",children:""}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("input",{type:"range",min:"0",max:"50000",step:"1000",value:m[1],onChange:b=>v([0,parseInt(b.target.value)]),className:"w-full accent-primary"}),g.jsxs("div",{className:"flex justify-between text-sm text-secondary",children:[g.jsx("span",{children:"0"}),g.jsxs("span",{children:["",m[1].toLocaleString()]})]})]})]})]})}),g.jsxs("div",{className:"md:col-span-3",children:[g.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[g.jsxs("p",{className:"text-sm text-secondary",children:[x.length,""]}),g.jsxs("select",{value:w,onChange:b=>_(b.target.value),className:"p-2 border border-border rounded text-sm bg-card focus:outline-none focus:ring-2 focus:ring-primary",children:[g.jsx("option",{children:""}),g.jsx("option",{children:""}),g.jsx("option",{children:""})]})]}),i?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):x.length===0?g.jsx("div",{className:"text-center py-20 text-secondary",children:""}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(b=>g.jsx(k0,{item:b,onClick:()=>{e(b.id),t("item-detail")}},b.id))})]})]})]})]})}const T0=async t=>{const{data:e,error:n}=await dt.from("items").select(`
      *,
      user:user_id (
        name,
        avatar_url
      )
    `).eq("id",t).single();if(n)throw n;return e};function O0(t){const[e,n]=ce.useState(null),[i,a]=ce.useState(!0),[l,u]=ce.useState(null);return ce.useEffect(()=>{let f=!0;async function h(){try{a(!0);const m=await T0(t);f&&n(m)}catch(m){f&&u(m instanceof Error?m:new Error("An error occurred"))}finally{f&&a(!1)}}return t?h():a(!1),()=>{f=!1}},[t]),{item:e,loading:i,error:l}}function N0(t){return Object.prototype.toString.call(t)==="[object Object]"}function hp(t){return N0(t)||Array.isArray(t)}function C0(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Cc(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),l=JSON.stringify(Object.keys(e.breakpoints||{}));return a!==l?!1:n.every(u=>{const f=t[u],h=e[u];return typeof f=="function"?`${f}`==`${h}`:!hp(f)||!hp(h)?f===h:Cc(f,h)})}function pp(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function A0(t,e){if(t.length!==e.length)return!1;const n=pp(t),i=pp(e);return n.every((a,l)=>{const u=i[l];return Cc(a,u)})}function Ac(t){return typeof t=="number"}function fc(t){return typeof t=="string"}function Fa(t){return typeof t=="boolean"}function mp(t){return Object.prototype.toString.call(t)==="[object Object]"}function et(t){return Math.abs(t)}function Pc(t){return Math.sign(t)}function Ai(t,e){return et(t-e)}function P0(t,e){if(t===0||e===0||et(t)<=et(e))return 0;const n=Ai(et(t),et(e));return et(n/t)}function R0(t){return Math.round(t*100)/100}function Di(t){return Li(t).map(Number)}function Er(t){return t[qi(t)]}function qi(t){return Math.max(0,t.length-1)}function Rc(t,e){return e===qi(t)}function gp(t,e=0){return Array.from(Array(t),(n,i)=>e+i)}function Li(t){return Object.keys(t)}function _g(t,e){return[t,e].reduce((n,i)=>(Li(i).forEach(a=>{const l=n[a],u=i[a],f=mp(l)&&mp(u);n[a]=f?_g(l,u):u}),n),{})}function hc(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function I0(t,e){const n={start:i,center:a,end:l};function i(){return 0}function a(h){return l(h)/2}function l(h){return e-h}function u(h,m){return fc(t)?n[t](h):t(e,h,m)}return{measure:u}}function zi(){let t=[];function e(a,l,u,f={passive:!0}){let h;if("addEventListener"in a)a.addEventListener(l,u,f),h=()=>a.removeEventListener(l,u,f);else{const m=a;m.addListener(u),h=()=>m.removeListener(u)}return t.push(h),i}function n(){t=t.filter(a=>a())}const i={add:e,clear:n};return i}function $0(t,e,n,i){const a=zi(),l=1e3/60;let u=null,f=0,h=0;function m(){a.add(t,"visibilitychange",()=>{t.hidden&&b()})}function v(){x(),a.clear()}function w(j){if(!h)return;u||(u=j,n(),n());const N=j-u;for(u=j,f+=N;f>=l;)n(),f-=l;const A=f/l;i(A),h&&(h=e.requestAnimationFrame(w))}function _(){h||(h=e.requestAnimationFrame(w))}function x(){e.cancelAnimationFrame(h),u=null,f=0,h=0}function b(){u=null,f=0}return{init:m,destroy:v,start:_,stop:x,update:n,render:i}}function D0(t,e){const n=e==="rtl",i=t==="y",a=i?"y":"x",l=i?"x":"y",u=!i&&n?-1:1,f=v(),h=w();function m(b){const{height:S,width:j}=b;return i?S:j}function v(){return i?"top":n?"right":"left"}function w(){return i?"bottom":n?"left":"right"}function _(b){return b*u}return{scroll:a,cross:l,startEdge:f,endEdge:h,measureSize:m,direction:_}}function qn(t=0,e=0){const n=et(t-e);function i(m){return m<t}function a(m){return m>e}function l(m){return i(m)||a(m)}function u(m){return l(m)?i(m)?t:e:m}function f(m){return n?m-n*Math.ceil((m-e)/n):m}return{length:n,max:e,min:t,constrain:u,reachedAny:l,reachedMax:a,reachedMin:i,removeOffset:f}}function bg(t,e,n){const{constrain:i}=qn(0,t),a=t+1;let l=u(e);function u(_){return n?et((a+_)%a):i(_)}function f(){return l}function h(_){return l=u(_),w}function m(_){return v().set(f()+_)}function v(){return bg(t,f(),n)}const w={get:f,set:h,add:m,clone:v};return w}function L0(t,e,n,i,a,l,u,f,h,m,v,w,_,x,b,S,j,N,A){const{cross:P,direction:z}=t,U=["INPUT","SELECT","TEXTAREA"],K={passive:!1},G=zi(),ae=zi(),de=qn(50,225).constrain(x.measure(20)),Ne={mouse:300,touch:400},ke={mouse:500,touch:600},he=b?43:25;let pe=!1,Se=0,Pe=0,Re=!1,je=!1,H=!1,ee=!1;function Q(ie){if(!A)return;function $e(nt){(Fa(A)||A(ie,nt))&&Oe(nt)}const Be=e;G.add(Be,"dragstart",nt=>nt.preventDefault(),K).add(Be,"touchmove",()=>{},K).add(Be,"touchend",()=>{}).add(Be,"touchstart",$e).add(Be,"mousedown",$e).add(Be,"touchcancel",be).add(Be,"contextmenu",be).add(Be,"click",Ce,!0)}function C(){G.clear(),ae.clear()}function M(){const ie=ee?n:e;ae.add(ie,"touchmove",Ee,K).add(ie,"touchend",be).add(ie,"mousemove",Ee,K).add(ie,"mouseup",be)}function we(ie){const $e=ie.nodeName||"";return U.includes($e)}function _e(){return(b?ke:Ne)[ee?"mouse":"touch"]}function Te(ie,$e){const Be=w.add(Pc(ie)*-1),nt=v.byDistance(ie,!b).distance;return b||et(ie)<de?nt:j&&$e?nt*.5:v.byIndex(Be.get(),0).distance}function Oe(ie){const $e=hc(ie,i);ee=$e,H=b&&$e&&!ie.buttons&&pe,pe=Ai(a.get(),u.get())>=2,!($e&&ie.button!==0)&&(we(ie.target)||(Re=!0,l.pointerDown(ie),m.useFriction(0).useDuration(0),a.set(u),M(),Se=l.readPoint(ie),Pe=l.readPoint(ie,P),_.emit("pointerDown")))}function Ee(ie){if(!hc(ie,i)&&ie.touches.length>=2)return be(ie);const Be=l.readPoint(ie),nt=l.readPoint(ie,P),It=Ai(Be,Se),$t=Ai(nt,Pe);if(!je&&!ee&&(!ie.cancelable||(je=It>$t,!je)))return be(ie);const dr=l.pointerMove(ie);It>S&&(H=!0),m.useFriction(.3).useDuration(.75),f.start(),a.add(z(dr)),ie.preventDefault()}function be(ie){const Be=v.byDistance(0,!1).index!==w.get(),nt=l.pointerUp(ie)*_e(),It=Te(z(nt),Be),$t=P0(nt,It),dr=he-10*$t,Dt=N+$t/50;je=!1,Re=!1,ae.clear(),m.useDuration(dr).useFriction(Dt),h.distance(It,!b),ee=!1,_.emit("pointerUp")}function Ce(ie){H&&(ie.stopPropagation(),ie.preventDefault(),H=!1)}function Ue(){return Re}return{init:Q,destroy:C,pointerDown:Ue}}function z0(t,e){let i,a;function l(w){return w.timeStamp}function u(w,_){const b=`client${(_||t.scroll)==="x"?"X":"Y"}`;return(hc(w,e)?w:w.touches[0])[b]}function f(w){return i=w,a=w,u(w)}function h(w){const _=u(w)-u(a),x=l(w)-l(i)>170;return a=w,x&&(i=w),_}function m(w){if(!i||!a)return 0;const _=u(a)-u(i),x=l(w)-l(i),b=l(w)-l(a)>170,S=_/x;return x&&!b&&et(S)>.1?S:0}return{pointerDown:f,pointerMove:h,pointerUp:m,readPoint:u}}function U0(){function t(n){const{offsetTop:i,offsetLeft:a,offsetWidth:l,offsetHeight:u}=n;return{top:i,right:a+l,bottom:i+u,left:a,width:l,height:u}}return{measure:t}}function F0(t){function e(i){return t*(i/100)}return{measure:e}}function M0(t,e,n,i,a,l,u){const f=[t].concat(i);let h,m,v=[],w=!1;function _(j){return a.measureSize(u.measure(j))}function x(j){if(!l)return;m=_(t),v=i.map(_);function N(A){for(const P of A){if(w)return;const z=P.target===t,U=i.indexOf(P.target),K=z?m:v[U],G=_(z?t:i[U]);if(et(G-K)>=.5){j.reInit(),e.emit("resize");break}}}h=new ResizeObserver(A=>{(Fa(l)||l(j,A))&&N(A)}),n.requestAnimationFrame(()=>{f.forEach(A=>h.observe(A))})}function b(){w=!0,h&&h.disconnect()}return{init:x,destroy:b}}function B0(t,e,n,i,a,l){let u=0,f=0,h=a,m=l,v=t.get(),w=0;function _(){const K=i.get()-t.get(),G=!h;let ae=0;return G?(u=0,n.set(i),t.set(i),ae=K):(n.set(t),u+=K/h,u*=m,v+=u,t.add(u),ae=v-w),f=Pc(ae),w=v,U}function x(){const K=i.get()-e.get();return et(K)<.001}function b(){return h}function S(){return f}function j(){return u}function N(){return P(a)}function A(){return z(l)}function P(K){return h=K,U}function z(K){return m=K,U}const U={direction:S,duration:b,velocity:j,seek:_,settled:x,useBaseFriction:A,useBaseDuration:N,useFriction:z,useDuration:P};return U}function V0(t,e,n,i,a){const l=a.measure(10),u=a.measure(50),f=qn(.1,.99);let h=!1;function m(){return!(h||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function v(x){if(!m())return;const b=t.reachedMin(e.get())?"min":"max",S=et(t[b]-e.get()),j=n.get()-e.get(),N=f.constrain(S/u);n.subtract(j*N),!x&&et(j)<l&&(n.set(t.constrain(n.get())),i.useDuration(25).useBaseFriction())}function w(x){h=!x}return{shouldConstrain:m,constrain:v,toggleActive:w}}function q0(t,e,n,i,a){const l=qn(-e+t,0),u=w(),f=v(),h=_();function m(b,S){return Ai(b,S)<=1}function v(){const b=u[0],S=Er(u),j=u.lastIndexOf(b),N=u.indexOf(S)+1;return qn(j,N)}function w(){return n.map((b,S)=>{const{min:j,max:N}=l,A=l.constrain(b),P=!S,z=Rc(n,S);return P?N:z||m(j,A)?j:m(N,A)?N:A}).map(b=>parseFloat(b.toFixed(3)))}function _(){if(e<=t+a)return[l.max];if(i==="keepSnaps")return u;const{min:b,max:S}=f;return u.slice(b,S)}return{snapsContained:h,scrollContainLimit:f}}function Z0(t,e,n){const i=e[0],a=n?i-t:Er(e);return{limit:qn(a,i)}}function W0(t,e,n,i){const l=e.min+.1,u=e.max+.1,{reachedMin:f,reachedMax:h}=qn(l,u);function m(_){return _===1?h(n.get()):_===-1?f(n.get()):!1}function v(_){if(!m(_))return;const x=t*(_*-1);i.forEach(b=>b.add(x))}return{loop:v}}function H0(t){const{max:e,length:n}=t;function i(l){const u=l-e;return n?u/-n:0}return{get:i}}function K0(t,e,n,i,a){const{startEdge:l,endEdge:u}=t,{groupSlides:f}=a,h=w().map(e.measure),m=_(),v=x();function w(){return f(i).map(S=>Er(S)[u]-S[0][l]).map(et)}function _(){return i.map(S=>n[l]-S[l]).map(S=>-et(S))}function x(){return f(m).map(S=>S[0]).map((S,j)=>S+h[j])}return{snaps:m,snapsAligned:v}}function G0(t,e,n,i,a,l){const{groupSlides:u}=a,{min:f,max:h}=i,m=v();function v(){const _=u(l),x=!t||e==="keepSnaps";return n.length===1?[l]:x?_:_.slice(f,h).map((b,S,j)=>{const N=!S,A=Rc(j,S);if(N){const P=Er(j[0])+1;return gp(P)}if(A){const P=qi(l)-Er(j)[0]+1;return gp(P,Er(j)[0])}return b})}return{slideRegistry:m}}function J0(t,e,n,i,a){const{reachedAny:l,removeOffset:u,constrain:f}=i;function h(b){return b.concat().sort((S,j)=>et(S)-et(j))[0]}function m(b){const S=t?u(b):f(b),j=e.map((A,P)=>({diff:v(A-S,0),index:P})).sort((A,P)=>et(A.diff)-et(P.diff)),{index:N}=j[0];return{index:N,distance:S}}function v(b,S){const j=[b,b+n,b-n];if(!t)return b;if(!S)return h(j);const N=j.filter(A=>Pc(A)===S);return N.length?h(N):Er(j)-n}function w(b,S){const j=e[b]-a.get(),N=v(j,S);return{index:b,distance:N}}function _(b,S){const j=a.get()+b,{index:N,distance:A}=m(j),P=!t&&l(j);if(!S||P)return{index:N,distance:b};const z=e[N]-A,U=b+v(z,0);return{index:N,distance:U}}return{byDistance:_,byIndex:w,shortcut:v}}function Q0(t,e,n,i,a,l,u){function f(w){const _=w.distance,x=w.index!==e.get();l.add(_),_&&(i.duration()?t.start():(t.update(),t.render(1),t.update())),x&&(n.set(e.get()),e.set(w.index),u.emit("select"))}function h(w,_){const x=a.byDistance(w,_);f(x)}function m(w,_){const x=e.clone().set(w),b=a.byIndex(x.get(),_);f(b)}return{distance:h,index:m}}function Y0(t,e,n,i,a,l,u,f){const h={passive:!0,capture:!0};let m=0;function v(x){if(!f)return;function b(S){if(new Date().getTime()-m>10)return;u.emit("slideFocusStart"),t.scrollLeft=0;const A=n.findIndex(P=>P.includes(S));Ac(A)&&(a.useDuration(0),i.index(A,0),u.emit("slideFocus"))}l.add(document,"keydown",w,!1),e.forEach((S,j)=>{l.add(S,"focus",N=>{(Fa(f)||f(x,N))&&b(j)},h)})}function w(x){x.code==="Tab"&&(m=new Date().getTime())}return{init:v}}function Ci(t){let e=t;function n(){return e}function i(h){e=u(h)}function a(h){e+=u(h)}function l(h){e-=u(h)}function u(h){return Ac(h)?h:h.get()}return{get:n,set:i,add:a,subtract:l}}function xg(t,e){const n=t.scroll==="x"?u:f,i=e.style;let a=null,l=!1;function u(_){return`translate3d(${_}px,0px,0px)`}function f(_){return`translate3d(0px,${_}px,0px)`}function h(_){if(l)return;const x=R0(t.direction(_));x!==a&&(i.transform=n(x),a=x)}function m(_){l=!_}function v(){l||(i.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:v,to:h,toggleActive:m}}function X0(t,e,n,i,a,l,u,f,h){const v=Di(a),w=Di(a).reverse(),_=N().concat(A());function x(G,ae){return G.reduce((de,Ne)=>de-a[Ne],ae)}function b(G,ae){return G.reduce((de,Ne)=>x(de,ae)>0?de.concat([Ne]):de,[])}function S(G){return l.map((ae,de)=>({start:ae-i[de]+.5+G,end:ae+e-.5+G}))}function j(G,ae,de){const Ne=S(ae);return G.map(ke=>{const he=de?0:-n,pe=de?n:0,Se=de?"end":"start",Pe=Ne[ke][Se];return{index:ke,loopPoint:Pe,slideLocation:Ci(-1),translate:xg(t,h[ke]),target:()=>f.get()>Pe?he:pe}})}function N(){const G=u[0],ae=b(w,G);return j(ae,n,!1)}function A(){const G=e-u[0]-1,ae=b(v,G);return j(ae,-n,!0)}function P(){return _.every(({index:G})=>{const ae=v.filter(de=>de!==G);return x(ae,e)<=.1})}function z(){_.forEach(G=>{const{target:ae,translate:de,slideLocation:Ne}=G,ke=ae();ke!==Ne.get()&&(de.to(ke),Ne.set(ke))})}function U(){_.forEach(G=>G.translate.clear())}return{canLoop:P,clear:U,loop:z,loopPoints:_}}function eb(t,e,n){let i,a=!1;function l(h){if(!n)return;function m(v){for(const w of v)if(w.type==="childList"){h.reInit(),e.emit("slidesChanged");break}}i=new MutationObserver(v=>{a||(Fa(n)||n(h,v))&&m(v)}),i.observe(t,{childList:!0})}function u(){i&&i.disconnect(),a=!0}return{init:l,destroy:u}}function tb(t,e,n,i){const a={};let l=null,u=null,f,h=!1;function m(){f=new IntersectionObserver(b=>{h||(b.forEach(S=>{const j=e.indexOf(S.target);a[j]=S}),l=null,u=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:i}),e.forEach(b=>f.observe(b))}function v(){f&&f.disconnect(),h=!0}function w(b){return Li(a).reduce((S,j)=>{const N=parseInt(j),{isIntersecting:A}=a[N];return(b&&A||!b&&!A)&&S.push(N),S},[])}function _(b=!0){if(b&&l)return l;if(!b&&u)return u;const S=w(b);return b&&(l=S),b||(u=S),S}return{init:m,destroy:v,get:_}}function rb(t,e,n,i,a,l){const{measureSize:u,startEdge:f,endEdge:h}=t,m=n[0]&&a,v=b(),w=S(),_=n.map(u),x=j();function b(){if(!m)return 0;const A=n[0];return et(e[f]-A[f])}function S(){if(!m)return 0;const A=l.getComputedStyle(Er(i));return parseFloat(A.getPropertyValue(`margin-${h}`))}function j(){return n.map((A,P,z)=>{const U=!P,K=Rc(z,P);return U?_[P]+v:K?_[P]+w:z[P+1][f]-A[f]}).map(et)}return{slideSizes:_,slideSizesWithGaps:x,startGap:v,endGap:w}}function nb(t,e,n,i,a,l,u,f,h){const{startEdge:m,endEdge:v,direction:w}=t,_=Ac(n);function x(N,A){return Di(N).filter(P=>P%A===0).map(P=>N.slice(P,P+A))}function b(N){return N.length?Di(N).reduce((A,P,z)=>{const U=Er(A)||0,K=U===0,G=P===qi(N),ae=a[m]-l[U][m],de=a[m]-l[P][v],Ne=!i&&K?w(u):0,ke=!i&&G?w(f):0,he=et(de-ke-(ae+Ne));return z&&he>e+h&&A.push(P),G&&A.push(N.length),A},[]).map((A,P,z)=>{const U=Math.max(z[P-1]||0);return N.slice(U,A)}):[]}function S(N){return _?x(N,n):b(N)}return{groupSlides:S}}function sb(t,e,n,i,a,l,u){const{align:f,axis:h,direction:m,startIndex:v,loop:w,duration:_,dragFree:x,dragThreshold:b,inViewThreshold:S,slidesToScroll:j,skipSnaps:N,containScroll:A,watchResize:P,watchSlides:z,watchDrag:U,watchFocus:K}=l,G=2,ae=U0(),de=ae.measure(e),Ne=n.map(ae.measure),ke=D0(h,m),he=ke.measureSize(de),pe=F0(he),Se=I0(f,he),Pe=!w&&!!A,Re=w||!!A,{slideSizes:je,slideSizesWithGaps:H,startGap:ee,endGap:Q}=rb(ke,de,Ne,n,Re,a),C=nb(ke,he,j,w,de,Ne,ee,Q,G),{snaps:M,snapsAligned:we}=K0(ke,Se,de,Ne,C),_e=-Er(M)+Er(H),{snapsContained:Te,scrollContainLimit:Oe}=q0(he,_e,we,A,G),Ee=Pe?Te:we,{limit:be}=Z0(_e,Ee,w),Ce=bg(qi(Ee),v,w),Ue=Ce.clone(),Fe=Di(n),ie=({dragHandler:kt,scrollBody:yt,scrollBounds:_n,options:{loop:fr}})=>{fr||_n.constrain(kt.pointerDown()),yt.seek()},$e=({scrollBody:kt,translate:yt,location:_n,offsetLocation:fr,previousLocation:Hr,scrollLooper:Ds,slideLooper:Kr,dragHandler:bn,animation:Gr,eventHandler:Jn,scrollBounds:Ls,options:{loop:Rr}},Ir)=>{const zs=kt.settled(),Wi=!Ls.shouldConstrain(),Us=Rr?zs:zs&&Wi,Fs=Us&&!bn.pointerDown();Fs&&Gr.stop();const Hi=_n.get()*Ir+Hr.get()*(1-Ir);fr.set(Hi),Rr&&(Ds.loop(kt.direction()),Kr.loop()),yt.to(fr.get()),Fs&&Jn.emit("settle"),Us||Jn.emit("scroll")},Be=$0(i,a,()=>ie(pt),kt=>$e(pt,kt)),nt=.68,It=Ee[Ce.get()],$t=Ci(It),dr=Ci(It),Dt=Ci(It),E=Ci(It),R=B0($t,Dt,dr,E,_,nt),L=J0(w,Ee,_e,be,E),Y=Q0(Be,Ce,Ue,R,L,E,u),J=H0(be),Z=zi(),fe=tb(e,n,u,S),{slideRegistry:Ie}=G0(Pe,A,Ee,Oe,C,Fe),De=Y0(t,n,Ie,Y,R,Z,u,K),pt={ownerDocument:i,ownerWindow:a,eventHandler:u,containerRect:de,slideRects:Ne,animation:Be,axis:ke,dragHandler:L0(ke,t,i,a,E,z0(ke,a),$t,Be,Y,R,L,Ce,u,pe,x,b,N,nt,U),eventStore:Z,percentOfView:pe,index:Ce,indexPrevious:Ue,limit:be,location:$t,offsetLocation:Dt,previousLocation:dr,options:l,resizeHandler:M0(e,u,a,n,ke,P,ae),scrollBody:R,scrollBounds:V0(be,Dt,E,R,pe),scrollLooper:W0(_e,be,Dt,[$t,Dt,dr,E]),scrollProgress:J,scrollSnapList:Ee.map(J.get),scrollSnaps:Ee,scrollTarget:L,scrollTo:Y,slideLooper:X0(ke,he,_e,je,H,M,Ee,Dt,n),slideFocus:De,slidesHandler:eb(e,u,z),slidesInView:fe,slideIndexes:Fe,slideRegistry:Ie,slidesToScroll:C,target:E,translate:xg(ke,e)};return pt}function ib(){let t={},e;function n(m){e=m}function i(m){return t[m]||[]}function a(m){return i(m).forEach(v=>v(e,m)),h}function l(m,v){return t[m]=i(m).concat([v]),h}function u(m,v){return t[m]=i(m).filter(w=>w!==v),h}function f(){t={}}const h={init:n,emit:a,off:u,on:l,clear:f};return h}const ob={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function ab(t){function e(l,u){return _g(l,u||{})}function n(l){const u=l.breakpoints||{},f=Li(u).filter(h=>t.matchMedia(h).matches).map(h=>u[h]).reduce((h,m)=>e(h,m),{});return e(l,f)}function i(l){return l.map(u=>Li(u.breakpoints||{})).reduce((u,f)=>u.concat(f),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:i}}function lb(t){let e=[];function n(l,u){return e=u.filter(({options:f})=>t.optionsAtMedia(f).active!==!1),e.forEach(f=>f.init(l,t)),u.reduce((f,h)=>Object.assign(f,{[h.name]:h}),{})}function i(){e=e.filter(l=>l.destroy())}return{init:n,destroy:i}}function Ca(t,e,n){const i=t.ownerDocument,a=i.defaultView,l=ab(a),u=lb(l),f=zi(),h=ib(),{mergeOptions:m,optionsAtMedia:v,optionsMediaQueries:w}=l,{on:_,off:x,emit:b}=h,S=ke;let j=!1,N,A=m(ob,Ca.globalOptions),P=m(A),z=[],U,K,G;function ae(){const{container:Fe,slides:ie}=P;K=(fc(Fe)?t.querySelector(Fe):Fe)||t.children[0];const Be=fc(ie)?K.querySelectorAll(ie):ie;G=[].slice.call(Be||K.children)}function de(Fe){const ie=sb(t,K,G,i,a,Fe,h);if(Fe.loop&&!ie.slideLooper.canLoop()){const $e=Object.assign({},Fe,{loop:!1});return de($e)}return ie}function Ne(Fe,ie){j||(A=m(A,Fe),P=v(A),z=ie||z,ae(),N=de(P),w([A,...z.map(({options:$e})=>$e)]).forEach($e=>f.add($e,"change",ke)),P.active&&(N.translate.to(N.location.get()),N.animation.init(),N.slidesInView.init(),N.slideFocus.init(Ue),N.eventHandler.init(Ue),N.resizeHandler.init(Ue),N.slidesHandler.init(Ue),N.options.loop&&N.slideLooper.loop(),K.offsetParent&&G.length&&N.dragHandler.init(Ue),U=u.init(Ue,z)))}function ke(Fe,ie){const $e=C();he(),Ne(m({startIndex:$e},Fe),ie),h.emit("reInit")}function he(){N.dragHandler.destroy(),N.eventStore.clear(),N.translate.clear(),N.slideLooper.clear(),N.resizeHandler.destroy(),N.slidesHandler.destroy(),N.slidesInView.destroy(),N.animation.destroy(),u.destroy(),f.clear()}function pe(){j||(j=!0,f.clear(),he(),h.emit("destroy"),h.clear())}function Se(Fe,ie,$e){!P.active||j||(N.scrollBody.useBaseFriction().useDuration(ie===!0?0:P.duration),N.scrollTo.index(Fe,$e||0))}function Pe(Fe){const ie=N.index.add(1).get();Se(ie,Fe,-1)}function Re(Fe){const ie=N.index.add(-1).get();Se(ie,Fe,1)}function je(){return N.index.add(1).get()!==C()}function H(){return N.index.add(-1).get()!==C()}function ee(){return N.scrollSnapList}function Q(){return N.scrollProgress.get(N.offsetLocation.get())}function C(){return N.index.get()}function M(){return N.indexPrevious.get()}function we(){return N.slidesInView.get()}function _e(){return N.slidesInView.get(!1)}function Te(){return U}function Oe(){return N}function Ee(){return t}function be(){return K}function Ce(){return G}const Ue={canScrollNext:je,canScrollPrev:H,containerNode:be,internalEngine:Oe,destroy:pe,off:x,on:_,emit:b,plugins:Te,previousScrollSnap:M,reInit:S,rootNode:Ee,scrollNext:Pe,scrollPrev:Re,scrollProgress:Q,scrollSnapList:ee,scrollTo:Se,selectedScrollSnap:C,slideNodes:Ce,slidesInView:we,slidesNotInView:_e};return Ne(e,n),setTimeout(()=>h.emit("init"),0),Ue}Ca.globalOptions=void 0;function Ic(t={},e=[]){const n=ce.useRef(t),i=ce.useRef(e),[a,l]=ce.useState(),[u,f]=ce.useState(),h=ce.useCallback(()=>{a&&a.reInit(n.current,i.current)},[a]);return ce.useEffect(()=>{Cc(n.current,t)||(n.current=t,h())},[t,h]),ce.useEffect(()=>{A0(i.current,e)||(i.current=e,h())},[e,h]),ce.useEffect(()=>{if(C0()&&u){Ca.globalOptions=Ic.globalOptions;const m=Ca(u,n.current,i.current);return l(m),()=>m.destroy()}else l(void 0)},[u,l]),[f,a]}Ic.globalOptions=void 0;function ub({images:t}){const[e,n]=Ic({loop:!0}),[i,a]=ce.useState(0);return ce.useEffect(()=>{if(!n)return;const l=()=>a(n.selectedScrollSnap());n.on("select",l),l()},[n]),!t||t.length===0?g.jsx("div",{className:"aspect-square flex items-center justify-center border border-border bg-muted rounded-lg",children:g.jsx("div",{className:"w-32 h-32 border-2 border-primary/30 rounded"})}):g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"overflow-hidden rounded-lg border border-border",ref:e,children:g.jsx("div",{className:"flex",children:t.map((l,u)=>g.jsx("div",{className:"flex-[0_0_100%] aspect-square min-w-0 relative",children:g.jsx("img",{src:l,alt:`Item image ${u+1}`,className:"w-full h-full object-cover"})},u))})}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.map((l,u)=>g.jsx("button",{onClick:()=>n&&n.scrollTo(u),className:`flex-shrink-0 w-16 h-16 border rounded overflow-hidden transition-all ${i===u?"border-primary ring-2 ring-primary/30":"border-border opacity-70 hover:opacity-100"}`,children:g.jsx("img",{src:l,alt:"thumbnail",className:"w-full h-full object-cover"})},u))})]})}function cb({seller:t}){return t?g.jsxs("div",{className:"border border-border p-4 bg-card rounded-lg",children:[g.jsx("h3",{className:"text-sm mb-3 text-primary",children:""}),g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("div",{className:"w-12 h-12 border-2 border-border rounded-full bg-muted overflow-hidden",children:t.avatar_url?g.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-full h-full object-cover"}):null}),g.jsxs("div",{children:[g.jsx("p",{className:"text-foreground",children:t.name}),t.department&&g.jsx("p",{className:"text-xs text-secondary",children:t.department})]})]}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary",children:[g.jsx("span",{children:" 4.5"}),g.jsx("span",{children:"5"})]})]}):null}function db({onClick:t,disabled:e}){return g.jsx("button",{onClick:t,disabled:e,className:"flex-1 py-3 border-2 border-accent bg-accent text-white rounded hover:bg-[#FF7F50] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})}function Hn(){const[t,e]=ce.useState(null),[n,i]=ce.useState(null),[a,l]=ce.useState(!0),[u,f]=ce.useState(null);return ce.useEffect(()=>{dt.auth.getSession().then(({data:{session:v},error:w})=>{w?f(w):(i(v),e(v?.user??null)),l(!1)});const{data:{subscription:m}}=dt.auth.onAuthStateChange((v,w)=>{i(w),e(w?.user??null),l(!1)});return()=>m.unsubscribe()},[]),{user:t,session:n,loading:a,error:u,signOut:async()=>{const{error:m}=await dt.auth.signOut();if(m)throw m}}}const fb=async(t,e,n)=>{const{data:i,error:a}=await dt.from("chat_rooms").select("id").eq("item_id",t).eq("buyer_id",e).eq("seller_id",n).limit(1);if(a)throw a;if(i&&i.length>0)return i[0].id;const{data:l,error:u}=await dt.from("chat_rooms").insert({item_id:t,buyer_id:e,seller_id:n}).select("id").single();if(u)throw u;return l.id};function hb({itemId:t,onNavigate:e}){const{user:n}=Hn(),{item:i,loading:a,error:l}=O0(t),[u,f]=ce.useState(!1),[h,m]=ce.useState(!1),v=async()=>{if(!n){alert(""),e("login");return}if(i){if(n.id===i.user_id){alert("");return}m(!0);try{const w=await fb(i.id,n.id,i.user_id);e("chat-room",{roomId:w})}catch(w){console.error(w),alert("")}finally{m(!1)}}};return a?g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:e,showBack:!0}),g.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})})]}):l||!i?g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:e,showBack:!0}),g.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6 text-center text-red-500",children:l?l.message:""})]}):g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:e,showBack:!0}),g.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsx("div",{children:g.jsx(ub,{images:i.images})}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx("span",{className:"text-xs px-2 py-1 border border-border rounded bg-muted text-secondary",children:i.category}),i.condition&&g.jsx("span",{className:"text-xs px-2 py-1 border border-info bg-info/20 rounded text-primary",children:i.condition})]}),g.jsx("h2",{className:"text-2xl mb-4 text-primary",children:i.title}),g.jsxs("p",{className:"text-3xl mb-6 text-accent",children:["",i.price.toLocaleString()]})]}),g.jsxs("div",{className:"border border-border p-4 bg-card rounded-lg",children:[g.jsx("h3",{className:"text-sm mb-2 text-primary",children:""}),g.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:i.description})]}),g.jsx(cb,{seller:i.user}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:()=>f(!u),className:`px-6 py-3 border-2 rounded transition-colors ${u?"border-destructive bg-destructive/10 text-destructive":"border-border bg-card text-secondary hover:border-destructive"}`,children:[u?"":""," "]}),g.jsx(db,{onClick:v,disabled:h})]})]})]}),g.jsxs("section",{className:"mt-12",children:[g.jsx("h3",{className:"mb-4 text-primary",children:""}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(w=>g.jsxs("div",{className:"border border-border bg-card rounded-lg overflow-hidden opacity-50",children:[g.jsxs("div",{className:"h-32 bg-muted flex items-center justify-center text-xs",children:[" ",w]}),g.jsx("div",{className:"p-2 text-xs",children:""})]},w))})]})]})]})}function pb({children:t,fallback:e}){const{session:n,loading:i}=Hn();return i?g.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):n?g.jsx(g.Fragment,{children:t}):g.jsx(g.Fragment,{children:e})}var Zi=t=>t.type==="checkbox",Vn=t=>t instanceof Date,Ht=t=>t==null;const kg=t=>typeof t=="object";var ft=t=>!Ht(t)&&!Array.isArray(t)&&kg(t)&&!Vn(t),mb=t=>ft(t)&&t.target?Zi(t.target)?t.target.checked:t.target.value:t,gb=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,vb=(t,e)=>t.has(gb(e)),yb=t=>{const e=t.constructor&&t.constructor.prototype;return ft(e)&&e.hasOwnProperty("isPrototypeOf")},$c=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xt(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!($c&&(t instanceof Blob||i))&&(n||ft(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!yb(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=xt(t[a]));else return t;return e}var Ma=t=>/^\w*$/.test(t),ot=t=>t===void 0,Dc=t=>Array.isArray(t)?t.filter(Boolean):[],Lc=t=>Dc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),se=(t,e,n)=>{if(!e||!ft(t))return n;const i=(Ma(e)?[e]:Lc(e)).reduce((a,l)=>Ht(a)?a:a[l],t);return ot(i)||i===t?ot(t[e])?n:t[e]:i},Pr=t=>typeof t=="boolean",Ve=(t,e,n)=>{let i=-1;const a=Ma(e)?[e]:Lc(e),l=a.length,u=l-1;for(;++i<l;){const f=a[i];let h=n;if(i!==u){const m=t[f];h=ft(m)||Array.isArray(m)?m:isNaN(+a[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=h,t=t[f]}};const vp={BLUR:"blur",FOCUS_OUT:"focusout"},kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wb=er.createContext(null);wb.displayName="HookFormContext";var _b=(t,e,n,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const u=l;return e._proxyFormState[u]!==kr.all&&(e._proxyFormState[u]=!i||kr.all),t[u]}});return a};const bb=typeof window<"u"?er.useLayoutEffect:er.useEffect;var rr=t=>typeof t=="string",xb=(t,e,n,i,a)=>rr(t)?(i&&e.watch.add(t),se(n,t,a)):Array.isArray(t)?t.map(l=>(i&&e.watch.add(l),se(n,l))):(i&&(e.watchAll=!0),n),pc=t=>Ht(t)||!kg(t);function yn(t,e,n=new WeakSet){if(pc(t)||pc(e))return Object.is(t,e);if(Vn(t)&&Vn(e))return t.getTime()===e.getTime();const i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of i){const u=t[l];if(!a.includes(l))return!1;if(l!=="ref"){const f=e[l];if(Vn(u)&&Vn(f)||ft(u)&&ft(f)||Array.isArray(u)&&Array.isArray(f)?!yn(u,f,n):!Object.is(u,f))return!1}}return!0}var zc=(t,e,n,i,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},Pi=t=>Array.isArray(t)?t:[t],yp=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}};function Sg(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const a=t[i],l=e[i];if(a&&ft(a)&&l){const u=Sg(a,l);ft(u)&&(n[i]=u)}else t[i]&&(n[i]=l)}return n}var Ut=t=>ft(t)&&!Object.keys(t).length,Uc=t=>t.type==="file",Sr=t=>typeof t=="function",Aa=t=>{if(!$c)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Eg=t=>t.type==="select-multiple",Fc=t=>t.type==="radio",kb=t=>Fc(t)||Zi(t),Zu=t=>Aa(t)&&t.isConnected;function Sb(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=ot(t)?i++:t[e[i++]];return t}function Eb(t){for(const e in t)if(t.hasOwnProperty(e)&&!ot(t[e]))return!1;return!0}function lt(t,e){const n=Array.isArray(e)?e:Ma(e)?[e]:Lc(e),i=n.length===1?t:Sb(t,n),a=n.length-1,l=n[a];return i&&delete i[l],a!==0&&(ft(i)&&Ut(i)||Array.isArray(i)&&Eb(i))&&lt(t,n.slice(0,-1)),t}var jb=t=>{for(const e in t)if(Sr(t[e]))return!0;return!1};function jg(t){return Array.isArray(t)||ft(t)&&!jb(t)}function mc(t,e={}){for(const n in t){const i=t[n];jg(i)?(e[n]=Array.isArray(i)?[]:{},mc(i,e[n])):ot(i)||(e[n]=!0)}return e}function js(t,e,n){n||(n=mc(e));for(const i in t){const a=t[i];if(jg(a))ot(e)||pc(n[i])?n[i]=mc(a,Array.isArray(a)?[]:{}):js(a,Ht(e)?{}:e[i],n[i]);else{const l=e[i];n[i]=!yn(a,l)}}return n}const wp={value:!1,isValid:!1},_p={value:!0,isValid:!0};var Tg=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ot(t[0].attributes.value)?ot(t[0].value)||t[0].value===""?_p:{value:t[0].value,isValid:!0}:_p:wp}return wp},Og=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>ot(t)?t:e?t===""?NaN:t&&+t:n&&rr(t)?new Date(t):i?i(t):t;const bp={isValid:!1,value:null};var Ng=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,bp):bp;function xp(t){const e=t.ref;return Uc(e)?e.files:Fc(e)?Ng(t.refs).value:Eg(e)?[...e.selectedOptions].map(({value:n})=>n):Zi(e)?Tg(t.refs).value:Og(ot(e.value)?t.ref.value:e.value,t)}var Tb=(t,e,n,i)=>{const a={};for(const l of t){const u=se(e,l);u&&Ve(a,l,u._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}},Pa=t=>t instanceof RegExp,ji=t=>ot(t)?t:Pa(t)?t.source:ft(t)?Pa(t.value)?t.value.source:t.value:t,kp=t=>({isOnSubmit:!t||t===kr.onSubmit,isOnBlur:t===kr.onBlur,isOnChange:t===kr.onChange,isOnAll:t===kr.all,isOnTouch:t===kr.onTouched});const Sp="AsyncFunction";var Ob=t=>!!t&&!!t.validate&&!!(Sr(t.validate)&&t.validate.constructor.name===Sp||ft(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Sp)),Nb=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Ep=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const Ri=(t,e,n,i)=>{for(const a of n||Object.keys(t)){const l=se(t,a);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],a)&&!i)return!0;if(u.ref&&e(u.ref,u.name)&&!i)return!0;if(Ri(f,e))break}else if(ft(f)&&Ri(f,e))break}}};function jp(t,e,n){const i=se(t,n);if(i||Ma(n))return{error:i,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),u=se(e,l),f=se(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};a.pop()}return{name:n}}var Cb=(t,e,n,i)=>{n(t);const{name:a,...l}=t;return Ut(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!i||kr.all))},Ab=(t,e,n)=>!t||!e||t===e||Pi(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),Pb=(t,e,n,i,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?i.isOnBlur:a.isOnBlur)?!t:(n?i.isOnChange:a.isOnChange)?t:!0,Rb=(t,e)=>!Dc(se(t,e)).length&&lt(t,e),Ib=(t,e,n)=>{const i=Pi(se(t,n));return Ve(i,"root",e[n]),Ve(t,n,i),t};function Tp(t,e,n="validate"){if(rr(t)||Array.isArray(t)&&t.every(rr)||Pr(t)&&!t)return{type:n,message:rr(t)?t:"",ref:e}}var ks=t=>ft(t)&&!Pa(t)?t:{value:t,message:""},Op=async(t,e,n,i,a,l)=>{const{ref:u,refs:f,required:h,maxLength:m,minLength:v,min:w,max:_,pattern:x,validate:b,name:S,valueAsNumber:j,mount:N}=t._f,A=se(n,S);if(!N||e.has(S))return{};const P=f?f[0]:u,z=he=>{a&&P.reportValidity&&(P.setCustomValidity(Pr(he)?"":he||""),P.reportValidity())},U={},K=Fc(u),G=Zi(u),ae=K||G,de=(j||Uc(u))&&ot(u.value)&&ot(A)||Aa(u)&&u.value===""||A===""||Array.isArray(A)&&!A.length,Ne=zc.bind(null,S,i,U),ke=(he,pe,Se,Pe=Zr.maxLength,Re=Zr.minLength)=>{const je=he?pe:Se;U[S]={type:he?Pe:Re,message:je,ref:u,...Ne(he?Pe:Re,je)}};if(l?!Array.isArray(A)||!A.length:h&&(!ae&&(de||Ht(A))||Pr(A)&&!A||G&&!Tg(f).isValid||K&&!Ng(f).isValid)){const{value:he,message:pe}=rr(h)?{value:!!h,message:h}:ks(h);if(he&&(U[S]={type:Zr.required,message:pe,ref:P,...Ne(Zr.required,pe)},!i))return z(pe),U}if(!de&&(!Ht(w)||!Ht(_))){let he,pe;const Se=ks(_),Pe=ks(w);if(!Ht(A)&&!isNaN(A)){const Re=u.valueAsNumber||A&&+A;Ht(Se.value)||(he=Re>Se.value),Ht(Pe.value)||(pe=Re<Pe.value)}else{const Re=u.valueAsDate||new Date(A),je=Q=>new Date(new Date().toDateString()+" "+Q),H=u.type=="time",ee=u.type=="week";rr(Se.value)&&A&&(he=H?je(A)>je(Se.value):ee?A>Se.value:Re>new Date(Se.value)),rr(Pe.value)&&A&&(pe=H?je(A)<je(Pe.value):ee?A<Pe.value:Re<new Date(Pe.value))}if((he||pe)&&(ke(!!he,Se.message,Pe.message,Zr.max,Zr.min),!i))return z(U[S].message),U}if((m||v)&&!de&&(rr(A)||l&&Array.isArray(A))){const he=ks(m),pe=ks(v),Se=!Ht(he.value)&&A.length>+he.value,Pe=!Ht(pe.value)&&A.length<+pe.value;if((Se||Pe)&&(ke(Se,he.message,pe.message),!i))return z(U[S].message),U}if(x&&!de&&rr(A)){const{value:he,message:pe}=ks(x);if(Pa(he)&&!A.match(he)&&(U[S]={type:Zr.pattern,message:pe,ref:u,...Ne(Zr.pattern,pe)},!i))return z(pe),U}if(b){if(Sr(b)){const he=await b(A,n),pe=Tp(he,P);if(pe&&(U[S]={...pe,...Ne(Zr.validate,pe.message)},!i))return z(pe.message),U}else if(ft(b)){let he={};for(const pe in b){if(!Ut(he)&&!i)break;const Se=Tp(await b[pe](A,n),P,pe);Se&&(he={...Se,...Ne(pe,Se.message)},z(Se.message),i&&(U[S]=he))}if(!Ut(he)&&(U[S]={ref:P,...he},!i))return U}}return z(!0),U};const $b={mode:kr.onSubmit,reValidateMode:kr.onChange,shouldFocusError:!0};function Db(t={}){let e={...$b,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Sr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=ft(e.defaultValues)||ft(e.values)?xt(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:xt(a),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...v};const _={array:yp(),state:yp()},x=e.criteriaMode===kr.all,b=E=>R=>{clearTimeout(m),m=setTimeout(E,R)},S=async E=>{if(!e.disabled&&(v.isValid||w.isValid||E)){const R=e.resolver?Ut((await G()).errors):await de(i,!0);R!==n.isValid&&_.state.next({isValid:R})}},j=(E,R)=>{!e.disabled&&(v.isValidating||v.validatingFields||w.isValidating||w.validatingFields)&&((E||Array.from(f.mount)).forEach(L=>{L&&(R?Ve(n.validatingFields,L,R):lt(n.validatingFields,L))}),_.state.next({validatingFields:n.validatingFields,isValidating:!Ut(n.validatingFields)}))},N=(E,R=[],L,Y,J=!0,Z=!0)=>{if(Y&&L&&!e.disabled){if(u.action=!0,Z&&Array.isArray(se(i,E))){const fe=L(se(i,E),Y.argA,Y.argB);J&&Ve(i,E,fe)}if(Z&&Array.isArray(se(n.errors,E))){const fe=L(se(n.errors,E),Y.argA,Y.argB);J&&Ve(n.errors,E,fe),Rb(n.errors,E)}if((v.touchedFields||w.touchedFields)&&Z&&Array.isArray(se(n.touchedFields,E))){const fe=L(se(n.touchedFields,E),Y.argA,Y.argB);J&&Ve(n.touchedFields,E,fe)}(v.dirtyFields||w.dirtyFields)&&(n.dirtyFields=js(a,l)),_.state.next({name:E,isDirty:ke(E,R),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ve(l,E,R)},A=(E,R)=>{Ve(n.errors,E,R),_.state.next({errors:n.errors})},P=E=>{n.errors=E,_.state.next({errors:n.errors,isValid:!1})},z=(E,R,L,Y)=>{const J=se(i,E);if(J){const Z=se(l,E,ot(L)?se(a,E):L);ot(Z)||Y&&Y.defaultChecked||R?Ve(l,E,R?Z:xp(J._f)):Se(E,Z),u.mount&&!u.action&&S()}},U=(E,R,L,Y,J)=>{let Z=!1,fe=!1;const Ie={name:E};if(!e.disabled){if(!L||Y){(v.isDirty||w.isDirty)&&(fe=n.isDirty,n.isDirty=Ie.isDirty=ke(),Z=fe!==Ie.isDirty);const De=yn(se(a,E),R);fe=!!se(n.dirtyFields,E),De?lt(n.dirtyFields,E):Ve(n.dirtyFields,E,!0),Ie.dirtyFields=n.dirtyFields,Z=Z||(v.dirtyFields||w.dirtyFields)&&fe!==!De}if(L){const De=se(n.touchedFields,E);De||(Ve(n.touchedFields,E,L),Ie.touchedFields=n.touchedFields,Z=Z||(v.touchedFields||w.touchedFields)&&De!==L)}Z&&J&&_.state.next(Ie)}return Z?Ie:{}},K=(E,R,L,Y)=>{const J=se(n.errors,E),Z=(v.isValid||w.isValid)&&Pr(R)&&n.isValid!==R;if(e.delayError&&L?(h=b(()=>A(E,L)),h(e.delayError)):(clearTimeout(m),h=null,L?Ve(n.errors,E,L):lt(n.errors,E)),(L?!yn(J,L):J)||!Ut(Y)||Z){const fe={...Y,...Z&&Pr(R)?{isValid:R}:{},errors:n.errors,name:E};n={...n,...fe},_.state.next(fe)}},G=async E=>{j(E,!0);const R=await e.resolver(l,e.context,Tb(E||f.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return j(E),R},ae=async E=>{const{errors:R}=await G(E);if(E)for(const L of E){const Y=se(R,L);Y?Ve(n.errors,L,Y):lt(n.errors,L)}else n.errors=R;return R},de=async(E,R,L={valid:!0})=>{for(const Y in E){const J=E[Y];if(J){const{_f:Z,...fe}=J;if(Z){const Ie=f.array.has(Z.name),De=J._f&&Ob(J._f);De&&v.validatingFields&&j([Z.name],!0);const pt=await Op(J,f.disabled,l,x,e.shouldUseNativeValidation&&!R,Ie);if(De&&v.validatingFields&&j([Z.name]),pt[Z.name]&&(L.valid=!1,R))break;!R&&(se(pt,Z.name)?Ie?Ib(n.errors,pt,Z.name):Ve(n.errors,Z.name,pt[Z.name]):lt(n.errors,Z.name))}!Ut(fe)&&await de(fe,R,L)}}return L.valid},Ne=()=>{for(const E of f.unMount){const R=se(i,E);R&&(R._f.refs?R._f.refs.every(L=>!Zu(L)):!Zu(R._f.ref))&&Ee(E)}f.unMount=new Set},ke=(E,R)=>!e.disabled&&(E&&R&&Ve(l,E,R),!yn(Q(),a)),he=(E,R,L)=>xb(E,f,{...u.mount?l:ot(R)?a:rr(E)?{[E]:R}:R},L,R),pe=E=>Dc(se(u.mount?l:a,E,e.shouldUnregister?se(a,E,[]):[])),Se=(E,R,L={})=>{const Y=se(i,E);let J=R;if(Y){const Z=Y._f;Z&&(!Z.disabled&&Ve(l,E,Og(R,Z)),J=Aa(Z.ref)&&Ht(R)?"":R,Eg(Z.ref)?[...Z.ref.options].forEach(fe=>fe.selected=J.includes(fe.value)):Z.refs?Zi(Z.ref)?Z.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(J)?fe.checked=!!J.find(Ie=>Ie===fe.value):fe.checked=J===fe.value||!!J)}):Z.refs.forEach(fe=>fe.checked=fe.value===J):Uc(Z.ref)?Z.ref.value="":(Z.ref.value=J,Z.ref.type||_.state.next({name:E,values:xt(l)})))}(L.shouldDirty||L.shouldTouch)&&U(E,J,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&ee(E)},Pe=(E,R,L)=>{for(const Y in R){if(!R.hasOwnProperty(Y))return;const J=R[Y],Z=E+"."+Y,fe=se(i,Z);(f.array.has(E)||ft(J)||fe&&!fe._f)&&!Vn(J)?Pe(Z,J,L):Se(Z,J,L)}},Re=(E,R,L={})=>{const Y=se(i,E),J=f.array.has(E),Z=xt(R);Ve(l,E,Z),J?(_.array.next({name:E,values:xt(l)}),(v.isDirty||v.dirtyFields||w.isDirty||w.dirtyFields)&&L.shouldDirty&&_.state.next({name:E,dirtyFields:js(a,l),isDirty:ke(E,Z)})):Y&&!Y._f&&!Ht(Z)?Pe(E,Z,L):Se(E,Z,L),Ep(E,f)&&_.state.next({...n,name:E}),_.state.next({name:u.mount?E:void 0,values:xt(l)})},je=async E=>{u.mount=!0;const R=E.target;let L=R.name,Y=!0;const J=se(i,L),Z=De=>{Y=Number.isNaN(De)||Vn(De)&&isNaN(De.getTime())||yn(De,se(l,L,De))},fe=kp(e.mode),Ie=kp(e.reValidateMode);if(J){let De,pt;const kt=R.type?xp(J._f):mb(E),yt=E.type===vp.BLUR||E.type===vp.FOCUS_OUT,_n=!Nb(J._f)&&!e.resolver&&!se(n.errors,L)&&!J._f.deps||Pb(yt,se(n.touchedFields,L),n.isSubmitted,Ie,fe),fr=Ep(L,f,yt);Ve(l,L,kt),yt?(!R||!R.readOnly)&&(J._f.onBlur&&J._f.onBlur(E),h&&h(0)):J._f.onChange&&J._f.onChange(E);const Hr=U(L,kt,yt),Ds=!Ut(Hr)||fr;if(!yt&&_.state.next({name:L,type:E.type,values:xt(l)}),_n)return(v.isValid||w.isValid)&&(e.mode==="onBlur"?yt&&S():yt||S()),Ds&&_.state.next({name:L,...fr?{}:Hr});if(!yt&&fr&&_.state.next({...n}),e.resolver){const{errors:Kr}=await G([L]);if(Z(kt),Y){const bn=jp(n.errors,i,L),Gr=jp(Kr,i,bn.name||L);De=Gr.error,L=Gr.name,pt=Ut(Kr)}}else j([L],!0),De=(await Op(J,f.disabled,l,x,e.shouldUseNativeValidation))[L],j([L]),Z(kt),Y&&(De?pt=!1:(v.isValid||w.isValid)&&(pt=await de(i,!0)));Y&&(J._f.deps&&(!Array.isArray(J._f.deps)||J._f.deps.length>0)&&ee(J._f.deps),K(L,pt,De,Hr))}},H=(E,R)=>{if(se(n.errors,R)&&E.focus)return E.focus(),1},ee=async(E,R={})=>{let L,Y;const J=Pi(E);if(e.resolver){const Z=await ae(ot(E)?E:J);L=Ut(Z),Y=E?!J.some(fe=>se(Z,fe)):L}else E?(Y=(await Promise.all(J.map(async Z=>{const fe=se(i,Z);return await de(fe&&fe._f?{[Z]:fe}:fe)}))).every(Boolean),!(!Y&&!n.isValid)&&S()):Y=L=await de(i);return _.state.next({...!rr(E)||(v.isValid||w.isValid)&&L!==n.isValid?{}:{name:E},...e.resolver||!E?{isValid:L}:{},errors:n.errors}),R.shouldFocus&&!Y&&Ri(i,H,E?J:f.mount),Y},Q=(E,R)=>{let L={...u.mount?l:a};return R&&(L=Sg(R.dirtyFields?n.dirtyFields:n.touchedFields,L)),ot(E)?L:rr(E)?se(L,E):E.map(Y=>se(L,Y))},C=(E,R)=>({invalid:!!se((R||n).errors,E),isDirty:!!se((R||n).dirtyFields,E),error:se((R||n).errors,E),isValidating:!!se(n.validatingFields,E),isTouched:!!se((R||n).touchedFields,E)}),M=E=>{E&&Pi(E).forEach(R=>lt(n.errors,R)),_.state.next({errors:E?n.errors:{}})},we=(E,R,L)=>{const Y=(se(i,E,{_f:{}})._f||{}).ref,J=se(n.errors,E)||{},{ref:Z,message:fe,type:Ie,...De}=J;Ve(n.errors,E,{...De,...R,ref:Y}),_.state.next({name:E,errors:n.errors,isValid:!1}),L&&L.shouldFocus&&Y&&Y.focus&&Y.focus()},_e=(E,R)=>Sr(E)?_.state.subscribe({next:L=>"values"in L&&E(he(void 0,R),L)}):he(E,R,!0),Te=E=>_.state.subscribe({next:R=>{Ab(E.name,R.name,E.exact)&&Cb(R,E.formState||v,$t,E.reRenderRoot)&&E.callback({values:{...l},...n,...R,defaultValues:a})}}).unsubscribe,Oe=E=>(u.mount=!0,w={...w,...E.formState},Te({...E,formState:w})),Ee=(E,R={})=>{for(const L of E?Pi(E):f.mount)f.mount.delete(L),f.array.delete(L),R.keepValue||(lt(i,L),lt(l,L)),!R.keepError&&lt(n.errors,L),!R.keepDirty&&lt(n.dirtyFields,L),!R.keepTouched&&lt(n.touchedFields,L),!R.keepIsValidating&&lt(n.validatingFields,L),!e.shouldUnregister&&!R.keepDefaultValue&&lt(a,L);_.state.next({values:xt(l)}),_.state.next({...n,...R.keepDirty?{isDirty:ke()}:{}}),!R.keepIsValid&&S()},be=({disabled:E,name:R})=>{(Pr(E)&&u.mount||E||f.disabled.has(R))&&(E?f.disabled.add(R):f.disabled.delete(R))},Ce=(E,R={})=>{let L=se(i,E);const Y=Pr(R.disabled)||Pr(e.disabled);return Ve(i,E,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:E}},name:E,mount:!0,...R}}),f.mount.add(E),L?be({disabled:Pr(R.disabled)?R.disabled:e.disabled,name:E}):z(E,!0,R.value),{...Y?{disabled:R.disabled||e.disabled}:{},...e.progressive?{required:!!R.required,min:ji(R.min),max:ji(R.max),minLength:ji(R.minLength),maxLength:ji(R.maxLength),pattern:ji(R.pattern)}:{},name:E,onChange:je,onBlur:je,ref:J=>{if(J){Ce(E,R),L=se(i,E);const Z=ot(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,fe=kb(Z),Ie=L._f.refs||[];if(fe?Ie.find(De=>De===Z):Z===L._f.ref)return;Ve(i,E,{_f:{...L._f,...fe?{refs:[...Ie.filter(Zu),Z,...Array.isArray(se(a,E))?[{}]:[]],ref:{type:Z.type,name:E}}:{ref:Z}}}),z(E,!1,void 0,Z)}else L=se(i,E,{}),L._f&&(L._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(vb(f.array,E)&&u.action)&&f.unMount.add(E)}}},Ue=()=>e.shouldFocusError&&Ri(i,H,f.mount),Fe=E=>{Pr(E)&&(_.state.next({disabled:E}),Ri(i,(R,L)=>{const Y=se(i,L);Y&&(R.disabled=Y._f.disabled||E,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(J=>{J.disabled=Y._f.disabled||E}))},0,!1))},ie=(E,R)=>async L=>{let Y;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let J=xt(l);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:fe}=await G();n.errors=Z,J=xt(fe)}else await de(i);if(f.disabled.size)for(const Z of f.disabled)lt(J,Z);if(lt(n.errors,"root"),Ut(n.errors)){_.state.next({errors:{}});try{await E(J,L)}catch(Z){Y=Z}}else R&&await R({...n.errors},L),Ue(),setTimeout(Ue);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ut(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},$e=(E,R={})=>{se(i,E)&&(ot(R.defaultValue)?Re(E,xt(se(a,E))):(Re(E,R.defaultValue),Ve(a,E,xt(R.defaultValue))),R.keepTouched||lt(n.touchedFields,E),R.keepDirty||(lt(n.dirtyFields,E),n.isDirty=R.defaultValue?ke(E,xt(se(a,E))):ke()),R.keepError||(lt(n.errors,E),v.isValid&&S()),_.state.next({...n}))},Be=(E,R={})=>{const L=E?xt(E):a,Y=xt(L),J=Ut(E),Z=J?a:Y;if(R.keepDefaultValues||(a=L),!R.keepValues){if(R.keepDirtyValues){const fe=new Set([...f.mount,...Object.keys(js(a,l))]);for(const Ie of Array.from(fe))se(n.dirtyFields,Ie)?Ve(Z,Ie,se(l,Ie)):Re(Ie,se(Z,Ie))}else{if($c&&ot(E))for(const fe of f.mount){const Ie=se(i,fe);if(Ie&&Ie._f){const De=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Aa(De)){const pt=De.closest("form");if(pt){pt.reset();break}}}}if(R.keepFieldsRef)for(const fe of f.mount)Re(fe,se(Z,fe));else i={}}l=e.shouldUnregister?R.keepDefaultValues?xt(a):{}:xt(Z),_.array.next({values:{...Z}}),_.state.next({values:{...Z}})}f={mount:R.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!R.keepIsValid||!!R.keepDirtyValues||!e.shouldUnregister&&!Ut(Z),u.watch=!!e.shouldUnregister,u.action=!1,R.keepErrors||(n.errors={}),_.state.next({submitCount:R.keepSubmitCount?n.submitCount:0,isDirty:J?!1:R.keepDirty?n.isDirty:!!(R.keepDefaultValues&&!yn(E,a)),isSubmitted:R.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:R.keepDirtyValues?R.keepDefaultValues&&l?js(a,l):n.dirtyFields:R.keepDefaultValues&&E?js(a,E):R.keepDirty?n.dirtyFields:{},touchedFields:R.keepTouched?n.touchedFields:{},errors:R.keepErrors?n.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},nt=(E,R)=>Be(Sr(E)?E(l):E,R),It=(E,R={})=>{const L=se(i,E),Y=L&&L._f;if(Y){const J=Y.refs?Y.refs[0]:Y.ref;J.focus&&(J.focus(),R.shouldSelect&&Sr(J.select)&&J.select())}},$t=E=>{n={...n,...E}},Dt={control:{register:Ce,unregister:Ee,getFieldState:C,handleSubmit:ie,setError:we,_subscribe:Te,_runSchema:G,_focusError:Ue,_getWatch:he,_getDirty:ke,_setValid:S,_setFieldArray:N,_setDisabledField:be,_setErrors:P,_getFieldArray:pe,_reset:Be,_resetDefaultValues:()=>Sr(e.defaultValues)&&e.defaultValues().then(E=>{nt(E,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:Ne,_disableForm:Fe,_subjects:_,_proxyFormState:v,get _fields(){return i},get _formValues(){return l},get _state(){return u},set _state(E){u=E},get _defaultValues(){return a},get _names(){return f},set _names(E){f=E},get _formState(){return n},get _options(){return e},set _options(E){e={...e,...E}}},subscribe:Oe,trigger:ee,register:Ce,handleSubmit:ie,watch:_e,setValue:Re,getValues:Q,reset:nt,resetField:$e,clearErrors:M,unregister:Ee,setError:we,setFocus:It,getFieldState:C};return{...Dt,formControl:Dt}}function Lb(t={}){const e=er.useRef(void 0),n=er.useRef(void 0),[i,a]=er.useState({isDirty:!1,isValidating:!1,isLoading:Sr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Sr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!Sr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...f}=Db(t);e.current={...f,formState:i}}const l=e.current.control;return l._options=t,bb(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(f=>({...f,isReady:!0})),l._formState.isReady=!0,u},[l]),er.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),er.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),er.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),er.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),er.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==i.isDirty&&l._subjects.state.next({isDirty:u})}},[l,i.isDirty]),er.useEffect(()=>{var u;t.values&&!yn(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((u=l._options.resetOptions)===null||u===void 0)&&u.keepIsValid||l._setValid(),n.current=t.values,a(f=>({...f}))):l._resetDefaultValues()},[l,t.values]),er.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=_b(i,l),e.current}const Np=(t,e,n)=>{if(t&&"reportValidity"in t){const i=se(n,e);t.setCustomValidity(i&&i.message||""),t.reportValidity()}},gc=(t,e)=>{for(const n in e.fields){const i=e.fields[n];i&&i.ref&&"reportValidity"in i.ref?Np(i.ref,n,t):i&&i.refs&&i.refs.forEach(a=>Np(a,n,t))}},Cp=(t,e)=>{e.shouldUseNativeValidation&&gc(t,e);const n={};for(const i in t){const a=se(e.fields,i),l=Object.assign(t[i]||{},{ref:a&&a.ref});if(zb(e.names||Object.keys(t),i)){const u=Object.assign({},se(n,i));Ve(u,"root",l),Ve(n,i,u)}else Ve(n,i,l)}return n},zb=(t,e)=>{const n=Ap(e);return t.some(i=>Ap(i).match(`^${n}\\.\\d+`))};function Ap(t){return t.replace(/\]|\[/g,"")}function F(t,e,n){function i(f,h){if(f._zod||Object.defineProperty(f,"_zod",{value:{def:h,constr:u,traits:new Set},enumerable:!1}),f._zod.traits.has(t))return;f._zod.traits.add(t),e(f,h);const m=u.prototype,v=Object.keys(m);for(let w=0;w<v.length;w++){const _=v[w];_ in f||(f[_]=m[_].bind(f))}}const a=n?.Parent??Object;class l extends a{}Object.defineProperty(l,"name",{value:t});function u(f){var h;const m=n?.Parent?new l:this;i(m,f),(h=m._zod).deferred??(h.deferred=[]);for(const v of m._zod.deferred)v();return m}return Object.defineProperty(u,"init",{value:i}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>n?.Parent&&f instanceof n.Parent?!0:f?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class Cs extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Cg extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Ag={};function Zn(t){return Ag}function Ub(t){const e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,a])=>e.indexOf(+i)===-1).map(([i,a])=>a)}function vc(t,e){return typeof e=="bigint"?e.toString():e}function Mc(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Bc(t){return t==null}function Vc(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Fb(t,e){const n=(t.toString().split(".")[1]||"").length,i=e.toString();let a=(i.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(i)){const h=i.match(/\d?e-(\d?)/);h?.[1]&&(a=Number.parseInt(h[1]))}const l=n>a?n:a,u=Number.parseInt(t.toFixed(l).replace(".","")),f=Number.parseInt(e.toFixed(l).replace(".",""));return u%f/10**l}const Pp=Symbol("evaluating");function We(t,e,n){let i;Object.defineProperty(t,e,{get(){if(i!==Pp)return i===void 0&&(i=Pp,i=n()),i},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Kn(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Gn(...t){const e={};for(const n of t){const i=Object.getOwnPropertyDescriptors(n);Object.assign(e,i)}return Object.defineProperties({},e)}function Rp(t){return JSON.stringify(t)}function Mb(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Pg="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ra(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Bb=Mc(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ui(t){if(Ra(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Ra(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Rg(t){return Ui(t)?{...t}:Array.isArray(t)?[...t]:t}const Vb=new Set(["string","number","symbol"]);function Ba(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wn(t,e,n){const i=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(i._zod.parent=t),i}function me(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function qb(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Zb={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Wb(t,e){const n=t._zod.def,i=Gn(t._zod.def,{get shape(){const a={};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(a[l]=n.shape[l])}return Kn(this,"shape",a),a},checks:[]});return wn(t,i)}function Hb(t,e){const n=t._zod.def,i=Gn(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const l in e){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete a[l]}return Kn(this,"shape",a),a},checks:[]});return wn(t,i)}function Kb(t,e){if(!Ui(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Gn(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Kn(this,"shape",l),l},checks:[]});return wn(t,a)}function Gb(t,e){if(!Ui(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const i={...t._zod.def.shape,...e};return Kn(this,"shape",i),i},checks:t._zod.def.checks};return wn(t,n)}function Jb(t,e){const n=Gn(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e._zod.def.shape};return Kn(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return wn(t,n)}function Qb(t,e,n){const i=Gn(e._zod.def,{get shape(){const a=e._zod.def.shape,l={...a};if(n)for(const u in n){if(!(u in a))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=t?new t({type:"optional",innerType:a[u]}):a[u])}else for(const u in a)l[u]=t?new t({type:"optional",innerType:a[u]}):a[u];return Kn(this,"shape",l),l},checks:[]});return wn(e,i)}function Yb(t,e,n){const i=Gn(e._zod.def,{get shape(){const a=e._zod.def.shape,l={...a};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new t({type:"nonoptional",innerType:a[u]}))}else for(const u in a)l[u]=new t({type:"nonoptional",innerType:a[u]});return Kn(this,"shape",l),l},checks:[]});return wn(e,i)}function Ts(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Ig(t,e){return e.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(t),n})}function fa(t){return typeof t=="string"?t:t?.message}function Wn(t,e,n){const i={...t,path:t.path??[]};if(!t.message){const a=fa(t.inst?._zod.def?.error?.(t))??fa(e?.error?.(t))??fa(n.customError?.(t))??fa(n.localeError?.(t))??"Invalid input";i.message=a}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function qc(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Fi(...t){const[e,n,i]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:i}:{...e}}const $g=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,vc,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Zc=F("$ZodError",$g),Va=F("$ZodError",$g,{Parent:Error});function Xb(t,e=n=>n.message){const n={},i=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:n}}function ex(t,e=n=>n.message){const n={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>i({issues:u}));else if(l.code==="invalid_key")i({issues:l.issues});else if(l.code==="invalid_element")i({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let u=n,f=0;for(;f<l.path.length;){const h=l.path[f];f===l.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(e(l))):u[h]=u[h]||{_errors:[]},u=u[h],f++}}};return i(t),n}const qa=t=>(e,n,i,a)=>{const l=i?Object.assign(i,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new Cs;if(u.issues.length){const f=new(a?.Err??t)(u.issues.map(h=>Wn(h,l,Zn())));throw Pg(f,a?.callee),f}return u.value},tx=qa(Va),Za=t=>async(e,n,i,a)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(a?.Err??t)(u.issues.map(h=>Wn(h,l,Zn())));throw Pg(f,a?.callee),f}return u.value},rx=Za(Va),Wa=t=>(e,n,i)=>{const a=i?{...i,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new Cs;return l.issues.length?{success:!1,error:new(t??Zc)(l.issues.map(u=>Wn(u,a,Zn())))}:{success:!0,data:l.value}},nx=Wa(Va),Ha=t=>async(e,n,i)=>{const a=i?Object.assign(i,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(u=>Wn(u,a,Zn())))}:{success:!0,data:l.value}},sx=Ha(Va),ix=t=>(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return qa(t)(e,n,a)},ox=t=>(e,n,i)=>qa(t)(e,n,i),ax=t=>async(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Za(t)(e,n,a)},lx=t=>async(e,n,i)=>Za(t)(e,n,i),ux=t=>(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Wa(t)(e,n,a)},cx=t=>(e,n,i)=>Wa(t)(e,n,i),dx=t=>async(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ha(t)(e,n,a)},fx=t=>async(e,n,i)=>Ha(t)(e,n,i),hx=/^[cC][^\s-]{8,}$/,px=/^[0-9a-z]+$/,mx=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,gx=/^[0-9a-vA-V]{20}$/,vx=/^[A-Za-z0-9]{27}$/,yx=/^[a-zA-Z0-9_-]{21}$/,wx=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,_x=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ip=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,bx=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,xx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function kx(){return new RegExp(xx,"u")}const Sx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ex=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,jx=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Tx=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ox=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Dg=/^[A-Za-z0-9_-]*$/,Nx=/^\+(?:[0-9]){6,14}[0-9]$/,Lg="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Cx=new RegExp(`^${Lg}$`);function zg(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Ax(t){return new RegExp(`^${zg(t)}$`)}function Px(t){const e=zg({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${e}(?:${n.join("|")})`;return new RegExp(`^${Lg}T(?:${i})$`)}const Rx=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Ix=/^-?\d+$/,$x=/^-?\d+(?:\.\d+)?/,Dx=/^[^A-Z]*$/,Lx=/^[^a-z]*$/,Gt=F("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Ug={number:"number",bigint:"bigint",object:"date"},Fg=F("$ZodCheckLessThan",(t,e)=>{Gt.init(t,e);const n=Ug[typeof e.value];t._zod.onattach.push(i=>{const a=i._zod.bag,l=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<l&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:n,code:"too_big",maximum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Mg=F("$ZodCheckGreaterThan",(t,e)=>{Gt.init(t,e);const n=Ug[typeof e.value];t._zod.onattach.push(i=>{const a=i._zod.bag,l=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>l&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:n,code:"too_small",minimum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),zx=F("$ZodCheckMultipleOf",(t,e)=>{Gt.init(t,e),t._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Fb(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Ux=F("$ZodCheckNumberFormat",(t,e)=>{Gt.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),i=n?"int":"number",[a,l]=Zb[e.format];t._zod.onattach.push(u=>{const f=u._zod.bag;f.format=e.format,f.minimum=a,f.maximum=l,n&&(f.pattern=Ix)}),t._zod.check=u=>{const f=u.value;if(n){if(!Number.isInteger(f)){u.issues.push({expected:i,format:e.format,code:"invalid_type",continue:!1,input:f,inst:t});return}if(!Number.isSafeInteger(f)){f>0?u.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort}):u.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort});return}}f<a&&u.issues.push({origin:"number",input:f,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),f>l&&u.issues.push({origin:"number",input:f,code:"too_big",maximum:l,inst:t})}}),Fx=F("$ZodCheckMaxLength",(t,e)=>{var n;Gt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!Bc(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{const a=i.value;if(a.length<=e.maximum)return;const u=qc(a);i.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),Mx=F("$ZodCheckMinLength",(t,e)=>{var n;Gt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!Bc(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{const a=i.value;if(a.length>=e.minimum)return;const u=qc(a);i.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),Bx=F("$ZodCheckLengthEquals",(t,e)=>{var n;Gt.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!Bc(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=i=>{const a=i.value,l=a.length;if(l===e.length)return;const u=qc(a),f=l>e.length;i.issues.push({origin:u,...f?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),Ka=F("$ZodCheckStringFormat",(t,e)=>{var n,i;Gt.init(t,e),t._zod.onattach.push(a=>{const l=a._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),Vx=F("$ZodCheckRegex",(t,e)=>{Ka.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),qx=F("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Dx),Ka.init(t,e)}),Zx=F("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Lx),Ka.init(t,e)}),Wx=F("$ZodCheckIncludes",(t,e)=>{Gt.init(t,e);const n=Ba(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=i,t._zod.onattach.push(a=>{const l=a._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(i)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),Hx=F("$ZodCheckStartsWith",(t,e)=>{Gt.init(t,e);const n=new RegExp(`^${Ba(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),Kx=F("$ZodCheckEndsWith",(t,e)=>{Gt.init(t,e);const n=new RegExp(`.*${Ba(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}}),Gx=F("$ZodCheckOverwrite",(t,e)=>{Gt.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class Jx{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const i=e.split(`
`).filter(u=>u),a=Math.min(...i.map(u=>u.length-u.trimStart().length)),l=i.map(u=>u.slice(a)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,a.join(`
`))}}const Qx={major:4,minor:1,patch:13},ht=F("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Qx;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const a of i)for(const l of a._zod.onattach)l(t);if(i.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(u,f,h)=>{let m=Ts(u),v;for(const w of f){if(w._zod.def.when){if(!w._zod.def.when(u))continue}else if(m)continue;const _=u.issues.length,x=w._zod.check(u);if(x instanceof Promise&&h?.async===!1)throw new Cs;if(v||x instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await x,u.issues.length!==_&&(m||(m=Ts(u,_)))});else{if(u.issues.length===_)continue;m||(m=Ts(u,_))}}return v?v.then(()=>u):u},l=(u,f,h)=>{if(Ts(u))return u.aborted=!0,u;const m=a(f,i,h);if(m instanceof Promise){if(h.async===!1)throw new Cs;return m.then(v=>t._zod.parse(v,h))}return t._zod.parse(m,h)};t._zod.run=(u,f)=>{if(f.skipChecks)return t._zod.parse(u,f);if(f.direction==="backward"){const m=t._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return m instanceof Promise?m.then(v=>l(v,u,f)):l(m,u,f)}const h=t._zod.parse(u,f);if(h instanceof Promise){if(f.async===!1)throw new Cs;return h.then(m=>a(m,i,f))}return a(h,i,f)}}t["~standard"]={validate:a=>{try{const l=nx(t,a);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return sx(t,a).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),Wc=F("$ZodString",(t,e)=>{ht.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Rx(t._zod.bag),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Qe=F("$ZodStringFormat",(t,e)=>{Ka.init(t,e),Wc.init(t,e)}),Yx=F("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=_x),Qe.init(t,e)}),Xx=F("$ZodUUID",(t,e)=>{if(e.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Ip(i))}else e.pattern??(e.pattern=Ip());Qe.init(t,e)}),ek=F("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=bx),Qe.init(t,e)}),tk=F("$ZodURL",(t,e)=>{Qe.init(t,e),t._zod.check=n=>{try{const i=n.value.trim(),a=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),rk=F("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=kx()),Qe.init(t,e)}),nk=F("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=yx),Qe.init(t,e)}),sk=F("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=hx),Qe.init(t,e)}),ik=F("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=px),Qe.init(t,e)}),ok=F("$ZodULID",(t,e)=>{e.pattern??(e.pattern=mx),Qe.init(t,e)}),ak=F("$ZodXID",(t,e)=>{e.pattern??(e.pattern=gx),Qe.init(t,e)}),lk=F("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=vx),Qe.init(t,e)}),uk=F("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Px(e)),Qe.init(t,e)}),ck=F("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Cx),Qe.init(t,e)}),dk=F("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Ax(e)),Qe.init(t,e)}),fk=F("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=wx),Qe.init(t,e)}),hk=F("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Sx),Qe.init(t,e),t._zod.bag.format="ipv4"}),pk=F("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Ex),Qe.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),mk=F("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=jx),Qe.init(t,e)}),gk=F("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Tx),Qe.init(t,e),t._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[a,l]=i;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Bg(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const vk=F("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Ox),Qe.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{Bg(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function yk(t){if(!Dg.test(t))return!1;const e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Bg(n)}const wk=F("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Dg),Qe.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{yk(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),_k=F("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Nx),Qe.init(t,e)});function bk(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const a=JSON.parse(atob(i));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const xk=F("$ZodJWT",(t,e)=>{Qe.init(t,e),t._zod.check=n=>{bk(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Vg=F("$ZodNumber",(t,e)=>{ht.init(t,e),t._zod.pattern=t._zod.bag.pattern??$x,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const l=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...l?{received:l}:{}}),n}}),kk=F("$ZodNumberFormat",(t,e)=>{Ux.init(t,e),Vg.init(t,e)}),Sk=F("$ZodUnknown",(t,e)=>{ht.init(t,e),t._zod.parse=n=>n}),Ek=F("$ZodNever",(t,e)=>{ht.init(t,e),t._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function $p(t,e,n){t.issues.length&&e.issues.push(...Ig(n,t.issues)),e.value[n]=t.value}const jk=F("$ZodArray",(t,e)=>{ht.init(t,e),t._zod.parse=(n,i)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const l=[];for(let u=0;u<a.length;u++){const f=a[u],h=e.element._zod.run({value:f,issues:[]},i);h instanceof Promise?l.push(h.then(m=>$p(m,n,u))):$p(h,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function Ia(t,e,n,i){t.issues.length&&e.issues.push(...Ig(n,t.issues)),t.value===void 0?n in i&&(e.value[n]=void 0):e.value[n]=t.value}function qg(t){const e=Object.keys(t.shape);for(const i of e)if(!t.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const n=qb(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function Zg(t,e,n,i,a,l){const u=[],f=a.keySet,h=a.catchall._zod,m=h.def.type;for(const v in e){if(f.has(v))continue;if(m==="never"){u.push(v);continue}const w=h.run({value:e[v],issues:[]},i);w instanceof Promise?t.push(w.then(_=>Ia(_,n,v,e))):Ia(w,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const Tk=F("$ZodObject",(t,e)=>{if(ht.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const f=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...f};return Object.defineProperty(e,"shape",{value:h}),h}})}const i=Mc(()=>qg(e));We(t._zod,"propValues",()=>{const f=e.shape,h={};for(const m in f){const v=f[m]._zod;if(v.values){h[m]??(h[m]=new Set);for(const w of v.values)h[m].add(w)}}return h});const a=Ra,l=e.catchall;let u;t._zod.parse=(f,h)=>{u??(u=i.value);const m=f.value;if(!a(m))return f.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),f;f.value={};const v=[],w=u.shape;for(const _ of u.keys){const b=w[_]._zod.run({value:m[_],issues:[]},h);b instanceof Promise?v.push(b.then(S=>Ia(S,f,_,m))):Ia(b,f,_,m)}return l?Zg(v,m,f,h,i.value,t):v.length?Promise.all(v).then(()=>f):f}}),Ok=F("$ZodObjectJIT",(t,e)=>{Tk.init(t,e);const n=t._zod.parse,i=Mc(()=>qg(e)),a=_=>{const x=new Jx(["shape","payload","ctx"]),b=i.value,S=P=>{const z=Rp(P);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};x.write("const input = payload.value;");const j=Object.create(null);let N=0;for(const P of b.keys)j[P]=`key_${N++}`;x.write("const newResult = {};");for(const P of b.keys){const z=j[P],U=Rp(P);x.write(`const ${z} = ${S(P)};`),x.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${U}, ...iss.path] : [${U}]
          })));
        }
        
        
        if (${z}.value === undefined) {
          if (${U} in input) {
            newResult[${U}] = undefined;
          }
        } else {
          newResult[${U}] = ${z}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const A=x.compile();return(P,z)=>A(_,P,z)};let l;const u=Ra,f=!Ag.jitless,m=f&&Bb.value,v=e.catchall;let w;t._zod.parse=(_,x)=>{w??(w=i.value);const b=_.value;return u(b)?f&&m&&x?.async===!1&&x.jitless!==!0?(l||(l=a(e.shape)),_=l(_,x),v?Zg([],b,_,x,w,t):_):n(_,x):(_.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),_)}});function Dp(t,e,n,i){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const a=t.filter(l=>!Ts(l));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(u=>Wn(u,i,Zn())))}),e)}const Nk=F("$ZodUnion",(t,e)=>{ht.init(t,e),We(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),We(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),We(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),We(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${a.map(l=>Vc(l.source)).join("|")})$`)}});const n=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(a,l)=>{if(n)return i(a,l);let u=!1;const f=[];for(const h of e.options){const m=h._zod.run({value:a.value,issues:[]},l);if(m instanceof Promise)f.push(m),u=!0;else{if(m.issues.length===0)return m;f.push(m)}}return u?Promise.all(f).then(h=>Dp(h,a,t,l)):Dp(f,a,t,l)}}),Ck=F("$ZodIntersection",(t,e)=>{ht.init(t,e),t._zod.parse=(n,i)=>{const a=n.value,l=e.left._zod.run({value:a,issues:[]},i),u=e.right._zod.run({value:a,issues:[]},i);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([h,m])=>Lp(n,h,m)):Lp(n,l,u)}});function yc(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ui(t)&&Ui(e)){const n=Object.keys(e),i=Object.keys(t).filter(l=>n.indexOf(l)!==-1),a={...t,...e};for(const l of i){const u=yc(t[l],e[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};a[l]=u.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],u=yc(a,l);if(!u.valid)return{valid:!1,mergeErrorPath:[i,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Lp(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Ts(t))return t;const i=yc(e.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}const Ak=F("$ZodEnum",(t,e)=>{ht.init(t,e);const n=Ub(e.entries),i=new Set(n);t._zod.values=i,t._zod.pattern=new RegExp(`^(${n.filter(a=>Vb.has(typeof a)).map(a=>typeof a=="string"?Ba(a):a.toString()).join("|")})$`),t._zod.parse=(a,l)=>{const u=a.value;return i.has(u)||a.issues.push({code:"invalid_value",values:n,input:u,inst:t}),a}}),Pk=F("$ZodTransform",(t,e)=>{ht.init(t,e),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new Cg(t.constructor.name);const a=e.transform(n.value,n);if(i.async)return(a instanceof Promise?a:Promise.resolve(a)).then(u=>(n.value=u,n));if(a instanceof Promise)throw new Cs;return n.value=a,n}});function zp(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Rk=F("$ZodOptional",(t,e)=>{ht.init(t,e),t._zod.optin="optional",t._zod.optout="optional",We(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),We(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Vc(n.source)})?$`):void 0}),t._zod.parse=(n,i)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>zp(l,n.value)):zp(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,i)}}),Ik=F("$ZodNullable",(t,e)=>{ht.init(t,e),We(t._zod,"optin",()=>e.innerType._zod.optin),We(t._zod,"optout",()=>e.innerType._zod.optout),We(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Vc(n.source)}|null)$`):void 0}),We(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,i)=>n.value===null?n:e.innerType._zod.run(n,i)}),$k=F("$ZodDefault",(t,e)=>{ht.init(t,e),t._zod.optin="optional",We(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>Up(l,e)):Up(a,e)}});function Up(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Dk=F("$ZodPrefault",(t,e)=>{ht.init(t,e),t._zod.optin="optional",We(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,i))}),Lk=F("$ZodNonOptional",(t,e)=>{ht.init(t,e),We(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),t._zod.parse=(n,i)=>{const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>Fp(l,t)):Fp(a,t)}});function Fp(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const zk=F("$ZodCatch",(t,e)=>{ht.init(t,e),We(t._zod,"optin",()=>e.innerType._zod.optin),We(t._zod,"optout",()=>e.innerType._zod.optout),We(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(u=>Wn(u,i,Zn()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>Wn(l,i,Zn()))},input:n.value}),n.issues=[]),n)}}),Uk=F("$ZodPipe",(t,e)=>{ht.init(t,e),We(t._zod,"values",()=>e.in._zod.values),We(t._zod,"optin",()=>e.in._zod.optin),We(t._zod,"optout",()=>e.out._zod.optout),We(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,i)=>{if(i.direction==="backward"){const l=e.out._zod.run(n,i);return l instanceof Promise?l.then(u=>ha(u,e.in,i)):ha(l,e.in,i)}const a=e.in._zod.run(n,i);return a instanceof Promise?a.then(l=>ha(l,e.out,i)):ha(a,e.out,i)}});function ha(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const Fk=F("$ZodReadonly",(t,e)=>{ht.init(t,e),We(t._zod,"propValues",()=>e.innerType._zod.propValues),We(t._zod,"values",()=>e.innerType._zod.values),We(t._zod,"optin",()=>e.innerType?._zod?.optin),We(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(Mp):Mp(a)}});function Mp(t){return t.value=Object.freeze(t.value),t}const Mk=F("$ZodCustom",(t,e)=>{Gt.init(t,e),ht.init(t,e),t._zod.parse=(n,i)=>n,t._zod.check=n=>{const i=n.value,a=e.fn(i);if(a instanceof Promise)return a.then(l=>Bp(l,n,i,t));Bp(a,n,i,t)}});function Bp(t,e,n,i){if(!t){const a={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(a.params=i._zod.def.params),e.issues.push(Fi(a))}}var Vp;class Bk{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const i=n[0];if(this._map.set(e,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const a={...i,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Vk(){return new Bk}(Vp=globalThis).__zod_globalRegistry??(Vp.__zod_globalRegistry=Vk());const pa=globalThis.__zod_globalRegistry;function qk(t,e){return new t({type:"string",...me(e)})}function Zk(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...me(e)})}function qp(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...me(e)})}function Wk(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...me(e)})}function Hk(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...me(e)})}function Kk(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...me(e)})}function Gk(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...me(e)})}function Jk(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...me(e)})}function Qk(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...me(e)})}function Yk(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...me(e)})}function Xk(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...me(e)})}function eS(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...me(e)})}function tS(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...me(e)})}function rS(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...me(e)})}function nS(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...me(e)})}function sS(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...me(e)})}function iS(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...me(e)})}function oS(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...me(e)})}function aS(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...me(e)})}function lS(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...me(e)})}function uS(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...me(e)})}function cS(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...me(e)})}function dS(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...me(e)})}function fS(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...me(e)})}function hS(t,e){return new t({type:"string",format:"date",check:"string_format",...me(e)})}function pS(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...me(e)})}function mS(t,e){return new t({type:"string",format:"duration",check:"string_format",...me(e)})}function gS(t,e){return new t({type:"number",coerce:!0,checks:[],...me(e)})}function vS(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...me(e)})}function yS(t){return new t({type:"unknown"})}function wS(t,e){return new t({type:"never",...me(e)})}function Zp(t,e){return new Fg({check:"less_than",...me(e),value:t,inclusive:!1})}function Wu(t,e){return new Fg({check:"less_than",...me(e),value:t,inclusive:!0})}function Wp(t,e){return new Mg({check:"greater_than",...me(e),value:t,inclusive:!1})}function Hu(t,e){return new Mg({check:"greater_than",...me(e),value:t,inclusive:!0})}function Hp(t,e){return new zx({check:"multiple_of",...me(e),value:t})}function Wg(t,e){return new Fx({check:"max_length",...me(e),maximum:t})}function $a(t,e){return new Mx({check:"min_length",...me(e),minimum:t})}function Hg(t,e){return new Bx({check:"length_equals",...me(e),length:t})}function _S(t,e){return new Vx({check:"string_format",format:"regex",...me(e),pattern:t})}function bS(t){return new qx({check:"string_format",format:"lowercase",...me(t)})}function xS(t){return new Zx({check:"string_format",format:"uppercase",...me(t)})}function kS(t,e){return new Wx({check:"string_format",format:"includes",...me(e),includes:t})}function SS(t,e){return new Hx({check:"string_format",format:"starts_with",...me(e),prefix:t})}function ES(t,e){return new Kx({check:"string_format",format:"ends_with",...me(e),suffix:t})}function $s(t){return new Gx({check:"overwrite",tx:t})}function jS(t){return $s(e=>e.normalize(t))}function TS(){return $s(t=>t.trim())}function OS(){return $s(t=>t.toLowerCase())}function NS(){return $s(t=>t.toUpperCase())}function CS(){return $s(t=>Mb(t))}function AS(t,e,n){return new t({type:"array",element:e,...me(n)})}function PS(t,e,n){return new t({type:"custom",check:"custom",fn:e,...me(n)})}function RS(t){const e=IS(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Fi(i,n.value,e._zod.def));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(Fi(a))}},t(n.value,n)));return e}function IS(t,e){const n=new Gt({check:"custom",...me(e)});return n._zod.check=t,n}function Kp(t,e){try{var n=t()}catch(i){return e(i)}return n&&n.then?n.then(void 0,e):n}function $S(t,e){for(var n={};t.length;){var i=t[0],a=i.code,l=i.message,u=i.path.join(".");if(!n[u])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:a};if("unionErrors"in i&&i.unionErrors.forEach(function(v){return v.errors.forEach(function(w){return t.push(w)})}),e){var h=n[u].types,m=h&&h[i.code];n[u]=zc(u,e,n,a,m?[].concat(m,i.message):i.message)}t.shift()}return n}function DS(t,e){for(var n={};t.length;){var i=t[0],a=i.code,l=i.message,u=i.path.join(".");if(!n[u])if(i.code==="invalid_union"&&i.errors.length>0){var f=i.errors[0][0];n[u]={message:f.message,type:f.code}}else n[u]={message:l,type:a};if(i.code==="invalid_union"&&i.errors.forEach(function(v){return v.forEach(function(w){return t.push(w)})}),e){var h=n[u].types,m=h&&h[i.code];n[u]=zc(u,e,n,a,m?[].concat(m,i.message):i.message)}t.shift()}return n}function LS(t,e,n){if(n===void 0&&(n={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(t))return function(i,a,l){try{return Promise.resolve(Kp(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](i,e)).then(function(u){return l.shouldUseNativeValidation&&gc({},l),{errors:{},values:n.raw?Object.assign({},i):u}})},function(u){if((function(f){return Array.isArray(f?.issues)})(u))return{values:{},errors:Cp($S(u.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(t))return function(i,a,l){try{return Promise.resolve(Kp(function(){return Promise.resolve((n.mode==="sync"?tx:rx)(t,i,e)).then(function(u){return l.shouldUseNativeValidation&&gc({},l),{errors:{},values:n.raw?Object.assign({},i):u}})},function(u){if((function(f){return f instanceof Zc})(u))return{values:{},errors:Cp(DS(u.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}const zS=F("ZodISODateTime",(t,e)=>{uk.init(t,e),tt.init(t,e)});function US(t){return fS(zS,t)}const FS=F("ZodISODate",(t,e)=>{ck.init(t,e),tt.init(t,e)});function MS(t){return hS(FS,t)}const BS=F("ZodISOTime",(t,e)=>{dk.init(t,e),tt.init(t,e)});function VS(t){return pS(BS,t)}const qS=F("ZodISODuration",(t,e)=>{fk.init(t,e),tt.init(t,e)});function ZS(t){return mS(qS,t)}const WS=(t,e)=>{Zc.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>ex(t,n)},flatten:{value:n=>Xb(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,vc,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,vc,2)}},isEmpty:{get(){return t.issues.length===0}}})},cr=F("ZodError",WS,{Parent:Error}),HS=qa(cr),KS=Za(cr),GS=Wa(cr),JS=Ha(cr),QS=ix(cr),YS=ox(cr),XS=ax(cr),eE=lx(cr),tE=ux(cr),rE=cx(cr),nE=dx(cr),sE=fx(cr),vt=F("ZodType",(t,e)=>(ht.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Gn(e,{checks:[...e.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),t.clone=(n,i)=>wn(t,n,i),t.brand=()=>t,t.register=((n,i)=>(n.add(t,i),t)),t.parse=(n,i)=>HS(t,n,i,{callee:t.parse}),t.safeParse=(n,i)=>GS(t,n,i),t.parseAsync=async(n,i)=>KS(t,n,i,{callee:t.parseAsync}),t.safeParseAsync=async(n,i)=>JS(t,n,i),t.spa=t.safeParseAsync,t.encode=(n,i)=>QS(t,n,i),t.decode=(n,i)=>YS(t,n,i),t.encodeAsync=async(n,i)=>XS(t,n,i),t.decodeAsync=async(n,i)=>eE(t,n,i),t.safeEncode=(n,i)=>tE(t,n,i),t.safeDecode=(n,i)=>rE(t,n,i),t.safeEncodeAsync=async(n,i)=>nE(t,n,i),t.safeDecodeAsync=async(n,i)=>sE(t,n,i),t.refine=(n,i)=>t.check(KE(n,i)),t.superRefine=n=>t.check(GE(n)),t.overwrite=n=>t.check($s(n)),t.optional=()=>Yp(t),t.nullable=()=>Xp(t),t.nullish=()=>Yp(Xp(t)),t.nonoptional=n=>ME(t,n),t.array=()=>Jg(t),t.or=n=>AE([t,n]),t.and=n=>RE(t,n),t.transform=n=>em(t,$E(n)),t.default=n=>zE(t,n),t.prefault=n=>FE(t,n),t.catch=n=>VE(t,n),t.pipe=n=>em(t,n),t.readonly=()=>WE(t),t.describe=n=>{const i=t.clone();return pa.add(i,{description:n}),i},Object.defineProperty(t,"description",{get(){return pa.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return pa.get(t);const i=t.clone();return pa.add(i,n[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Kg=F("_ZodString",(t,e)=>{Wc.init(t,e),vt.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...i)=>t.check(_S(...i)),t.includes=(...i)=>t.check(kS(...i)),t.startsWith=(...i)=>t.check(SS(...i)),t.endsWith=(...i)=>t.check(ES(...i)),t.min=(...i)=>t.check($a(...i)),t.max=(...i)=>t.check(Wg(...i)),t.length=(...i)=>t.check(Hg(...i)),t.nonempty=(...i)=>t.check($a(1,...i)),t.lowercase=i=>t.check(bS(i)),t.uppercase=i=>t.check(xS(i)),t.trim=()=>t.check(TS()),t.normalize=(...i)=>t.check(jS(...i)),t.toLowerCase=()=>t.check(OS()),t.toUpperCase=()=>t.check(NS()),t.slugify=()=>t.check(CS())}),iE=F("ZodString",(t,e)=>{Wc.init(t,e),Kg.init(t,e),t.email=n=>t.check(Zk(oE,n)),t.url=n=>t.check(Jk(aE,n)),t.jwt=n=>t.check(dS(xE,n)),t.emoji=n=>t.check(Qk(lE,n)),t.guid=n=>t.check(qp(Gp,n)),t.uuid=n=>t.check(Wk(ga,n)),t.uuidv4=n=>t.check(Hk(ga,n)),t.uuidv6=n=>t.check(Kk(ga,n)),t.uuidv7=n=>t.check(Gk(ga,n)),t.nanoid=n=>t.check(Yk(uE,n)),t.guid=n=>t.check(qp(Gp,n)),t.cuid=n=>t.check(Xk(cE,n)),t.cuid2=n=>t.check(eS(dE,n)),t.ulid=n=>t.check(tS(fE,n)),t.base64=n=>t.check(lS(wE,n)),t.base64url=n=>t.check(uS(_E,n)),t.xid=n=>t.check(rS(hE,n)),t.ksuid=n=>t.check(nS(pE,n)),t.ipv4=n=>t.check(sS(mE,n)),t.ipv6=n=>t.check(iS(gE,n)),t.cidrv4=n=>t.check(oS(vE,n)),t.cidrv6=n=>t.check(aS(yE,n)),t.e164=n=>t.check(cS(bE,n)),t.datetime=n=>t.check(US(n)),t.date=n=>t.check(MS(n)),t.time=n=>t.check(VS(n)),t.duration=n=>t.check(ZS(n))});function ma(t){return qk(iE,t)}const tt=F("ZodStringFormat",(t,e)=>{Qe.init(t,e),Kg.init(t,e)}),oE=F("ZodEmail",(t,e)=>{ek.init(t,e),tt.init(t,e)}),Gp=F("ZodGUID",(t,e)=>{Yx.init(t,e),tt.init(t,e)}),ga=F("ZodUUID",(t,e)=>{Xx.init(t,e),tt.init(t,e)}),aE=F("ZodURL",(t,e)=>{tk.init(t,e),tt.init(t,e)}),lE=F("ZodEmoji",(t,e)=>{rk.init(t,e),tt.init(t,e)}),uE=F("ZodNanoID",(t,e)=>{nk.init(t,e),tt.init(t,e)}),cE=F("ZodCUID",(t,e)=>{sk.init(t,e),tt.init(t,e)}),dE=F("ZodCUID2",(t,e)=>{ik.init(t,e),tt.init(t,e)}),fE=F("ZodULID",(t,e)=>{ok.init(t,e),tt.init(t,e)}),hE=F("ZodXID",(t,e)=>{ak.init(t,e),tt.init(t,e)}),pE=F("ZodKSUID",(t,e)=>{lk.init(t,e),tt.init(t,e)}),mE=F("ZodIPv4",(t,e)=>{hk.init(t,e),tt.init(t,e)}),gE=F("ZodIPv6",(t,e)=>{pk.init(t,e),tt.init(t,e)}),vE=F("ZodCIDRv4",(t,e)=>{mk.init(t,e),tt.init(t,e)}),yE=F("ZodCIDRv6",(t,e)=>{gk.init(t,e),tt.init(t,e)}),wE=F("ZodBase64",(t,e)=>{vk.init(t,e),tt.init(t,e)}),_E=F("ZodBase64URL",(t,e)=>{wk.init(t,e),tt.init(t,e)}),bE=F("ZodE164",(t,e)=>{_k.init(t,e),tt.init(t,e)}),xE=F("ZodJWT",(t,e)=>{xk.init(t,e),tt.init(t,e)}),Gg=F("ZodNumber",(t,e)=>{Vg.init(t,e),vt.init(t,e),t.gt=(i,a)=>t.check(Wp(i,a)),t.gte=(i,a)=>t.check(Hu(i,a)),t.min=(i,a)=>t.check(Hu(i,a)),t.lt=(i,a)=>t.check(Zp(i,a)),t.lte=(i,a)=>t.check(Wu(i,a)),t.max=(i,a)=>t.check(Wu(i,a)),t.int=i=>t.check(Jp(i)),t.safe=i=>t.check(Jp(i)),t.positive=i=>t.check(Wp(0,i)),t.nonnegative=i=>t.check(Hu(0,i)),t.negative=i=>t.check(Zp(0,i)),t.nonpositive=i=>t.check(Wu(0,i)),t.multipleOf=(i,a)=>t.check(Hp(i,a)),t.step=(i,a)=>t.check(Hp(i,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null}),kE=F("ZodNumberFormat",(t,e)=>{kk.init(t,e),Gg.init(t,e)});function Jp(t){return vS(kE,t)}const SE=F("ZodUnknown",(t,e)=>{Sk.init(t,e),vt.init(t,e)});function Qp(){return yS(SE)}const EE=F("ZodNever",(t,e)=>{Ek.init(t,e),vt.init(t,e)});function jE(t){return wS(EE,t)}const TE=F("ZodArray",(t,e)=>{jk.init(t,e),vt.init(t,e),t.element=e.element,t.min=(n,i)=>t.check($a(n,i)),t.nonempty=n=>t.check($a(1,n)),t.max=(n,i)=>t.check(Wg(n,i)),t.length=(n,i)=>t.check(Hg(n,i)),t.unwrap=()=>t.element});function Jg(t,e){return AS(TE,t,e)}const OE=F("ZodObject",(t,e)=>{Ok.init(t,e),vt.init(t,e),We(t,"shape",()=>e.shape),t.keyof=()=>Qg(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Qp()}),t.loose=()=>t.clone({...t._zod.def,catchall:Qp()}),t.strict=()=>t.clone({...t._zod.def,catchall:jE()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Kb(t,n),t.safeExtend=n=>Gb(t,n),t.merge=n=>Jb(t,n),t.pick=n=>Wb(t,n),t.omit=n=>Hb(t,n),t.partial=(...n)=>Qb(Yg,t,n[0]),t.required=(...n)=>Yb(Xg,t,n[0])});function NE(t,e){const n={type:"object",shape:t??{},...me(e)};return new OE(n)}const CE=F("ZodUnion",(t,e)=>{Nk.init(t,e),vt.init(t,e),t.options=e.options});function AE(t,e){return new CE({type:"union",options:t,...me(e)})}const PE=F("ZodIntersection",(t,e)=>{Ck.init(t,e),vt.init(t,e)});function RE(t,e){return new PE({type:"intersection",left:t,right:e})}const wc=F("ZodEnum",(t,e)=>{Ak.init(t,e),vt.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(i,a)=>{const l={};for(const u of i)if(n.has(u))l[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new wc({...e,checks:[],...me(a),entries:l})},t.exclude=(i,a)=>{const l={...e.entries};for(const u of i)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new wc({...e,checks:[],...me(a),entries:l})}});function Qg(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new wc({type:"enum",entries:n,...me(e)})}const IE=F("ZodTransform",(t,e)=>{Pk.init(t,e),vt.init(t,e),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new Cg(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Fi(l,n.value,e));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(Fi(u))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(l=>(n.value=l,n)):(n.value=a,n)}});function $E(t){return new IE({type:"transform",transform:t})}const Yg=F("ZodOptional",(t,e)=>{Rk.init(t,e),vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Yp(t){return new Yg({type:"optional",innerType:t})}const DE=F("ZodNullable",(t,e)=>{Ik.init(t,e),vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Xp(t){return new DE({type:"nullable",innerType:t})}const LE=F("ZodDefault",(t,e)=>{$k.init(t,e),vt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function zE(t,e){return new LE({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Rg(e)}})}const UE=F("ZodPrefault",(t,e)=>{Dk.init(t,e),vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function FE(t,e){return new UE({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Rg(e)}})}const Xg=F("ZodNonOptional",(t,e)=>{Lk.init(t,e),vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function ME(t,e){return new Xg({type:"nonoptional",innerType:t,...me(e)})}const BE=F("ZodCatch",(t,e)=>{zk.init(t,e),vt.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function VE(t,e){return new BE({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const qE=F("ZodPipe",(t,e)=>{Uk.init(t,e),vt.init(t,e),t.in=e.in,t.out=e.out});function em(t,e){return new qE({type:"pipe",in:t,out:e})}const ZE=F("ZodReadonly",(t,e)=>{Fk.init(t,e),vt.init(t,e),t.unwrap=()=>t._zod.def.innerType});function WE(t){return new ZE({type:"readonly",innerType:t})}const HE=F("ZodCustom",(t,e)=>{Mk.init(t,e),vt.init(t,e)});function KE(t,e={}){return PS(HE,t,e)}function GE(t){return RS(t)}function JE(t){return gS(Gg,t)}const QE=NE({title:ma().min(1,"").max(40,"40"),description:ma().min(1,"").max(1e3,"1000"),price:JE().min(300,"300").max(9999999,"9,999,999"),category:ma().min(1,""),images:Jg(ma()).min(1,"1").max(10,"10"),status:Qg(["on_sale","sold_out","trading"]).default("on_sale")});function YE(){const[t,e]=ce.useState([]);return{form:Lb({resolver:LS(QE),defaultValues:{status:"on_sale",images:[],title:"",description:"",price:0,category:""}}),images:t,setImages:e}}function XE({files:t,onChange:e,maxImages:n=3}){const i=ce.useRef(null),a=f=>{if(f.target.files){const h=Array.from(f.target.files),m=[...t,...h].slice(0,n);e(m)}},l=f=>{const h=t.filter((m,v)=>v!==f);e(h)},u=()=>{i.current?.click()};return g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2 text-foreground",children:["1",n," ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(n)].map((f,h)=>{const m=t[h];return g.jsx("button",{type:"button",onClick:()=>m?l(h):u(),className:`aspect-square border-2 rounded-lg flex items-center justify-center transition-all overflow-hidden relative ${m?"border-primary bg-info/10":"border-border bg-muted hover:border-primary"}`,children:m?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:URL.createObjectURL(m),alt:"preview",className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 flex items-center justify-center text-white text-xs",children:""})]}):g.jsx("span",{className:"text-4xl text-secondary",children:"+"})},h)})}),g.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",multiple:!0,onChange:a}),g.jsx("p",{className:"text-xs text-secondary mt-2",children:"1"})]})}function ej({data:t,images:e,onConfirm:n,onCancel:i,loading:a}){const l=e.length>0?URL.createObjectURL(e[0]):null;return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-background rounded-lg p-6 max-w-md w-full shadow-lg max-h-[90vh] overflow-y-auto",children:[g.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsxs("div",{className:"flex gap-4 border p-4 rounded bg-card",children:[g.jsx("div",{className:"w-20 h-20 bg-muted flex-shrink-0 rounded overflow-hidden",children:l?g.jsx("img",{src:l,className:"w-full h-full object-cover",alt:"prev"}):g.jsx("div",{className:"w-full h-full bg-gray-200"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold",children:t.title}),g.jsxs("p",{className:"text-accent text-lg",children:["",t.price.toLocaleString()]}),g.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t.category})]})]}),g.jsxs("div",{className:"text-sm space-y-2",children:[g.jsxs("p",{children:[g.jsx("span",{className:"text-secondary",children:":"})," ",t.status==="on_sale"?t.condition||"":t.status]}),g.jsx("p",{className:"bg-muted p-2 rounded whitespace-pre-wrap",children:t.description})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:i,disabled:a,className:"flex-1 py-3 border border-border rounded hover:bg-muted",children:""}),g.jsx("button",{onClick:n,disabled:a,className:"flex-1 py-3 bg-accent text-white rounded hover:bg-[#FF7F50] disabled:opacity-50",children:a?"...":""})]})]})})}const Tt=[];for(let t=0;t<256;++t)Tt.push((t+256).toString(16).slice(1));function tj(t,e=0){return(Tt[t[e+0]]+Tt[t[e+1]]+Tt[t[e+2]]+Tt[t[e+3]]+"-"+Tt[t[e+4]]+Tt[t[e+5]]+"-"+Tt[t[e+6]]+Tt[t[e+7]]+"-"+Tt[t[e+8]]+Tt[t[e+9]]+"-"+Tt[t[e+10]]+Tt[t[e+11]]+Tt[t[e+12]]+Tt[t[e+13]]+Tt[t[e+14]]+Tt[t[e+15]]).toLowerCase()}let Ku;const rj=new Uint8Array(16);function nj(){if(!Ku){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ku=crypto.getRandomValues.bind(crypto)}return Ku(rj)}const sj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tm={randomUUID:sj};function ij(t,e,n){t=t||{};const i=t.random??t.rng?.()??nj();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,tj(i)}function oj(t,e,n){return tm.randomUUID&&!t?tm.randomUUID():ij(t)}const aj=async(t,e,n)=>{const i=e.map(async f=>{const h=f.name.split(".").pop(),m=`${n}/${oj()}.${h}`,{error:v}=await dt.storage.from("items").upload(m,f);if(v)throw v;const{data:{publicUrl:w}}=dt.storage.from("items").getPublicUrl(m);return w}),a=await Promise.all(i),{data:l,error:u}=await dt.from("items").insert({user_id:n,title:t.title,description:t.description,price:t.price,category:t.category,images:a,status:t.status}).select().single();if(u)throw u;return l},lj=["","","","",""],uj=["","",""];function cj({onNavigate:t}){const{user:e}=Hn(),{form:n,images:i,setImages:a}=YE(),[l,u]=ce.useState(!1),[f,h]=ce.useState(!1),{register:m,handleSubmit:v,watch:w,setValue:_,trigger:x,formState:{errors:b}}=n;w("status");const[S,j]=ce.useState(""),[N,A]=ce.useState(""),P=async U=>{if(i.length===0){alert("");return}if(!S){alert("");return}await x()&&u(!0)},z=async()=>{if(!e)return;h(!0);const U=w(),K=`${S}
${N}

${U.description}`,G={...U,description:K};try{await aj(G,i,e.id),alert(""),t("mypage")}catch(ae){console.error(ae),alert("")}finally{h(!1),u(!1)}};return g.jsxs(pb,{fallback:g.jsx("div",{className:"p-8 text-center text-red-500",children:""}),children:[g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:t,showBack:!0}),g.jsx("main",{className:"max-w-3xl mx-auto px-4 py-6",children:g.jsx("div",{className:"border border-border bg-card p-6 rounded-lg shadow-sm",children:g.jsxs("form",{onSubmit:v(P),className:"space-y-6",children:[g.jsx(XE,{files:i,onChange:U=>{a(U),_("images",U.map(K=>K.name)),x("images")}}),b.images&&g.jsx("p",{className:"text-destructive text-sm",children:b.images.message}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("input",{...m("title"),className:"w-full p-3 border rounded bg-card",placeholder:""}),b.title&&g.jsx("p",{className:"text-destructive text-sm",children:b.title.message})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:lj.map(U=>g.jsx("button",{type:"button",onClick:()=>_("category",U,{shouldValidate:!0}),className:`p-3 border rounded ${w("category")===U?"bg-primary text-white":""}`,children:U},U))}),b.category&&g.jsx("p",{className:"text-destructive text-sm",children:b.category.message})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("input",{type:"number",...m("price"),className:"w-full p-3 border rounded bg-card"}),b.price&&g.jsx("p",{className:"text-destructive text-sm",children:b.price.message})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("div",{className:"grid grid-cols-3 gap-2",children:uj.map(U=>g.jsx("button",{type:"button",onClick:()=>j(U),className:`p-3 border rounded ${S===U?"bg-primary text-white":""}`,children:U},U))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("textarea",{...m("description"),rows:5,className:"w-full p-3 border rounded bg-card"}),b.description&&g.jsx("p",{className:"text-destructive text-sm",children:b.description.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-2",children:""}),g.jsx("div",{className:"flex gap-4",children:["",""].map(U=>g.jsxs("label",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"radio",name:"delivery",checked:N===U,onChange:()=>A(U)}),U]},U))})]}),g.jsx("button",{type:"submit",className:"w-full py-3 bg-accent text-white rounded font-bold hover:bg-[#FF7F50]",children:""})]})})})]}),l&&g.jsx(ej,{data:{...w(),condition:S,status:"on_sale"},images:i,onConfirm:z,onCancel:()=>u(!1),loading:f})]})}const dj=async t=>{const{data:e,error:n}=await dt.from("items").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return e},fj=async t=>{const{error:e}=await dt.from("items").delete().eq("id",t);if(e)throw e};function hj(){const{user:t}=Hn(),[e,n]=ce.useState([]),[i,a]=ce.useState(!0),[l,u]=ce.useState(null),f=ce.useCallback(async()=>{if(t)try{a(!0);const m=await dj(t.id);n(m)}catch(m){u(m instanceof Error?m:new Error("An error occurred"))}finally{a(!1)}},[t]);return ce.useEffect(()=>{f()},[f]),{items:e,loading:i,error:l,handleDelete:async m=>{if(confirm(""))try{await fj(m),n(v=>v.filter(w=>w.id!==m))}catch(v){alert(""),console.error(v)}},refresh:f}}function pj({item:t,onClick:e,onEdit:n,onDelete:i}){return g.jsxs("div",{className:"w-full border border-border bg-card hover:shadow-md transition-all text-left rounded-lg overflow-hidden flex",children:[g.jsxs("button",{onClick:e,className:"flex-1 flex gap-4 p-4 text-left",children:[g.jsx("div",{className:"w-24 h-24 border border-border bg-muted flex-shrink-0 rounded flex items-center justify-center overflow-hidden",children:t.images&&t.images.length>0?g.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-12 h-12 border-2 border-primary/30 rounded"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("span",{className:"text-xs px-2 py-1 border border-border rounded bg-muted text-secondary truncate max-w-[100px]",children:t.category}),g.jsx("span",{className:`text-xs px-2 py-1 border rounded ${t.status==="on_sale"?"bg-info/20 border-info text-primary":"bg-muted border-border text-secondary"}`,children:t.status==="on_sale"?"":t.status})]}),g.jsx("h4",{className:"mb-2 text-foreground truncate",children:t.title}),g.jsxs("p",{className:"text-xl mb-2 text-accent",children:["",t.price.toLocaleString()]})]})]}),g.jsxs("div",{className:"flex flex-col border-l border-border",children:[n&&g.jsx("button",{onClick:a=>{a.stopPropagation(),n()},className:"flex-1 px-4 hover:bg-muted text-primary text-sm transition-colors border-b border-border",children:""}),i&&g.jsx("button",{onClick:a=>{a.stopPropagation(),i()},className:"flex-1 px-4 hover:bg-destructive/10 text-destructive text-sm transition-colors",children:""})]})]})}function mj({items:t,loading:e,onItemClick:n,onDelete:i,onEdit:a}){return e?g.jsx("div",{className:"flex justify-center py-10",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):t.length===0?g.jsx("div",{className:"text-center py-10 text-secondary",children:""}):g.jsx("div",{className:"space-y-4",children:t.map(l=>g.jsx(pj,{item:l,onClick:()=>n(l.id),onDelete:()=>i(l.id),onEdit:()=>a(l.id)},l.id))})}const rm=[{id:"4",title:"IKEA ",price:5e3,category:"",seller:""},{id:"5",title:"",price:8e3,category:"",seller:""},{id:"6",title:"",price:3e3,category:"",seller:""}];function gj({onNavigate:t,onSelectItem:e}){const{user:n}=Hn(),{items:i,loading:a,handleDelete:l}=hj(),[u,f]=ce.useState("items"),h=v=>{e(v),t("item-detail")},m=v=>{alert(""),console.log("Edit",v)};return g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:t}),g.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[g.jsxs("section",{className:"border border-border bg-card p-6 mb-6 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx("div",{className:"w-20 h-20 border-2 border-border rounded-full bg-muted overflow-hidden flex items-center justify-center",children:g.jsx("span",{className:"text-2xl",children:""})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl mb-1 text-primary",children:n?.user_metadata?.name||""}),g.jsx("p",{className:"text-sm text-secondary",children:n?.user_metadata?.department||""}),g.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-secondary",children:[g.jsx("span",{children:" 4.8"}),g.jsxs("span",{children:["",i.length,""]})]})]})]}),g.jsx("button",{onClick:()=>t("sell"),className:"w-full py-3 border-2 border-accent bg-accent text-white rounded hover:bg-[#FF7F50] transition-colors",children:""})]}),g.jsx("div",{className:"border-b-2 border-border mb-6",children:g.jsxs("div",{className:"flex",children:[g.jsxs("button",{onClick:()=>f("items"),className:`flex-1 py-3 border-2 border-b-0 rounded-t transition-colors ${u==="items"?"bg-card border-border text-primary -mb-[2px] border-b-2 border-b-card":"bg-muted border-border text-secondary hover:text-primary"}`,children:["",i.length,""]}),g.jsxs("button",{onClick:()=>f("favorites"),className:`flex-1 py-3 border-2 border-b-0 border-l-0 rounded-t transition-colors ${u==="favorites"?"bg-card border-border text-primary -mb-[2px] border-b-2 border-b-card":"bg-muted border-border text-secondary hover:text-primary"}`,children:["",rm.length,""]})]})}),u==="items"&&g.jsx(mj,{items:i,loading:a,onItemClick:h,onDelete:l,onEdit:m}),u==="favorites"&&g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:rm.map(v=>g.jsxs("button",{onClick:()=>h(v.id),className:"border border-border bg-card hover:shadow-md transition-all text-left rounded-lg overflow-hidden",children:[g.jsx("div",{className:"w-full h-48 border-b border-border bg-muted flex items-center justify-center",children:g.jsx("div",{className:"w-20 h-20 border-2 border-primary/30 rounded"})}),g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-xs mb-1 text-secondary",children:v.category}),g.jsx("h4",{className:"mb-2 text-foreground",children:v.title}),g.jsxs("p",{className:"text-xl mb-2 text-accent",children:["",v.price.toLocaleString()]}),g.jsxs("div",{className:"flex items-center gap-2 text-xs text-secondary",children:[g.jsx("div",{className:"w-5 h-5 border border-border rounded-full bg-muted"}),g.jsx("span",{children:v.seller})]})]})]},v.id))})]})]})}function vj({onNavigate:t}){const[e,n]=ce.useState(""),[i,a]=ce.useState(""),[l,u]=ce.useState(!1),f=async h=>{h.preventDefault(),u(!0);try{const{error:m}=await dt.auth.signInWithPassword({email:e,password:i});if(m){alert(m.message);return}t("home")}catch(m){alert(""),console.error(m)}finally{u(!1)}};return g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:t,showBack:!0}),g.jsxs("main",{className:"max-w-md mx-auto px-4 py-12",children:[g.jsxs("div",{className:"border border-border bg-card p-8 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-20 h-20 border-2 border-primary rounded-full mx-auto mb-4 bg-info/10"}),g.jsx("h2",{className:"text-2xl mb-2 text-primary",children:""}),g.jsx("p",{className:"text-sm text-secondary",children:""})]}),g.jsxs("form",{onSubmit:f,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-2 text-foreground",children:""}),g.jsx("input",{type:"email",required:!0,value:e,onChange:h=>n(h.target.value),placeholder:"example@student.university.ac.jp",className:"w-full p-3 border border-border rounded bg-card focus:outline-none focus:ring-2 focus:ring-primary"}),g.jsx("p",{className:"text-xs text-secondary mt-2",children:""})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-2 text-foreground",children:""}),g.jsx("input",{type:"password",required:!0,value:i,onChange:h=>a(h.target.value),placeholder:"",className:"w-full p-3 border border-border rounded bg-card focus:outline-none focus:ring-2 focus:ring-primary"})]}),g.jsx("button",{type:"submit",className:"w-full py-3 border-2 border-accent bg-accent text-white rounded hover:bg-[#FF7F50] transition-colors",children:""})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{className:"text-sm underline text-primary hover:text-[#5A8BFF]",children:""})}),g.jsxs("div",{className:"mt-8 pt-6 border-t border-border text-center",children:[g.jsx("p",{className:"text-sm mb-4 text-secondary",children:""}),g.jsx("button",{onClick:()=>t("register"),className:"w-full py-3 border-2 border-primary bg-card text-primary rounded hover:bg-primary hover:text-white transition-colors",children:""})]})]}),g.jsxs("div",{className:"mt-8 border border-warning bg-warning/10 p-4 rounded-lg",children:[g.jsx("h4",{className:"text-sm mb-2 text-foreground",children:" "}),g.jsxs("ul",{className:"text-xs space-y-1 text-secondary",children:[g.jsx("li",{children:""}),g.jsx("li",{children:""}),g.jsx("li",{children:""})]})]})]})]})}function yj({onNavigate:t}){const[e,n]=ce.useState({name:"",department:"",email:"",password:"",confirmPassword:"",agreedToTerms:!1}),[i,a]=ce.useState(!1),l=async u=>{if(u.preventDefault(),e.password!==e.confirmPassword){alert("");return}if(!e.agreedToTerms){alert("");return}a(!0);try{const{error:f}=await dt.auth.signUp({email:e.email,password:e.password,options:{data:{name:e.name,department:e.department}}});if(f){alert(f.message);return}alert(""),t("login")}catch(f){alert(""),console.error(f)}finally{a(!1)}};return g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:t,showBack:!0}),g.jsxs("main",{className:"max-w-md mx-auto px-4 py-12",children:[g.jsxs("div",{className:"border border-border bg-card p-8 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-20 h-20 border-2 border-primary rounded-full mx-auto mb-4 bg-info/10"}),g.jsx("h2",{className:"text-2xl mb-2 text-primary",children:""}),g.jsx("p",{className:"text-sm text-secondary",children:""})]}),g.jsxs("form",{onSubmit:l,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2 text-foreground",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("input",{type:"text",required:!0,value:e.name,onChange:u=>n({...e,name:u.target.value}),placeholder:"",className:"w-full p-3 border border-border rounded bg-card focus:outline-none focus:ring-2 focus:ring-primary"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2 text-foreground",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("input",{type:"text",required:!0,value:e.department,onChange:u=>n({...e,department:u.target.value}),placeholder:"3",className:"w-full p-3 border border-border rounded bg-card focus:outline-none focus:ring-2 focus:ring-primary"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2 text-foreground",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("input",{type:"email",required:!0,value:e.email,onChange:u=>n({...e,email:u.target.value}),placeholder:"example@student.university.ac.jp",className:"w-full p-3 border border-border rounded bg-card focus:outline-none focus:ring-2 focus:ring-primary"}),g.jsx("p",{className:"text-xs text-secondary mt-2",children:""})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2 text-foreground",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("input",{type:"password",required:!0,value:e.password,onChange:u=>n({...e,password:u.target.value}),placeholder:"8",className:"w-full p-3 border border-border rounded bg-card focus:outline-none focus:ring-2 focus:ring-primary"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm mb-2 text-foreground",children:[" ",g.jsx("span",{className:"text-destructive",children:"*"})]}),g.jsx("input",{type:"password",required:!0,value:e.confirmPassword,onChange:u=>n({...e,confirmPassword:u.target.value}),placeholder:"",className:"w-full p-3 border border-border rounded bg-card focus:outline-none focus:ring-2 focus:ring-primary"})]}),g.jsx("div",{className:"border border-border p-4 bg-muted rounded",children:g.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.agreedToTerms,onChange:u=>n({...e,agreedToTerms:u.target.checked}),className:"w-5 h-5 mt-1 flex-shrink-0 accent-primary"}),g.jsxs("span",{className:"text-sm text-foreground",children:[g.jsx("span",{className:"underline text-primary",children:""}),"",g.jsx("span",{className:"underline text-primary",children:""}),""]})]})}),g.jsx("button",{type:"submit",className:"w-full py-3 border-2 border-accent bg-accent text-white rounded hover:bg-[#FF7F50] transition-colors",children:""})]}),g.jsxs("div",{className:"mt-8 pt-6 border-t border-border text-center",children:[g.jsx("p",{className:"text-sm mb-4 text-secondary",children:""}),g.jsx("button",{onClick:()=>t("login"),className:"w-full py-3 border-2 border-primary bg-card text-primary rounded hover:bg-primary hover:text-white transition-colors",children:""})]})]}),g.jsxs("div",{className:"mt-8 border border-warning bg-warning/10 p-4 rounded-lg",children:[g.jsx("h4",{className:"text-sm mb-2 text-foreground",children:" "}),g.jsxs("ul",{className:"text-xs space-y-1 text-secondary",children:[g.jsx("li",{children:""}),g.jsx("li",{children:""}),g.jsx("li",{children:""}),g.jsx("li",{children:""})]})]})]})]})}const wj=async t=>{const{data:e,error:n}=await dt.from("chat_rooms").select(`
      *,
      item:items(title, images),
      buyer:users!buyer_id(name, avatar_url),
      seller:users!seller_id(name, avatar_url),
      last_message:messages(content, created_at, is_read)
    `).or(`buyer_id.eq.${t},seller_id.eq.${t}`).order("updated_at",{ascending:!1});if(n)throw n;return e};function _j({onNavigate:t}){const{user:e}=Hn(),[n,i]=ce.useState([]),[a,l]=ce.useState(!0);ce.useEffect(()=>{e&&wj(e.id).then(f=>{i(f),l(!1)})},[e]);const u=f=>{t("chat-room",{roomId:f})};return g.jsxs("div",{className:"min-h-screen pb-20 md:pb-8 bg-background",children:[g.jsx(nr,{title:"",onNavigate:t}),g.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6",children:a?g.jsx("div",{className:"flex justify-center py-10",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):n.length===0?g.jsx("div",{className:"text-center py-10 text-secondary",children:""}):g.jsx("div",{className:"space-y-4",children:n.map(f=>{const h=f.buyer_id===e?.id?f.seller:f.buyer,m=f.last_message?.[0]||{};return g.jsxs("button",{onClick:()=>u(f.id),className:"w-full border border-border bg-card hover:shadow-md transition-all text-left rounded-lg p-4 flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-muted overflow-hidden flex-shrink-0",children:h?.avatar_url?g.jsx("img",{src:h.avatar_url,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:""})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-start mb-1",children:[g.jsx("span",{className:"font-bold truncate text-foreground",children:h?.name||"Unknown"}),g.jsx("span",{className:"text-xs text-secondary",children:new Date(f.updated_at).toLocaleDateString()})]}),g.jsx("p",{className:"text-sm text-secondary truncate mb-1",children:f.item?.title||""}),g.jsx("p",{className:"text-sm text-foreground truncate",children:m.content||"..."})]})]},f.id)})})})]})}const bj=async t=>{const{data:e,error:n}=await dt.from("messages").select("*").eq("room_id",t).order("created_at",{ascending:!0});if(n)throw n;return e},xj=async(t,e,n)=>{const{error:i}=await dt.from("messages").insert({room_id:t,sender_id:e,content:n});if(i)throw i;await dt.from("chat_rooms").update({updated_at:new Date().toISOString()}).eq("id",t)};function kj(t,e){const[n,i]=ce.useState([]),[a,l]=ce.useState(!0);return ce.useEffect(()=>{if(!t)return;bj(t).then(h=>{i(h),l(!1)});const f=dt.channel(`room:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`room_id=eq.${t}`},h=>{i(m=>[...m,h.new])}).subscribe();return()=>{dt.removeChannel(f)}},[t]),{messages:n,loading:a,send:async f=>{await xj(t,e,f)}}}function Sj({roomId:t,onNavigate:e}){const{user:n}=Hn(),{messages:i,loading:a,send:l}=kj(t,n?.id||""),[u,f]=ce.useState(""),h=ce.useRef(null),m=()=>{h.current?.scrollIntoView({behavior:"smooth"})};ce.useEffect(()=>{m()},[i]);const v=async()=>{u.trim()&&(await l(u),f(""))};return n?g.jsxs("div",{className:"flex flex-col h-screen bg-background pb-20 md:pb-0",children:[g.jsx(nr,{title:"",onNavigate:e,showBack:!0}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a&&g.jsx("div",{className:"text-center",children:"Loading..."}),i.map(w=>{const _=w.sender_id===n.id;return g.jsx("div",{className:`flex ${_?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${_?"bg-primary text-primary-foreground rounded-br-none":"bg-card border border-border rounded-bl-none"}`,children:[g.jsx("p",{className:"whitespace-pre-wrap",children:w.content}),g.jsx("div",{className:`text-[10px] mt-1 text-right ${_?"text-primary-foreground/70":"text-secondary"}`,children:new Date(w.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},w.id)}),g.jsx("div",{ref:h})]}),g.jsx("div",{className:"p-4 border-t border-border bg-card",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:u,onChange:w=>f(w.target.value),onKeyDown:w=>w.key==="Enter"&&!w.nativeEvent.isComposing&&v(),placeholder:"...",className:"flex-1 p-3 border border-border rounded bg-muted focus:outline-none focus:ring-2 focus:ring-primary"}),g.jsx("button",{onClick:v,disabled:!u.trim(),className:"px-4 bg-primary text-primary-foreground rounded disabled:opacity-50",children:""})]})})]}):g.jsx("div",{children:"Auth required"})}function Ej(){const[t,e]=ce.useState("home"),[n,i]=ce.useState(""),[a,l]=ce.useState(""),[u,f]=ce.useState(""),h=(v,w)=>{e(v),w&&(w.itemId&&i(w.itemId),w.eventId&&l(w.eventId),w.roomId&&f(w.roomId))},m=()=>{switch(t){case"home":return g.jsx($h,{onNavigate:h});case"item-list":return g.jsx(j0,{onNavigate:h,onSelectItem:v=>h("item-detail",{itemId:v})});case"event-list":return g.jsx(aw,{onNavigate:h,onSelectEvent:v=>h("event-detail",{eventId:v})});case"event-detail":return g.jsx(lw,{eventId:a,onNavigate:h,onSelectItem:v=>h("item-detail",{itemId:v})});case"item-detail":return g.jsx(hb,{itemId:n,onNavigate:h});case"sell":return g.jsx(cj,{onNavigate:h});case"mypage":return g.jsx(gj,{onNavigate:h,onSelectItem:v=>h("item-detail",{itemId:v})});case"chat":return g.jsx(_j,{onNavigate:h});case"chat-room":return g.jsx(Sj,{roomId:u,onNavigate:h});case"login":return g.jsx(vj,{onNavigate:h});case"register":return g.jsx(yj,{onNavigate:h});case"admin":return g.jsx(AdminDashboard,{onNavigate:h});default:return g.jsx($h,{onNavigate:h})}};return g.jsxs("div",{className:"min-h-screen bg-background",children:[m(),t!=="login"&&t!=="register"&&g.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border flex justify-around p-3 md:hidden z-50",children:[g.jsxs("button",{onClick:()=>e("home"),className:`flex flex-col items-center text-xs ${t==="home"?"text-primary":"text-secondary"}`,children:[g.jsx("span",{className:"text-xl",children:""}),""]}),g.jsxs("button",{onClick:()=>e("item-list"),className:`flex flex-col items-center text-xs ${t==="item-list"?"text-primary":"text-secondary"}`,children:[g.jsx("span",{className:"text-xl",children:""}),""]}),g.jsxs("button",{onClick:()=>e("sell"),className:`flex flex-col items-center text-xs ${t==="sell"?"text-primary":"text-secondary"}`,children:[g.jsx("div",{className:"bg-accent text-white rounded-full w-10 h-10 flex items-center justify-center -mt-5 shadow-lg border-4 border-background",children:g.jsx("span",{className:"text-xl",children:""})}),""]}),g.jsxs("button",{onClick:()=>e("chat"),className:`flex flex-col items-center text-xs ${t==="chat"||t==="chat-room"?"text-primary":"text-secondary"}`,children:[g.jsx("span",{className:"text-xl",children:""}),""]}),g.jsxs("button",{onClick:()=>e("mypage"),className:`flex flex-col items-center text-xs ${t==="mypage"?"text-primary":"text-secondary"}`,children:[g.jsx("span",{className:"text-xl",children:""}),""]})]})]})}nw.createRoot(document.getElementById("root")).render(g.jsx(Ej,{}));
